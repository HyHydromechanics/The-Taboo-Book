(self.webpackChunkfe_banciyuan_web=self.webpackChunkfe_banciyuan_web||[]).push([["other-vender-800252ff"],{"./node_modules/@byted/local-video-sdk/dist/index.js":function(module){"undefined"!=typeof self&&self,module.exports=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=112)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),i=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){if((0,n.default)(this,e),!(t instanceof ArrayBuffer))throw"class Stream: buffer is invalid";this.buffer=t,this.dataview=new DataView(t),this.dataview.position=0}return(0,i.default)(e,[{key:"back",value:function(e){this.position-=e}},{key:"backTo",value:function(e){this.position=e}},{key:"skip",value:function(t){for(var r=Math.floor(t/4),n=t%4,i=0;i<r;i++)e.readByte(this.dataview,4);n>0&&e.readByte(this.dataview,n)}},{key:"readBuffer",value:function(e){return this.dataview.position+=e,this.buffer.slice(this.dataview.position-e,this.dataview.position)}},{key:"readFloat32",value:function(){var e=this.dataview;return e.getFloat32(e.position)}},{key:"readFloat64",value:function(){var e=this.dataview;return e.getFloat64(e.position)}},{key:"readString",value:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this.readUint8());return t}},{key:"readUint8",value:function(){return e.readByte(this.dataview,1)}},{key:"readUint16",value:function(t){return e.readByte(this.dataview,2,!1,t)}},{key:"readUint24",value:function(t){return e.readByte(this.dataview,3,!1,t)}},{key:"readUint32",value:function(t){return e.readByte(this.dataview,4,!1,t)}},{key:"readUint64",value:function(){return e.readByte(this.dataview,8)}},{key:"readInt8",value:function(){return e.readByte(this.dataview,1,!0)}},{key:"readInt16",value:function(){return e.readByte(this.dataview,2,!0)}},{key:"readInt32",value:function(){return e.readByte(this.dataview,4,!0)}},{key:"writeUint32",value:function(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}},{key:"length",get:function(){return this.buffer.byteLength}},{key:"position",set:function(e){this.dataview.position=e},get:function(){return this.dataview.position}}],[{key:"readByte",value:function(e,t,r,n){var i=void 0;switch(t){case 1:i=r?e.getInt8(e.position):e.getUint8(e.position);break;case 2:i=r?e.getInt16(e.position):e.getUint16(e.position,n);break;case 3:if(r)throw"not supported for readByte 3";n?(i=e.getUint8(e.position),i|=e.getUint16(e.position+1,n)<<8):(i=e.getUint16(e.position)<<8,i|=e.getUint8(e.position+2));break;case 4:i=r?e.getInt32(e.position):e.getUint32(e.position,n);break;case 8:if(r)throw"not supported for readBody 8";i=e.getUint32(e.position)<<32,i|=e.getUint32(e.position+4);break;default:i=""}return e.position+=t,i}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=o(r(3)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,n.default)(this,e),this.headerSize=8,this.size=0,this.type="",this.subBox=[],this.start=-1}return(0,i.default)(e,[{key:"readHeader",value:function(e,t){this.start=e.position,this.size=e.readUint32();var r=0===this.size&&t;if(0===this.size&&t&&(this.size=e.readUint32()),this.type=e.readString(4),1===this.size)this.size=e.readUint64();else if(0===this.size&&"mdat"!==this.type)throw"parse mp4 mdat box failed";if("uuid"===this.type)for(var n=[],i=0;i<16;i++)n.push(e.readUint8());this.headerSize=r?e.position-this.start-4:e.position-this.start,this.bodySize=this.size-this.headerSize}},{key:"readBody",value:function(t){var r=this.type;this.data=t.buffer.slice(t.position,t.position+this.bodySize),t.position+=this.data.byteLength;var n=void 0;(n=e.containerBox.find(function(e){return e===r})?e.containerParser:e[r])&&n instanceof Function&&n.call(this)}},{key:"read",value:function(e){this.readHeader(e),this.readBody(e)}}],[{key:"containerParser",value:function(){var t=!1;"meta"===this.type&&(t=!0);for(var r=new a.default(this.data),n=r.buffer.byteLength;r.position<n;){var i=new e;i.readHeader(r,t),t&&(t=!1),this.subBox.push(i),i.readBody(r)}delete this.data,r=null}}]),e}();s.containerBox=["moov","trak","edts","mdia","minf","dinf","stbl","mvex","moof","traf","mfra","udta","meta"],t.default=s,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(133),a=(n=i)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t){var r=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORMAT={MP4:"video/mp4",QuickTime:"video/quicktime","3GPP":"video/3gpp","3GPP2":"video/3gpp2",MJP2:"video/mj2",TS:"video/mp2t",FLV:"video/x-flv",WEBM:"video/webm",MKV:"video/x-matroska",M3U8:"application/vnd.apple.mpegURL",GIF:"image/gif",JPEG:"image/jpeg",PNG:"image/png",WEBP:"image/webp",AVI:"video/avi",MPEG:"video/mpeg",M4V:"video/x-m4v",WMV_ASF:"video/x-ms-asf",MP3:"audio/mpeg"}},function(e,t,r){var n=r(7),i=r(4),a=r(15),o=r(16),s=r(23),u=function(e,t,r){var f,c,l,d=e&u.F,h=e&u.G,p=e&u.S,v=e&u.P,m=e&u.B,g=e&u.W,y=h?i:i[t]||(i[t]={}),b=y.prototype,_=h?n:p?n[t]:(n[t]||{}).prototype;for(f in h&&(r=t),r)(c=!d&&_&&void 0!==_[f])&&s(y,f)||(l=c?_[f]:r[f],y[f]=h&&"function"!=typeof _[f]?r[f]:m&&c?a(l,n):g&&_[f]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):v&&"function"==typeof l?a(Function.call,l):l,v&&((y.virtual||(y.virtual={}))[f]=l,e&u.R&&b&&!b[f]&&o(b,f,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(57)("wks"),i=r(45),a=r(7).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t,r){e.exports=r(131)},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(24),a=(n=i)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,r){return function n(i,o){try{var s=t[i](o),u=s.value}catch(e){return void r(e)}if(!s.done)return a.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}},function(e,t,r){var n=r(13),i=r(73),a=r(54),o=Object.defineProperty;t.f=r(14)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(12);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(34);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(11),i=r(35);e.exports=r(14)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){e.exports={default:r(154),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(66),a=(n=i)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,a.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(166)),i=o(r(170)),a=o(r(66));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(24)),i=u(r(2)),a=u(r(3)),o=u(r(64)),s=u(r(71));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,i.default)(this,e),(0,o.default)(this),this.fileBlob=t,this.fileBlob instanceof Blob||this.fileBlob instanceof ArrayBuffer?this.meta={lastModified:t.lastModified,name:t.name,size:t.size||t.byteLength,type:t.type}:this.onError("class VideoMeta: fileBlob must be a blob or ArrayBuffer object")}return(0,a.default)(e,[{key:"onError",value:function(e){this.emit("error",e),this.meta||(this.meta={}),this.meta.isParsed=!1,this.meta.msg=e.msg||e.message||e,this.emit("metaReady",this.meta)}},{key:"getBuffer",value:function(e,t){var r=this,i=this,a=void 0===e&&void 0===t?null:[e,t];return new n.default(function(e,t){new s.default(r.fileBlob,a,e).once("error",function(e){i.onError(e),t(e)})})}}]),e}();t.default=f,e.exports=t.default},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(238),i=r(239),a=r(240);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return f(this,e,t,r)}function f(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return N(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function f(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(f(e,a)===f(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var l=!0,d=0;d<u;d++)if(f(e,a+d)!==f(t,d)){l=!1;break}if(l)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function b(e,t,r,n){return q(N(t,e.length-r),e,r,n)}function _(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function x(e,t,r,n){return q(F(t),e,r,n)}function k(e,t,r,n){return q(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,f=e[i],c=null,l=f>239?4:f>223?3:f>191?2:1;if(i+l<=r)switch(l){case 1:f<128&&(c=f);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&f)<<6|63&a)>127&&(c=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&f)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&f)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return f(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),f=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(f[l]!==c[l]){a=f[l],o=c[l];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function U(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=z(e[a]);return i}function O(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,r,n,a){return a||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,a){return a||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=u.isBuffer(e)?e:N(new u(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(28))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){e.exports={default:r(114),__esModule:!0}},function(e,t,r){"use strict";var n=r(115)(!0);r(52)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports={}},function(e,t,r){var n=r(55),i=r(51);e.exports=function(e){return n(i(e))}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,f=[],c=!1,l=-1;function d(){c&&u&&(c=!1,u.length?f=u.concat(f):l=-1,f.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=f.length;t;){for(u=f,f=[];++l<t;)u&&u[l].run();l=-1,t=f.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new p(e,t)),1!==f.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function a(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(a(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(a(t,"type"))}return o+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var i=r(100),a=r(105);r(31)(f,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var u=o[s];f.prototype[u]||(f.prototype[u]=a.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||t.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(29))},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(11).f,i=r(23),a=r(8)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){var n=r(51);e.exports=function(e){return Object(n(e))}},function(e,t,r){r(120);for(var n=r(7),i=r(16),a=r(26),o=r(8)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var f=s[u],c=n[f],l=c&&c.prototype;l&&!l[o]&&i(l,o,f),a[f]=a.Array}},function(e,t,r){var n=r(15),i=r(79),a=r(80),o=r(13),s=r(44),u=r(60),f={},c={};(t=e.exports=function(e,t,r,l,d){var h,p,v,m,g=d?function(){return e}:u(e),y=n(r,l,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(h=s(e.length);h>b;b++)if((m=t?y(o(p=e[b])[0],p[1]):y(e[b]))===f||m===c)return m}else for(v=g.call(e);!(p=v.next()).done;)if((m=i(v,y,p.value,t))===f||m===c)return m}).BREAK=f,t.RETURN=c},function(e,t,r){e.exports={default:r(128),__esModule:!0}},function(e,t,r){var n=r(13),i=r(117),a=r(58),o=r(56)("IE_PROTO"),s=function(){},u=function(){var e,t=r(53)("iframe"),n=a.length;for(t.style.display="none",r(76).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(75),i=r(58);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(50),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(36),i=r(8)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(110),i=r(111);var a=r(111);t.EndOfStreamError=a.EndOfStreamError,t.StreamReader=class{constructor(e){if(this.s=e,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new i.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,t,r){const n=await this.read(e,t,r);return this.peekQueue.push(e.slice(t,t+n)),n}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new i.EndOfStreamError;let n=r,a=0;for(;this.peekQueue.length>0&&n>0;){const r=this.peekQueue.pop(),i=Math.min(r.length,n);r.copy(e,t+a,0,i),a+=i,n-=i,i<r.length&&this.peekQueue.push(r.slice(i))}for(;n>0&&!this.endOfStream;){const r=Math.min(n,1048576),i=await this._read(e,t+a,r);if(a+=i,i<r)break;n-=i}return a}async _read(e,t,r){n.ok(!this.request,"Concurrent read operation?");const i=this.s.read(r);return i?(i.copy(e,t),i.length):(this.request={buffer:e,offset:t,length:r,deferred:new class{constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}},this.s.once("readable",()=>{this.tryRead()}),this.request.deferred.promise.then(e=>(this.request=null,e),e=>{throw this.request=null,e}))}tryRead(){const e=this.s.read(this.request.length);e?(e.copy(this.request.buffer,this.request.offset),this.request.deferred.resolve(e.length)):this.s.once("readable",()=>{this.tryRead()})}reject(e){this.endOfStream=!0,this.request&&(this.request.deferred.reject(e),this.request=null)}}},function(e,t){},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";var n=r(33),i=r(6),a=r(74),o=r(16),s=r(26),u=r(116),f=r(37),c=r(77),l=r(8)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,p,v,m,g){u(r,t,p);var y,b,_,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",k="values"==v,S=!1,E=e.prototype,T=E[l]||E["@@iterator"]||v&&E[v],U=T||w(v),M=v?k?w("entries"):U:void 0,I="Array"==t&&E.entries||T;if(I&&(_=c(I.call(new e)))!==Object.prototype&&_.next&&(f(_,x,!0),n||"function"==typeof _[l]||o(_,l,h)),k&&T&&"values"!==T.name&&(S=!0,U=function(){return T.call(this)}),n&&!g||!d&&!S&&E[l]||o(E,l,U),s[t]=U,s[x]=h,v)if(y={values:k?U:w("values"),keys:m?U:w("keys"),entries:M},g)for(b in y)b in E||a(E,b,y[b]);else i(i.P+i.F*(d||S),t,y);return y}},function(e,t,r){var n=r(12),i=r(7).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(12);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(36);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(57)("keys"),i=r(45);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(4),i=r(7),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(33)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(46),i=r(8)("iterator"),a=r(26);e.exports=r(4).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){"use strict";var n=r(34);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t,r){var n=r(16);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n,i,a,o,s,u,f,c=r(136),l=r(150),d=Function.prototype.apply,h=Function.prototype.call,p=Object.create,v=Object.defineProperty,m=Object.defineProperties,g=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};i=function(e,t){var r,i;return l(t),i=this,n.call(this,e,r=function(){a.call(i,e,r),d.call(t,this,arguments)}),r.__eeOnceListener__=t,this},s={on:n=function(e,t){var r;return l(t),g.call(this,"__ee__")?r=this.__ee__:(r=y.value=p(null),v(this,"__ee__",y),y.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:i,off:a=function(e,t){var r,n,i,a;if(l(t),!g.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(a=0;i=n[a];++a)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[a?0:1]:n.splice(a,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:o=function(e){var t,r,n,i,a;if(g.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,a=new Array(r-1),t=1;t<r;++t)a[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)d.call(n,this,a)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),t=1;t<r;++t)a[t-1]=arguments[t];d.call(i,this,a)}}},u={on:c(n),once:c(i),off:c(a),emit:c(o)},f=m({},u),e.exports=t=function(e){return null==e?p(f):m(Object(e),u)},t.methods=s},function(e,t,r){"use strict";var n=r(143)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(157)),i=o(r(159)),a="function"==typeof i.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===a(n.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,r){t.f=r(8)},function(e,t,r){var n=r(45)("meta"),i=r(12),a=r(23),o=r(11).f,s=0,u=Object.isExtensible||function(){return!0},f=!r(22)(function(){return u(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return f&&l.NEED&&u(e)&&!a(e,n)&&c(e),e}}},function(e,t,r){var n=r(7),i=r(4),a=r(33),o=r(67),s=r(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),i=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){(0,n.default)(this,e);var t=new Date;t.setFullYear(1904),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),this.time=t}return(0,i.default)(e,[{key:"setTime",value:function(e){return this.time.setTime(this.time.getTime()+1*e),this.time.toLocaleString()}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=o(r(3)),a=o(r(64));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,i){var o=this;if((0,n.default)(this,e),(0,a.default)(this),this.fileBlob=t,this.file=t,this.range=r,"[object String]"===Object.prototype.toString.call(t))this.xhr=new XMLHttpRequest,this.xhr.onload=function(){var e=o.xhr.response;i(e)},this.xhr.open("GET",t),this.range[1]&&this.xhr.setRequestHeader("Range","bytes="+this.range[0]+"-"+this.range[1]),this.xhr.responseType="arraybuffer",this.xhr.send();else if(t instanceof Blob)this.fileReader=new FileReader,r&&(this.file=this.fileBlob.slice(this.range[0],this.range[1])),this.fileReader.onload=function(e){i(e.target.result),o.remove()},this.fileReader.onerror=function(e){o.emit("error",e)},this.fileReader.readAsArrayBuffer(this.file);else{var s=t;r&&(s=t.slice(this.range[0],this.range[1])),i(s)}}return(0,i.default)(e,[{key:"remove",value:function(){this.fileBlob=null,this.file=null,this.fileReader.onload=null,this.fileReader.onerror=null}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";var n=r(30).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||i);var o=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||c()},f=t._writableState&&t._writableState.finished,c=function(){s=!1,f=!0,o||a.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,l=!0,s||a.call(t)},h=function(e){a.call(t,e)},p=function(){var e;return o&&!l?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):s&&!f?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},v=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",p),t.req?v():t.on("request",v)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",c),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,r){e.exports=!r(14)&&!r(22)(function(){return 7!=Object.defineProperty(r(53)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports=r(16)},function(e,t,r){var n=r(23),i=r(27),a=r(118)(!1),o=r(56)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,f=[];for(r in s)r!=o&&n(s,r)&&f.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~a(f,r)||f.push(r));return f}},function(e,t,r){var n=r(7).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(23),i=r(38),a=r(56)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(13);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,r){var n=r(26),i=r(8)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){var n=r(13),i=r(34),a=r(8)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},function(e,t,r){var n,i,a,o=r(15),s=r(123),u=r(76),f=r(53),c=r(7),l=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};d&&h||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},h=function(e){delete g[e]},"process"==r(36)(l)?n=function(e){l.nextTick(o(y,e,1))}:v&&v.now?n=function(e){v.now(o(y,e,1))}:p?(a=(i=new p).port2,i.port1.onmessage=b,n=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in f("script")?function(e){u.appendChild(f("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:d,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(13),i=r(12),a=r(61);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(7),i=r(4),a=r(11),o=r(14),s=r(8)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(8)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},e(a)}catch(e){}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=ue(r(9)),i=ue(r(10)),a=ue(r(17)),o=ue(r(2)),s=ue(r(3)),u=ue(r(18)),f=ue(r(19)),c=ue(r(0)),l=ue(r(1)),d=ue(r(173)),h=ue(r(174)),p=ue(r(175)),v=ue(r(176)),m=ue(r(177)),g=ue(r(178)),y=ue(r(179)),b=ue(r(180)),_=ue(r(181)),w=ue(r(182)),x=ue(r(183)),k=ue(r(184)),S=ue(r(185)),E=ue(r(186)),T=ue(r(187)),U=ue(r(188)),M=ue(r(189)),I=ue(r(190)),O=ue(r(191)),B=ue(r(192)),A=ue(r(193)),P=ue(r(194)),R=ue(r(195)),L=ue(r(196)),C=ue(r(197)),j=ue(r(198)),D=ue(r(199)),z=ue(r(200)),N=ue(r(201)),F=ue(r(202)),q=ue(r(203)),V=ue(r(204)),W=ue(r(205)),G=ue(r(206)),H=ue(r(207)),Y=ue(r(208)),J=ue(r(209)),K=ue(r(210)),Q=ue(r(211)),X=ue(r(212)),Z=ue(r(213)),$=ue(r(214)),ee=ue(r(215)),te=ue(r(216)),re=ue(r(217)),ne=ue(r(218)),ie=ue(r(219)),ae=r(220),oe=ue(r(20)),se=r(5);function ue(e){return e&&e.__esModule?e:{default:e}}var fe={};function ce(e,t,r){var n=e;t.map(function(e,i){n[e]=i==t.length-1?r:n[e]||{},n=n[e]})}ce(fe,["parse","box","avc1"],ne.default),ce(fe,["parse","box","avcC"],re.default),ce(fe,["parse","box","btrt"],te.default),ce(fe,["parse","box","co64"],ee.default),ce(fe,["parse","box","colr"],$.default),ce(fe,["parse","box","ctts"],Z.default),ce(fe,["parse","box","dref"],X.default),ce(fe,["parse","box","elst"],Q.default),ce(fe,["parse","box","enca"],K.default),ce(fe,["parse","box","encv"],J.default),ce(fe,["parse","box","esds"],Y.default),ce(fe,["parse","box","ftyp"],H.default),ce(fe,["parse","box","hdlr"],G.default),ce(fe,["parse","box","hmhd"],W.default),ce(fe,["parse","box","ilst"],V.default),ce(fe,["parse","box","iods"],q.default),ce(fe,["parse","box","keys"],F.default),ce(fe,["parse","box","mdat"],N.default),ce(fe,["parse","box","mdhd"],z.default),ce(fe,["parse","box","mfhd"],D.default),ce(fe,["parse","box","mp4a"],j.default),ce(fe,["parse","box","MP4DecConfigDescrTag"],C.default),ce(fe,["parse","box","MP4DecSpecificDescrTag"],L.default),ce(fe,["parse","box","MP4ESDescrTag"],R.default),ce(fe,["parse","box","mvhd"],P.default),ce(fe,["parse","box","nmhd"],A.default),ce(fe,["parse","box","pasp"],B.default),ce(fe,["parse","box","sbgp"],O.default),ce(fe,["parse","box","sdtp"],I.default),ce(fe,["parse","box","SLConfigDescriptor"],M.default),ce(fe,["parse","box","smhd"],U.default),ce(fe,["parse","box","stco"],T.default),ce(fe,["parse","box","stsc"],E.default),ce(fe,["parse","box","stsd"],S.default),ce(fe,["parse","box","stsh"],k.default),ce(fe,["parse","box","stss"],x.default),ce(fe,["parse","box","stsz"],w.default),ce(fe,["parse","box","stts"],_.default),ce(fe,["parse","box","stz2"],b.default),ce(fe,["parse","box","tfhd"],y.default),ce(fe,["parse","box","tkhd"],g.default),ce(fe,["parse","box","traf"],m.default),ce(fe,["parse","box","trun"],v.default),ce(fe,["parse","box","udta"],p.default),ce(fe,["parse","box","url"],h.default),ce(fe,["parse","box","vmhd"],d.default);var le=function(e){function t(e){(0,o.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return r._boxes=[],r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"moovParse",value:function(e){var t=(0,ae.metaParse)(e);this.meta.size&&t.duration&&(t.bitrate=8*this.meta.size/t.duration/1e3),this.meta=(0,ie.default)(this.meta,t),this.emit("metaReady",this.meta)}},{key:"getBox",value:function(){var e=(0,i.default)(n.default.mark(function e(t,r){var i,a,o,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,a=void 0,o=t,e.next=3,this.getBuffer(o,o+32);case 3:if(a=e.sent,i=new c.default(a),(s=new l.default).readHeader(i),o+=s.headerSize,s.type!==r){e.next=14;break}return e.next=11,this.getBuffer(o,o+s.bodySize);case 11:a=e.sent,i=new c.default(a);try{s.readBody(i)}catch(e){console.log(e)}case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r,i,a,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fileBlob instanceof Blob||this.fileBlob instanceof ArrayBuffer){e.next=3;break}return this.onError("class Mp4: fileBlob must be a Blob or ArrayBuffer object"),e.abrupt("return");case 3:return t=0,r=void 0,e.next=6,this.getBox(0,"ftyp");case 6:if("ftyp"===(i=e.sent).type){e.next=10;break}return this.onError("class Mp4: file type not mp4"),e.abrupt("return");case 10:this._boxes.push(i),a=!1,o=!1,this.meta.isProgressive=!0,t+=i.size;case 15:if(!(t<(this.fileBlob.size||this.fileBlob.byteLength))){e.next=29;break}return e.next=18,this.getBox(t,"moov");case 18:if(r=e.sent,this._boxes.push(r),t+=r.size,"mdat"===r.type&&(o=!0),"moov"!==r.type){e.next=27;break}o&&(this.meta.isProgressive=!1);try{this.moovParse(r)}catch(e){this.onError(e)}return a=!0,e.abrupt("break",29);case 27:e.next=15;break;case 29:a||this.onError("class Mp4: moov not found!");case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"probe",value:function(e){try{var t=new l.default;if(t.readHeader(e),e.position=0,e.skip(t.headerSize),t.readBody(e),"ftyp"!=t.type)return!1;for(var r=0;r<t.compatible_brands.length;r++){var n=t.compatible_brands[r];if(-1!==n.indexOf("mp41")||-1!==n.indexOf("mp42")||-1!==n.indexOf("isom"))return se.FORMAT.MP4;if(-1!==n.indexOf("3gp4")||-1!==n.indexOf("3gp5"))return se.FORMAT["3GPP"];if(-1!==n.indexOf("3g2a"))return se.FORMAT["3GPP2"];if(-1!==n.indexOf("qt"))return se.FORMAT.QuickTime;if(-1!==n.indexOf("M4V"))return se.FORMAT.M4V}}catch(e){return!1}return!1}}]),t}(oe.default);t.default=le,e.exports=t.default},function(e,t,r){var n=r(36);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(75),i=r(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(47),i=r(35),a=r(27),o=r(54),s=r(23),u=r(73),f=Object.getOwnPropertyDescriptor;t.f=r(14)?f:function(e,t){if(e=a(e),t=o(t,!0),u)try{return f(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={findBox:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.type!==t){if(e&&e.subBox){var i=e.subBox.filter(function(e){return e.type===t});i.length?i.forEach(function(e){return r.push(e)}):e.subBox.forEach(function(e){return n.findBox(e,t,r)})}}else r.push(e);return(r=[].concat(r)).length>1?r:r[0]},padStart:function(e,t,r){for(var n=String(r),i=t>>0,a=Math.ceil(i/n.length),o=[],s=String(e);a--;)o.push(n);return o.join("").substring(0,i-s.length)+s},toHex:function(){for(var e=[],t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return r.forEach(function(t){e.push(n.padStart(Number(t).toString(16),2,0))}),e},sum:function(){for(var e=0,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){e+=t}),e},stscOffset:function(e,t){var r=e.entries.filter(function(e){return e.first_sample<=t&&t<e.first_sample+e.chunk_count*e.samples_per_chunk})[0];if(r){var n=Math.floor((t-r.first_sample)/r.samples_per_chunk),i=r.first_sample+n*r.samples_per_chunk;return{chunk_index:r.first_chunk+n,samples_offset:[i,t]}}var a=e.entries.pop();e.entries.push(a);var o=Math.floor((t-a.first_sample)/a.samples_per_chunk);return{chunk_index:a.first_chunk+o,samples_offset:[a.first_sample+a.samples_per_chunk*o,t]}},seekSampleOffset:function(e,t,r,i,a){var o=n.stscOffset(e,i+1),s=t.entries[o.chunk_index-1]+n.sum.apply(null,r.entries.slice(o.samples_offset[0]-1,o.samples_offset[1]-1))-a;if(void 0===s)throw"result="+s+",stco.length="+t.entries.length+",sum="+n.sum.apply(null,r.entries.slice(0,i));if(s<0)throw"result="+s+",stco.length="+t.entries.length+",sum="+n.sum.apply(null,r.entries.slice(0,i));return s},seekSampleTime:function(e,t,r){var n=void 0,i=void 0,a=0,o=0,s=0;if(e.entry.every(function(e){return i=e.sampleDuration,r<a+e.sampleCount?(n=o+(r-a)*e.sampleDuration,!1):(a+=e.sampleCount,o+=e.sampleCount*i,!0)}),t){var u=0;t.entry.every(function(e){return u+=e.count,!(r<u&&(s=e.offset,1))})}return n||(n=o+(r-a)*i),{time:n,duration:i,offset:s}},seekOrderSampleByTime:function(e,t,r){var n=0,i=0,a=0,o=void 0;return e.every(function(e,s){return o=e.sampleCount*e.sampleDuration/t,r<=n+o?(i=a+Math.ceil((r-n)*t/e.sampleDuration),n+=Math.ceil((r-n)*t/e.sampleDuration)*e.sampleDuration/t,!1):(n+=o,a+=e.sampleCount,!0)}),{order:i,startTime:n}},seekTrakDuration:function(e,t){var r=n.findBox(e,"stts"),i=0;return r.entry.forEach(function(e){i+=e.sampleCount*e.sampleDuration}),Number(i/t).toFixed(4)}};t.default=n,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),i=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,n.default)(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return(0,i.default)(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;if(e>32)throw new Error("Cannot read more than 32 bits at a time");return this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n}},{key:"readSPS",value:function(){var e,t,r,n,i,a,o,s=0,u=0,f=0,c=0,l=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),m=this.skipEG.bind(this),g=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(l(),e=l(),d(5),v(3),l(),g(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&v(1),g(),g(),v(1),p())for(a=3!==b?8:12,o=0;o<a;o++)p()&&y(o<6?16:64)}g();var _=h();if(0===_)h();else if(1===_)for(v(1),m(),m(),t=h(),o=0;o<t;o++)m();g(),v(1),r=h(),n=h(),0===(i=d(1))&&v(1),v(1),p()&&(s=h(),u=h(),f=h(),c=h());var w=[1,1];if(p()&&p())switch(l()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[l()<<8|l(),l()<<8|l()]}return{width:Math.ceil(16*(r+1)-2*s-2*u),height:(2-i)*(n+1)*16-(i?2:4)*(f+c),pixelRatio:w}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(2)),i=f(r(3)),a=f(r(222)),o=f(r(0)),s=r(5),u=f(r(92));function f(e){return e&&e.__esModule?e:{default:e}}var c={1:["video","MPEG-1"],2:["video","MPEG-2"],27:["video","AVC.H264"],234:["video","VC-1"],3:["audio","MPEG-1"],4:["audio","MPEG-2"],15:["audio","MPEG-2.AAC"],17:["audio","MPEG-4.AAC"],128:["audio","LPCM"],129:["audio","AC3"],6:["audio","AC3"],130:["audio","DTS"],131:["audio","Dolby TrueHD"],132:["audio","AC3-Plus"],133:["audio","DTS-HD"],134:["audio","DTS-MA"],161:["audio","AC3-Plus-SEC"],162:["audio","DTS-HD-SEC"]},l=function(){function e(t){(0,n.default)(this,e);var r=new o.default(t);this.header=new e.Header(r),this.body=new e.Payload(r,this)}return(0,i.default)(e,null,[{key:"probe",value:function(e){try{var t=e.readUint8();e.skip(187);var r=e.readUint8();if(71==t&&71==r)return s.FORMAT.TS}catch(e){return!1}return!1}},{key:"Header",value:function(e){if(this.sync=e.readUint8(),71!==this.sync)throw new Error("this is not ts packet");var t=e.readUint16();this.error=t>>>15,this.payload_unit_start_indicator=t>>>14&1,this.priority=t>>>13&1,this.pid=8191&t,t=e.readUint8(),this.scrambling=t>>6&3,this.adaptation=t>>4&3,this.continuity=15&t,this.packet=0===this.pid?"PAT":"MEDIA"}},{key:"Payload",value:function(t,r){var n=r.header.pid,i=void 0;switch(n){case 0:i=new e.PAT(t);break;case 1:i=new e.CAT(t);break;case 2:i=new e.TSDT(t);break;case 8191:i=!1;break;default:if(e.PATSpace.some(function(e){return e.pid===n}))i=new e.PMT(t,r);else{var a=e.PMTSpace?e.PMTSpace.filter(function(e){return e.pid===n}):[];i=!!a.length&&new e.Media(t,r,c[a[0].streamType][0])}}return i}},{key:"PAT",value:function(t){var r=t.readUint8();t.skip(r),r=t.readUint8(),this.tabelID=r,r=t.readUint16(),this.error=r>>>7,this.zero=r>>>6&1,this.sectionLength=4095&r,this.streamID=t.readUint16(),this.current=1&t.readUint8(),this.sectionNumber=t.readUint8(),this.lastSectionNumber=t.readUint8();for(var n=(this.sectionLength-9)/4,i=[],a=0;a<n;a++){var o=t.readUint16(),s=8191&t.readUint16();i.push({program:o,pid:s,type:0===o?"network":"mapPID"})}this.list=i,e.PATSpace=e.PATSpace.concat(i),this.program=t.readUint16(),this.pid=8191&t.readUint16(),t.dataview.byteLength-t.position>=4&&(this.crc32=t.readUint32())}},{key:"PMT",value:function(t,r){var n=this;r.header.packet="PMT";var i=t.readUint8();t.skip(i),i=t.readUint8(),this.tableID=i,i=t.readUint16(),this.sectionLength=4095&i,this.program=t.readUint16(),this.current=1&t.readUint8(),this.order=t.readUint8(),this.lastOrder=t.readUint8(),this.PCR_PID=8191&t.readUint16(),this.programLength=4095&t.readUint16(),t.skip(this.programLength);for(var a=(this.sectionLength-this.programLength-13)/5,o=[],s=0;s<a;s++)o.push({streamType:t.readUint8(),pid:8191&t.readUint16(),es:4095&t.readUint16()});this.list=o,e.PMTSpace||(e.PMTSpace=[]),e.PMTSpace=e.PMTSpace.concat(o.map(function(e){return{pid:e.pid,es:e.es,streamType:e.streamType,program:n.program}})),t.dataview.byteLength-t.position>=4&&(this.crc32=t.readUint32())}},{key:"Media",value:function(e,t,r){var n=t.header;if(this.start=e.position,this.type=r,3===n.adaptation&&(this.adaptationLength=e.readUint8(),this.adaptationLength>0&&this.adaptationLength<183)){var i=e.readUint8();this.discontinue=i>>>7,this.access=i>>>6&1,this.priority=i>>>5&1,this.PCR=i>>>4&1,this.OPCR=i>>>3&1,this.splicePoint=i>>>2&1,this.transportPrivate=i>>>1&1,this.adaptationField=1&i;var a=e.position;if(1===this.PCR&&(this.programClockBase=e.readUint32()<<1,i=e.readUint16(),this.programClockBase|=i>>>15,this.programClockExtension=511&i),1===this.OPCR&&(this.originProgramClockBase=e.readUint32()<<1,i=e.readUint16(),this.originProgramClockBase+=i>>>15,this.originProgramClockExtension=511&i),1===this.splicePoint&&(this.spliceCountdown=e.readUint8()),1===this.transportPrivate)for(var s=e.readUint8(),u=[],f=0;f<s;f++)u.push(e.readUint8());if(1===this.adaptationField){var c=e.readUint8(),l=e.readUint8(),d=e.position,h=l>>>6&1,p=l>>>5&1;1==l>>>7&&(l=e.readUint16(),this.ltwValid=l>>>15,this.ltwOffset=61439&l),1===h&&(l=e.readUint24(),this.piecewiseRate=4194303&l),1===p&&(l=e.readInt8(),this.spliceType=l>>>4,this.dtsNextAU1=l>>>1&7,this.marker1=1&l,l=e.readUint16(),this.dtsNextAU2=l>>>1,this.marker2=1&l,l=e.readUint16(),this.dtsNextAU3=l),e.skip(c-1-(e.position-d))}var v=this.adaptationLength-1-(e.position-a);e.skip(v)}this.buffer=new o.default(e.buffer.slice(e.position))}},{key:"PES",value:function(t){var r=t[0],n=r.body.buffer,i=n.readUint24();if(this.header=r.header,this.body=r.body,1!==i)throw new Error("this is not pes packet");var a=n.readUint8();a>=224&&a<=239&&(this.type="video"),a>=192&&a<=223&&(this.type="audio");var o=n.readUint16();if(this.packetLength=o,"video"!==this.type&&"audio"!==this.type)throw new Error("format is not supported");var s=n.readUint8();if(2!=s>>>6)throw new Error("error when parse pes header");s=n.readUint8(),this.ptsDTSFlag=s>>>6,this.escrFlag=s>>>5&1,this.esRateFlag=s>>>4&1,this.dsmFlag=s>>>3&1,this.additionalFlag=s>>>2&1,this.crcFlag=s>>>1&1,this.extensionFlag=1&s,this.pesHeaderLength=n.readUint8();var u=this.pesHeaderLength;if(2===this.ptsDTSFlag){var f=[];s=n.readUint8(),f.push(s>>>1&7),s=n.readUint16(),f.push(s>>>1),s=n.readUint16(),f.push(s>>>1),this.pts=f[0]<<30|f[1]<<15|f[2],u-=5,"video"===this.type&&(this.dts=this.pts)}if(3===this.ptsDTSFlag){var c=[];s=n.readUint8(),c.push(s>>>1&7),s=n.readUint16(),c.push(s>>>1),s=n.readUint16(),c.push(s>>>1),this.pts=c[0]<<30|c[1]<<15|c[2];var l=[];s=n.readUint8(),l.push(s>>>1&7),s=n.readUint16(),l.push(s>>>1),s=n.readUint16(),l.push(s>>>1),this.dts=l[0]<<30|l[1]<<15|l[2],u-=10}if(1===this.escrFlag){var d=[],h=[];s=n.readUint8(),d.push(s>>>3&7),d.push(3&s),s=n.readUint16(),d.push(s>>>13),d.push(3&s),s=n.readUint16(),d.push(s>>>13),h.push(3&s),s=n.readUint8(),h.push(s>>>1),this.escr=300*(d[0]<<30|d[1]<<28|d[2]<<15|d[3]<<13|d[4])+(h[0]<<7|h[1]),u-=6}if(1===this.esRateFlag&&(s=n.readUint24(),this.esRate=s>>>1&4194303,u-=3),1===this.dsmFlag)throw new Error("not support DSM_trick_mode");if(1===this.additionalFlag&&(s=n.readUint8(),this.additionalCopyInfo=127&s,u-=1),1===this.crcFlag&&(this.pesCRC=n.readUint16(),u-=2),1===this.extensionFlag)throw new Error("not support extension");u>0&&n.skip(u),this.body.ES=new e.ES(n,this.type,t.slice(1))}},{key:"ES",value:function(t,r,n){var i=void 0;if("video"===r){if(1!==(i=t.readUint32())&&(t.back(4),1!==(i=t.readUint24())))throw new Error("h264 nal header parse failed");t.skip(2),this.sps=function(e){var t=[],r=void 0,n=!0,i=!1;if(1===e.readUint32())do{if(r=e.readUint8(),!i){if(7!=(31&r)){n=!1,e.back(5);break}i=!0}0!==r?t.push(r):1===(r=e.readUint24())?(n=!1,e.back(4)):(e.back(4),t.push(e.readUint8()))}while(n);else e.back(4);return t}(t),this.pps=function(e){var t=[],r=void 0,n=!0,i=!1;if(1===e.readUint32())do{if(r=e.readUint8(),!i){if(8!=(31&r)){n=!1,e.back(5);break}i=!0}0!==r?t.push(r):1===(r=e.readUint16())?(n=!1,e.back(3)):(e.back(3),t.push(e.readUint8()))}while(n);else e.back(4);return t}(t);var o=void 0;if(this.sps.length?(this.info=new u.default(new Uint8Array(this.sps)).readSPS(),o=t.readUint24()):0===(o=t.readUint24())&&(o=t.readUint8()),1!==o)throw new Error("h264 convert to avcc error");var s=e.Merge(t,n);this.buffer=(0,a.default)(Uint8Array,t.writeUint32(s.byteLength),s)}else{if("audio"!==r)throw"ES "+r+" is not supported";if((i=t.readUint16())>>>4!=4095)throw new Error("aac ES parse Error");this.id=0==(i>>>3&1)?"MPEG-4":"MPEG-2",this.layer=i>>>1&3,this.absent=1&i,i=t.readUint16(),this.audioObjectType=1+(i>>>14&3),this.profile=this.audioObjectType-1,this.frequencyIndex=i>>>10&15,this.frequence=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][this.frequencyIndex],this.channel=i>>>6&7,this.frameLength=(3&i)<<11|t.readUint16()>>>5,this.audioConfig=e.getAudioConfig(this.audioObjectType,this.channel,this.frequencyIndex),t.skip(1),this.buffer=e.Merge(t,n)}}},{key:"TSDT",value:function(){return{}}},{key:"CAT",value:function(e,t){this.tableID=e.readUint8();var r=e.readUint16();this.sectionIndicator=r>>>7,this.sectionLength=4095&r,e.skip(2),r=e.readUint8(),this.version=r>>>3,this.currentNextIndicator=1&r,this.sectionNumber=e.readUint8(),this.lastSectionNumber=e.readUint8();for(var n=(this.sectionLength-9)/4,i=[],a=0;a<n;a++)i.push({});this.crc32=e.readUint32()}},{key:"Merge",value:function(e,t){var r=e.length-e.position,n=void 0,i=r;return t.forEach(function(e){r+=e.body.buffer.length}),(n=new Uint8Array(r)).set(new Uint8Array(e.buffer,e.position),0),t.forEach(function(t){e=t.body.buffer,n.set(new Uint8Array(e.buffer,e.position),i),i+=e.length-e.position}),n}},{key:"getAudioConfig",value:function(e,t,r){var n=navigator.userAgent.toLowerCase(),i=void 0,a=void 0;return/firefox/i.test(n)?r>=6?(e=5,i=new Array(4),a=r-3):(e=2,i=new Array(2),a=r):-1!==n.indexOf("android")?(e=2,i=new Array(2),a=r):(e=5,i=new Array(4),r>=6?a=r-3:(1===t&&(e=2,i=new Array(2)),a=r)),i[0]=e<<3,i[0]|=(14&r)>>1,i[1]=(1&r)<<7,i[1]|=t<<3,5===e&&(i[1]|=(14&a)>>1,i[2]=(1&a)<<7,i[2]|=8,i[3]=0),i}}]),e}();l.PATSpace=[],t.default=l,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_CODEC=t.SOUND_FORMAT=t.SCRIPT_DATA_VALUE_TYPES=t.TAG_TYPE=void 0;var n=u(r(41)),i=u(r(2)),a=u(r(3)),o=u(r(0)),s=r(5);function u(e){return e&&e.__esModule?e:{default:e}}var f=t.TAG_TYPE={AUDIO:8,VIDEO:9,SCRIPT:18},c=t.SCRIPT_DATA_VALUE_TYPES={NUMBER:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIECLIP:4,NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,OBJECT_END:9,STRICT_ARRAY:10,DATE:11,LONE_STRING:12},l=(t.SOUND_FORMAT=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],t.VIDEO_CODEC=["","","Sorenson H.263","Screen video","On2 VP6","On2 VP6 with alpha channel","Screen video version2","AVC"]),d=function(){function e(t){(0,i.default)(this,e);var r=new o.default(t);this.header=this.parseHeader(r),this.body=this.parseBody(r)}return(0,a.default)(e,[{key:"parseHeader",value:function(e){return{Signature:e.readString(3),Version:e.readUint8(),Flags:e.readUint8(),DataOffset:e.readUint32()}}},{key:"parseBody",value:function(e){this.onMetaData=this.parseScriptTag(e)}},{key:"parseTag",value:function(e){switch(e.skip(4),e.readUint8()){case f.AUDIO:return this.parseAudioTag(e);case f.VIDEO:return this.parseVideoTag(e);case f.SCRIPT:return this.parseScriptTag(e);default:return null}}},{key:"parseScriptTag",value:function(e){var t={};e.skip(4),e.readUint8();var r=e.readUint24();t.size=r,e.skip(3),e.skip(1),e.skip(3);var i=0;e.readUint8()===c.STRING&&(i=e.readUint16()),e.readString(i);var a,o={};if(e.readUint8()===c.ECMA_ARRAY){a=e.readUint32();for(var s=void 0,u=void 0,f=0;f<a;f++)switch(s=e.readUint16(),u=e.readString(s),e.readUint8()){case c.NUMBER:o[u]=this.parseDouble(e);break;case c.BOOLEAN:o[u]=this.parseBoolean(e);break;case c.STRING:o[u]=this.parseString(e)}return t=(0,n.default)({},o)}}},{key:"parseDouble",value:function(t){for(var r=[],n=0;n<8;n++){var i=Number(t.readUint8()).toString(16);r.push(i)}return e.HexToDouble(r)}},{key:"parseBoolean",value:function(e){return!!e.readUint8()}},{key:"parseString",value:function(e){var t=e.readUint16();return e.readString(t)}},{key:"parseAudioTag",value:function(e){}},{key:"parseVideoTag",value:function(e){var t=e.readUint24();e.skip(3),e.skip(1),e.skip(3);var r=e.readUint8(),n=Math.floor(r%16);return e.skip(t-1),{type:"video",codec:l[n]}}}],[{key:"probe",value:function(e){var t=e.readString(3),r=e.readUint8(),n=e.readUint8(),i=e.readUint32();return"FLV"===t&&r<5&&n<6&&i>8&&s.FORMAT.FLV}},{key:"HexToDouble",value:function(e){for(var t=new ArrayBuffer(8),r=new Uint8Array(t),n=new Float64Array(t),i=e.length,a=i-1;a>=0;a--){var o=1===e[i-1-a].length?"0x0"+e[i-1-a]:"0x"+e[i-1-a];r[a]=o}return n[0]}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(2)),i=f(r(3)),a=f(r(0)),o=f(r(224)),s=r(225),u=r(5);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,n.default)(this,e);var r=new a.default(t);this.header=this.parseHeader(r),this.segment=this.parseSegment(r,this)}return(0,i.default)(e,[{key:"parseHeader",value:function(e){var t={},r=new o.default(e);if(r.id!==s.EBML_ID.EBML)throw"this file is not matroska";for(var n=r.size,i=0;i<n;){var a=new o.default(r.data),u=this.parseHeaderItem(a),f=u.key,c=u.value;t[f]=c,i+=a.ebmlSize}return t}},{key:"parseSegment",value:function(e){var t=this,r=new o.default(e),n=0,i=r.data;if(r.id===s.EBML_ID.Segment){var a=this.parseSeekHead(i),u=a.seekHead,f=a.ebmlSize,c=void 0,l=void 0;return n+=f,u&&(u.forEach(function(e){if(e.seekId===s.EBML_ID.SegmentInfo){i.skip(e.seekPosition-n);var r=t.parseSegmentInfo(i);c=r.segmentInfo,n=e.seekPosition+r.ebmlSize}}),u.forEach(function(e){e.seekId===s.EBML_ID.Tracks&&(i.skip(e.seekPosition-n),l=t.parseTracks(i))})),{seekHead:u,segementInfo:c,tracks:l}}console.log("Invalid segement")}},{key:"parseSegmentInfo",value:function(e){for(var t=new o.default(e),r={},n=t.size,i=0;i<n;){var a=new o.default(t.data),s=this.parseInfoItem(a),u=s.key,f=s.value;r[u]=f,i+=a.ebmlSize}return{segmentInfo:r,ebmlSize:t.ebmlSize}}},{key:"parseTracks",value:function(e){for(var t=new o.default(e),r=[],n=t.size,i=0;i<n;){var a=new o.default(t.data),s=this.parseTrackEntry(a);r.push(s),i+=a.ebmlSize}return r}},{key:"parseSeekHead",value:function(e){var t=new o.default(e),r=[];if(t.id!==s.EBML_ID.SeekHead)return!1;for(var n=0;n<t.size;){var i=new o.default(t.data),a=i.id,u=i.ebmlSize,f=i.data;a===s.EBML_ID.Seek&&r.push(this.parseSeekItem(f)),n+=u}return{seekHead:r,ebmlSize:t.ebmlSize}}},{key:"parseHeaderItem",value:function(e){var t=e.id,r=e.size,n=e.data,i=0,a=0;if(t===s.EBML_ID.DocType)a=n.readString(r);else for(;i<r;)a=(a<<8)+n.readUint8(),i++;switch(t){case s.EBML_ID.EBMLVersion:return{key:"EBMLVersion",value:a};case s.EBML_ID.EBMLReadVersion:return{key:"EBMLReadVersion",value:a};case s.EBML_ID.EBMLMaxIDLength:return{key:"EBMLMaxIDLength",value:a};case s.EBML_ID.EBMLMaxSizeLength:return{key:"EBMLMaxSizeLength",value:a};case s.EBML_ID.DocType:return{key:"DocType",value:a};case s.EBML_ID.DocTypeVersion:return{key:"DocTypeVersion",value:a};case s.EBML_ID.DocTypeReadVersion:return{key:"DocTypeReadVersion",value:a}}}},{key:"parseSeekItem",value:function(e){var t=new o.default(e),r=new o.default(e);return{seekId:this.readLongData(t.data,t.size),seekPosition:this.readLongData(r.data,r.size)}}},{key:"parseInfoItem",value:function(e){var t=e.id,r=e.size,n=e.data,i=0;switch(t===s.EBML_ID.Title||t===s.EBML_ID.MuxingApp||t===s.EBML_ID.WritingApp?i=n.readString(r):t===s.EBML_ID.Duration?8===r?i=n.readFloat64():4===r&&(i=n.readFloat32()):i=this.readLongData(n,r),t){case s.EBML_ID.TimecodeScale:return{key:"TimecodeScale",value:i};case s.EBML_ID.Duration:return{key:"Duration",value:i};case s.EBML_ID.Title:return{key:"Title",value:i};case s.EBML_ID.MuxingApp:return{key:"MuxingApp",value:i};case s.EBML_ID.WritingApp:return{key:"WritingApp",value:i}}return!1}},{key:"parseTrackEntry",value:function(e){var t=e.id,r=e.size,n=e.data,i={};if(t===s.EBML_ID.TrackEntry){for(var a=0;a<r;){var u=new o.default(n),f=this.parseTrackItem(u);"[object Array]"===Object.prototype.toString.call(f)?f.forEach(function(e){i[e.key]=e.value}):i[f.key]=f.value,a+=u.ebmlSize}return i}console.log("invalid track entry!")}},{key:"parseTrackItem",value:function(e){var t=e.id,r=e.size,n=e.data,i=0,a=0;if(t!==s.EBML_ID.Video)if(t===s.EBML_ID.CodecID)a=n.readString(r);else for(;i<r;)a=(a<<8)+n.readUint8(),i++;switch(t){case s.EBML_ID.TrackNumber:return{key:"TrackNumber",value:a};case s.EBML_ID.TrackType:return{key:"TrackType",value:a};case s.EBML_ID.CodecID:return{key:"CodecID",value:a};case s.EBML_ID.CodecName:return{key:"CodecName",value:a};case s.EBML_ID.Video:return this.parseVideoSetting(e)}return!1}},{key:"parseVideoSetting",value:function(e){for(var t=e.size,r=e.data,n=[],i=0;i<t;){var a=new o.default(r),s=this.parseVideoSettingItem(a);s&&n.push(s),i+=a.ebmlSize}return n}},{key:"parseVideoSettingItem",value:function(e){for(var t=e.id,r=e.size,n=e.data,i=0,a=0;i<r;)a=(a<<8)+n.readUint8(),i++;switch(t){case s.EBML_ID.PixelWidth:return{key:"PixelWidth",value:a};case s.EBML_ID.PixelHeight:return{key:"PixelHeight",value:a}}return!1}},{key:"readLongData",value:function(e,t){for(var r="";t>0;){var n=e.readUint8().toString(16);n.length<2&&(n="0"+n),r+=n,t--}return parseInt(r,16)}}],[{key:"probe",value:function(e){try{if(o.default.readVInt(e).data!==s.EBML_ID.EBML)return!1;for(var t=o.default.readVInt(e).data,r=parseInt(t.toString(2).substring(1),2),n=0;n<r;){var i=o.default.readVInt(e).data,a=o.default.readVInt(e).data,f=parseInt(a.toString(2).substring(1),2);if(i===s.EBML_ID.DocType){var c=e.readString(f);return u.FORMAT[c.toUpperCase()]}e.skip(f),n+=f}}catch(e){return!1}return!1}}]),e}();t.default=c,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2)),i=s(r(3)),a=s(r(0)),o=r(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=["Y","Cb","Cr"],f=function(){function e(t){(0,n.default)(this,e),this.size=t.byteLength;var r=new a.default(t);this.frame=this.parseMarkers(r)}return(0,i.default)(e,[{key:"parseMarkers",value:function(e){var t=0,r=[],n=void 0,i=e.readUint16();if(65496!==i)throw new Error("class JPEG: there is no SOI");for(i=e.readUint16();65498!==i&&65497!==i;){switch(i){case 65472:case 65473:case 65474:t=e.readUint16(),(n=this.parseSOF0(e,t)).isExtended=65473===i,n.isProgressive=65474===i,r.push(n);break;case 65535:255!==e.readUint8&&e.back(2);break;default:t=e.readUint16(),e.skip(t-2)}i=e.readUint16()}if(1!==r.length)throw new Error("class JPEG: only single frame JPEGs supported");return r[0]}},{key:"parseSOF0",value:function(e){for(var t=e.readUint8(),r=e.readUint16(),n=e.readUint16(),i=e.readUint8(),a=[],o=0;o<i;o++){var s=e.readUint8();a.push({Id:u[s],sample:e.readUint8(),quant:e.readUint8()})}return{precision:t,height:r,width:n,comSize:i,components:a}}}],[{key:"probe",value:function(e){return 16767231===e.readUint24()&&o.FORMAT.JPEG}}]),e}();t.default=f,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2)),i=s(r(3)),a=s(r(0)),o=r(5);function s(e){return e&&e.__esModule?e:{default:e}}var u="IHDR",f=function(){function e(t){(0,n.default)(this,e),this.size=t.byteLength;var r=new a.default(t),i=this.parsePNG(r);this.IHDR=i.IHDR}return(0,i.default)(e,[{key:"parsePNG",value:function(t){if(!e.probe(t))throw new Error("class PNG: this is not png");for(var r=void 0,n=void 0,i=void 0;n!==u;)switch(i=t.readUint32(),n=t.readString(4)){case u:r=this.parseIHDR(t),t.skip(4);break;default:t.skip(i+4)}return{IHDR:r}}},{key:"parseIHDR",value:function(e){return{width:e.readUint32(),height:e.readUint32(),bitDepth:e.readUint8(),colorType:e.readUint8(),compressionMethod:e.readUint8(),filterMethod:e.readUint8(),interlaceMethod:e.readUint8()}}}],[{key:"probe",value:function(e){var t=e.readUint32(),r=e.readUint32();return 2303741511===t&&218765834===r&&o.FORMAT.PNG}}]),e}();t.default=f,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2)),i=s(r(3)),a=s(r(0)),o=r(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,n.default)(this,e),this.size=t.byteLength;var r=new a.default(t),i=this.parseGIF(r);this.width=i.width,this.height=i.height,this.frameCount=i.frames.length,this.duration=i.duration}return(0,i.default)(e,[{key:"parseGIF",value:function(t){if(!e.probe(t))throw new Error("class GIF: this is not a gif");var r=t.readUint8()|t.readUint8()<<8,n=t.readUint8()|t.readUint8()<<8,i=t.readUint8();if(t.skip(1),t.skip(1),i>>>7){var a=3*(1<<1+(7&i));t.skip(a)}for(var o=[],s=void 0,u=t.readUint8(),f=void 0,c=void 0,l=void 0,d=0;59!==u;){switch(u){case 33:switch(f=t.readUint8()){case 255:var h=t.readUint8();if(11===h){var p=t.readString(8),v=t.readString(3);"NETSCAPE"===p&&"2.0"===v&&(t.skip(2),s=t.readUint8()|t.readUint8()<<8,t.skip(1))}else 0!==h&&this.readSubBlock(t);break;case 249:if(4!==t.readUint8())throw new Error("class GIF: Invalid graphics extension block.");var m=t.readUint8();if(d+=c=(c=t.readUint8()|t.readUint8()<<8)<2?10:c,t.readUint8(),l=m>>2&7,0!==t.readUint8())throw new Error("class GIF: Invalid graphics extension block.");break;case 1:case 254:this.readSubBlock(t);break;default:throw new Error("class GIF: Unknown graphic control label: 0x"+f.toString(16))}break;case 44:var g=t.readUint8()|t.readUint8()<<8,y=t.readUint8()|t.readUint8()<<8,b=t.readUint8()|t.readUint8()<<8,_=t.readUint8()|t.readUint8()<<8,w=t.readUint8(),x=w>>6&1,k=1<<1+(7&w),S=!1;w>>7&&(S=!0,t.skip(3*k)),t.skip(1),this.readSubBlock(t),o.push({x:g,y:y,width:b,height:_,delay:c,hasLocalColorTable:S,interlaced:!!x});break;default:this.readSubBlock(t)}u=t.readUint8()}return{width:r,height:n,frames:o,duration:d/=100,disposal:l,loopCount:s}}},{key:"readSubBlock",value:function(e){for(;;){var t=e.readUint8();if(!(t>=0))throw Error("Invalid block size");if(0===t)break;e.skip(t)}}}],[{key:"probe",value:function(e){var t=e.readString(3),r=e.readString(3);return"GIF"===t&&("87a"===r||"89a"===r)&&o.FORMAT.GIF}}]),e}();t.default=u,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2)),i=s(r(3)),a=s(r(0)),o=r(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,n.default)(this,e),this.size=t.byteLength;var r=new a.default(t);this.frame=this.parseWebP(r)}return(0,i.default)(e,[{key:"parseWebP",value:function(t){if(!e.probe(t))throw new Error("class WEBP: this is not png");var r=void 0;switch(t.readString(4)){case"VP8 ":r=this.parseVP8(t);break;case"VP8L":r=this.parseVP8L(t);break;case"VP8X":r=this.parseVP8X(t);break;default:throw new Error("class WEBP: unrecognized vp8 version.")}if(!r)throw new Error("class WEBP: Occur error in parsing meta.");return{width:r.width,height:r.height}}},{key:"parseVP8",value:function(e){e.skip(7);var t=e.readUint24();if(10289450!==t)throw new Error("class WEBP: error in sycnCode: "+t.toString(16));return{width:16383&e.readUint16(!0),height:16383&e.readUint16(!0)}}},{key:"parseVP8L",value:function(e){if(e.skip(4),47!==e.readUint8())throw new Error("class WEBP: a wrong signature in VP8L");var t=e.readUint16(!0);return{width:1+(16383&t),height:(t>>>14)+((4095&e.readUint16(!0))<<2)+1}}},{key:"parseVP8X",value:function(e){return e.readUint8(),e.skip(7),{width:e.readUint24(!0)+1,height:e.readUint24(!0)+1}}}],[{key:"probe",value:function(e){var t=e.readUint32();e.skip(4);var r=e.readUint32();return 1380533830===t&&1464156752===r&&o.FORMAT.WEBP}}]),e}();t.default=u,e.exports=t.default},function(e,t,r){"use strict";(function(t,n){var i;e.exports=E,E.ReadableState=S,r(101).EventEmitter;var a,o=function(e,t){return e.listeners(t).length},s=r(102),u=r(21).Buffer,f=t.Uint8Array||function(){},c=r(241);a=c&&c.debuglog?c.debuglog("stream"):function(){};var l,d,h,p=r(242),v=r(103),m=r(104).getHighWaterMark,g=r(30).codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(31)(E,s);var x=v.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(e,t,n){i=i||r(32),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(106).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function E(e){if(i=i||r(32),!(this instanceof E))return new E(e);var t=this instanceof i;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,r,n,i){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,B(e)))}}(e,s);else if(i||(o=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof f||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),o)x(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?x(e,new w):U(e,s,t,!0);else if(s.ended)x(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?U(e,s,t,!1):A(e,s)):U(e,s,t,!1)}else n||(s.reading=!1,A(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function U(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),A(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},E.prototype.unshift=function(e){return T(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){l||(l=r(106).StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(B,e))}function B(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function A(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){a("readable nexttick read 0"),e.read(0)}function C(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function z(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(N,t,e))}function N(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):O(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&z(this),null;var n,i=t.needReadable;return a("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",i=!0),t.ended||t.reading?a("reading or ended",i=!1):i&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&z(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){x(this,new _("_read()"))},E.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?v:u;function u(){a("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",f),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",l),c=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())});var f=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",f);var c=!1;function l(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==F(i.pipes,e))&&!c&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){a("onerror",t),v(),e.removeListener("error",d),0===o(e,"error")&&x(e,t)}function h(){e.removeListener("finish",p),v()}function p(){a("onfinish"),e.removeListener("close",h),v()}function v(){a("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},E.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?O(this):i.reading||n.nextTick(L,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(R,this),r},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(R,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(C,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(246)),d(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=D,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===h&&(h=r(247)),h(E,e,t)})}).call(this,r(28),r(29))},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,u,f;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),o=(f=r.slice()).length,u=0;u<o;u++)f[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,a,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){e.exports=r(101).EventEmitter},function(e,t,r){"use strict";(function(t){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?t.nextTick(n,o):(o._writableState.errorEmitted=!0,t.nextTick(r,o,e)):t.nextTick(r,o,e):a?(t.nextTick(n,o),a(e)):t.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r(29))},function(e,t,r){"use strict";var n=r(30).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";(function(t,n){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=E,E.WritableState=S;var o,s={deprecate:r(244)},u=r(102),f=r(21).Buffer,c=t.Uint8Array||function(){},l=r(103),d=r(104).getHighWaterMark,h=r(30).codes,p=h.ERR_INVALID_ARG_TYPE,v=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;function k(){}function S(e,t,o){a=a||r(32),e=e||{},"boolean"!=typeof o&&(o=t instanceof a),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){--t.pendingcb,r?(n.nextTick(a,i),n.nextTick(B,e,t),e._writableState.errorEmitted=!0,x(e,i)):(a(i),e._writableState.errorEmitted=!0,x(e,i),B(e,t))}(e,r,i,t,a);else{var o=I(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),i?n.nextTick(U,e,r,o,a):U(e,r,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(e){var t=this instanceof(a=a||r(32));if(!t&&!o.call(E,this))return new E(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function T(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function U(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),B(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,T(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,l=r.callback;if(T(e,t,!1,t.objectMode?1:f.length,f,c,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final(function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),B(e,t)})}function B(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(31)(E,u),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===E&&e&&e._writableState instanceof S}})):o=function(e){return e instanceof this},E.prototype.pipe=function(){x(this,new g)},E.prototype.write=function(e,t,r){var i,a=this._writableState,o=!1,s=!a.objectMode&&(i=e,f.isBuffer(i)||i instanceof c);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=k),a.ending?function(e,t){var r=new _;x(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var a;return null===r?a=new b:"string"==typeof r||t.objectMode||(a=new p("chunk",["string","Buffer"],r)),!a||(x(e,a),n.nextTick(i,a),!1)}(this,a,e,r))&&(a.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,n,i,a);return u}(this,a,s,e,t,r)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new v("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,B(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this,r(28),r(29))},function(e,t,r){"use strict";var n=r(245).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=f,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=l,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=f;var n=r(30).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(32);function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(t,r){l(e,t,r)})}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(31)(f,u),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},function(e,t,r){var n=r(12);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){e.exports={default:r(275),__esModule:!0}},function(e,t,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(278),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function f(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var l=e.exports=g,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(a.isFunction(e)){if(u)return e.name;var t=e.toString().match(d);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(u||!a.isFunction(e))return a.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,r,n,i){throw new l.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function g(e,t){e||m(e,!0,t,"==",l.ok)}function y(e,t,r,o){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&f(e)===f(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),o=b(t);if(i&&!o||!i&&o)return!1;if(i)return e=s.call(e),t=s.call(t),y(e,t,r);var u,f,c=x(e),l=x(t);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),f=c.length-1;f>=0;f--)if(c[f]!==l[f])return!1;for(f=c.length-1;f>=0;f--)if(u=c[f],!y(e[u],t[u],r,n))return!1;return!0}(e,t,r,o))}return r?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&m(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&m(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}l.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(v((t=this).actual),128)+" "+t.operator+" "+p(v(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,a=h(r),o=i.indexOf("\n"+a);if(o>=0){var s=i.indexOf("\n",o+1);i=i.substring(s+1)}this.stack=i}}},a.inherits(l.AssertionError,Error),l.fail=m,l.ok=g,l.equal=function(e,t,r){e!=t&&m(e,t,r,"==",l.equal)},l.notEqual=function(e,t,r){e==t&&m(e,t,r,"!=",l.notEqual)},l.deepEqual=function(e,t,r){y(e,t,!1)||m(e,t,r,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,r){y(e,t,!0)||m(e,t,r,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,r){y(e,t,!1)&&m(e,t,r,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function e(t,r,n){y(t,r,!0)&&m(t,r,n,"notDeepStrictEqual",e)},l.strictEqual=function(e,t,r){e!==t&&m(e,t,r,"===",l.strictEqual)},l.notStrictEqual=function(e,t,r){e===t&&m(e,t,r,"!==",l.notStrictEqual)},l.throws=function(e,t,r){w(!0,e,t,r)},l.doesNotThrow=function(e,t,r){w(!1,e,t,r)},l.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t}}).call(this,r(28))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMessages="End-Of-Stream",t.EndOfStreamError=class extends Error{constructor(){super(t.defaultMessages)}}},function(e,t,r){e.exports=r(113)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(r(24)),i=x(r(41)),a=x(r(9)),o=x(r(10)),s=x(r(2)),u=x(r(3)),f=x(r(64)),c=x(r(151)),l=x(r(153)),d=r(5),h=x(r(71)),p=x(r(87)),v=x(r(227)),m=x(r(229)),g=(x(r(230)),x(r(231))),y=x(r(232)),b=x(r(233)),_=x(r(234)),w=x(r(235));function x(e){return e&&e.__esModule?e:{default:e}}var k=function(){function e(t){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).noLog,n=void 0!==r&&r;(0,s.default)(this,e),(0,f.default)(this),this.file=t,this.fileBlob="[object String]"===Object.prototype.toString.call(t)?void 0:t,this.noLog=n,this.logger=this.noLog?{}:new c.default,this.format}return(0,u.default)(e,[{key:"init",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.format){e.next=4;break}return e.next=3,this.innerProbe();case 3:this.format=e.sent;case 4:if(this.fileBlob){e.next=8;break}return e.next=7,this.getBuffer(0,2097152);case 7:this.fileBlob=e.sent;case 8:t=void 0,e.t0=this.format,e.next=e.t0===d.FORMAT.TS?12:e.t0===d.FORMAT.QuickTime?14:e.t0===d.FORMAT["3GPP"]?14:e.t0===d.FORMAT["3GPP2"]?14:e.t0===d.FORMAT.MP4?14:e.t0===d.FORMAT.M4V?14:e.t0===d.FORMAT.FLV?16:e.t0===d.FORMAT.JPEG?18:e.t0===d.FORMAT.PNG?20:e.t0===d.FORMAT.GIF?22:e.t0===d.FORMAT.WEBP?24:26;break;case 12:return t=new v.default(this.fileBlob),e.abrupt("break",29);case 14:return t=new p.default(this.fileBlob),e.abrupt("break",29);case 16:return t=new m.default(this.fileBlob),e.abrupt("break",29);case 18:return t=new g.default(this.fileBlob),e.abrupt("break",29);case 20:return t=new y.default(this.fileBlob),e.abrupt("break",29);case 22:return t=new b.default(this.fileBlob),e.abrupt("break",29);case 24:return t=new _.default(this.fileBlob),e.abrupt("break",29);case 26:return this.sendLog("meta",{log_type:"error",file_size:this.file.size,file_type:this.format||"unknow"}),this.emit("error","Unsupported format!"),e.abrupt("return",!1);case 29:t.on("metaReady",function(e){r.sendLog("meta",{log_type:"success",file_size:r.file.size,file_type:r.format||"unknow"}),r.emit("metaReady",e)}),t.on("error",function(e){r.sendLog("meta",{log_type:"error",file_size:r.file.size,file_type:r.format||"unknow"}),r.emit("error",e)}),t.init();case 32:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"innerProbe",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t,r,n,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.file.size,r=t?t>4100?4100:t:4100,e.next=4,this.getBuffer(0,r);case 4:if(n=e.sent,i=null,!(t>128)){e.next=10;break}return e.next=9,this.getBuffer(t-128,t);case 9:i=e.sent;case 10:return e.abrupt("return",l.default.probe(n,i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"probe",value:function(){var e=(0,o.default)(a.default.mark(function e(){var t,r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=void 0,r=void 0,this.fileBlob){e.next=9;break}return e.next=5,this.innerProbe();case 5:t=e.sent,r=0,e.next=14;break;case 9:return e.next=11,w.default.fromBlob(this.file);case 11:n=e.sent,t=n.mime,r=this.file.size;case 14:o={log_type:"success",file_size:r,file_type:t||"unknow"},t?this.sendLog("probe",o):this.sendLog("probe",(0,i.default)(o,{log_type:"error"})),this.emit("probeReady",t),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),this.sendLog("probe",{log_type:"error",file_size:this.file.size,file_type:"unknow"}),this.emit("error",e.t0);case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"getFrame",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.timeArr="[object Array]"===Object.prototype.toString.call(e)?e:[e];var n=[],i={},a=r.format,o=void 0===a?"jpeg":a,s=r.quality,u=void 0===s?1:s,f=r.width,c=r.height;this.tempCanvas||this.videoEle||(this.tempCanvas=document.createElement("canvas"),this.canvasCtx=this.tempCanvas.getContext("2d"),this.videoEle=document.createElement("video"),this.videoEle.setAttribute("webkit-playsinline",""),this.videoEle.setAttribute("playsinline",""),this.videoEle.setAttribute("muted",""),this.videoEle.setAttribute("crossOrigin","anonymous"),this.videoEle.setAttribute("preload","auto"),this.videoEle.addEventListener("loadeddata",function(){t.videoEleLoaded=!0,t._seekAction()}),"[object String]"===Object.prototype.toString.call(this.file)?this.videoEle.src=this.file:this.videoEle.src=URL.createObjectURL(this.file));var l=function(e){t.emit("error",e)};this.videoEle.addEventListener("seeked",function e(){t._getCurrFrame(f,c,o,u).then(function(r){if(n.push(r),i[t.videoEle.currentTime]=r,t.timeArr.length>0)for(;t.timeArr.length>0;){var a=t.timeArr.shift();if(!i[a])return void(t.videoEle.currentTime=a);n.push(i[a])}if(t.videoEle.removeEventListener("seeked",e),t.videoEle.removeEventListener("error",l),n.length)if(n[0]){var o=n.length>1?n:n[0];t.emit("frameReady",o)}else t.emit("error",{errorCode:10001,message:"Image frame is null."});else t.emit("error",{errorCode:1e4,message:"Frame array is []."})})}),this.videoEle.addEventListener("error",l),this.videoEleLoaded?this._seekAction():this.videoEle.play().then(function(){t.videoEle.pause()})}},{key:"_seekAction",value:function(){var e=this.timeArr.shift();this.videoEle.currentTime=0===e?.01:e}},{key:"_getCurrFrame",value:function(e,t,r,i){var a=this;return new n.default(function(n,o){try{var s=e||a.videoEle.videoWidth,u=t||a.videoEle.videoHeight;a.tempCanvas.width=s,a.tempCanvas.height=u,a.canvasCtx.drawImage(a.videoEle,0,0,s,u),a.tempCanvas.toBlob?a.tempCanvas.toBlob(function(e){n(e)},"image/"+r,i):a.tempCanvas.msToBlob&&n(a.tempCanvas.msToBlob())}catch(e){o(e)}})}},{key:"getBuffer",value:function(e,t){var r=this,i=this,a=void 0===e&&void 0===t?null:[e,t];return new n.default(function(e,t){try{new h.default(r.file,a,e).once("error",function(e){i.onError(e),t(e)})}catch(e){i.emit("error",e)}})}},{key:"destroy",value:function(){this.videoEle=null,this.tempCanvas=null,this.canvasCtx=null}},{key:"sendLog",value:function(e,t){this.noLog||this.logger.send(e,t)}}]),e}();t.default=k,e.exports=t.default},function(e,t,r){r(49),r(25),r(39),r(122),r(126),r(127),e.exports=r(4).Promise},function(e,t,r){var n=r(50),i=r(51);e.exports=function(e){return function(t,r){var a,o,s=String(i(t)),u=n(r),f=s.length;return u<0||u>=f?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===f||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(42),i=r(35),a=r(37),o={};r(16)(o,r(8)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(11),i=r(13),a=r(43);e.exports=r(14)?Object.defineProperties:function(e,t){i(e);for(var r,o=a(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},function(e,t,r){var n=r(27),i=r(44),a=r(119);e.exports=function(e){return function(t,r,o){var s,u=n(t),f=i(u.length),c=a(o,f);if(e&&r!=r){for(;f>c;)if((s=u[c++])!=s)return!0}else for(;f>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(50),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){"use strict";var n=r(121),i=r(78),a=r(26),o=r(27);e.exports=r(52)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t,r){"use strict";var n,i,a,o,s=r(33),u=r(7),f=r(15),c=r(46),l=r(6),d=r(12),h=r(34),p=r(59),v=r(40),m=r(81),g=r(82).set,y=r(124)(),b=r(61),_=r(83),w=r(125),x=r(84),k=u.TypeError,S=u.process,E=S&&S.versions,T=E&&E.v8||"",U=u.Promise,M="process"==c(S),I=function(){},O=i=b.f,B=!!function(){try{var e=U.resolve(1),t=(e.constructor={})[r(8)("species")]=function(e){e(I,I)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){for(var n=e._v,i=1==e._s,a=0,o=function(t){var r,a,o,s=i?t.ok:t.fail,u=t.resolve,f=t.reject,c=t.domain;try{s?(i||(2==e._h&&C(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),o=!0)),r===t.promise?f(k("Promise-chain cycle")):(a=A(r))?a.call(r,u,f):u(r)):f(n)}catch(e){c&&!o&&c.exit(),f(e)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){g.call(u,function(){var t,r,n,i=e._v,a=L(e);if(a&&(t=_(function(){M?S.emit("unhandledRejection",i,e):(r=u.onunhandledrejection)?r({promise:e,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=M||L(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},C=function(e){g.call(u,function(){var t;M?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},D=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(t=A(e))?y(function(){var n={_w:r,_d:!1};try{t.call(e,f(D,n,1),f(j,n,1))}catch(e){j.call(n,e)}}):(r._v=e,r._s=1,P(r,!1))}catch(e){j.call({_w:r,_d:!1},e)}}};B||(U=function(e){p(this,U,"Promise","_h"),h(e),n.call(this);try{e(f(D,this,1),f(j,this,1))}catch(e){j.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(62)(U.prototype,{then:function(e,t){var r=O(m(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=M?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&P(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=f(D,e,1),this.reject=f(j,e,1)},b.f=O=function(e){return e===U||e===o?new a(e):i(e)}),l(l.G+l.W+l.F*!B,{Promise:U}),r(37)(U,"Promise"),r(85)("Promise"),o=r(4).Promise,l(l.S+l.F*!B,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!B),"Promise",{resolve:function(e){return x(s&&this===o?U:this,e)}}),l(l.S+l.F*!(B&&r(86)(function(e){U.all(e).catch(I)})),"Promise",{all:function(e){var t=this,r=O(t),n=r.resolve,i=r.reject,a=_(function(){var r=[],a=0,o=1;v(e,!1,function(e){var s=a++,u=!1;r.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function(e){var t=this,r=O(t),n=r.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(7),i=r(82).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(36)(o);e.exports=function(){var e,t,r,f=function(){var n,i;for(u&&(n=o.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(f)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(f)}}else r=function(){i.call(n,f)};else{var l=!0,d=document.createTextNode("");new a(f).observe(d,{characterData:!0}),r=function(){d.data=l=!l}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var n=r(7).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(6),i=r(4),a=r(7),o=r(81),s=r(84);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(6),i=r(61),a=r(83);n(n.S,"Promise",{try:function(e){var t=i.f(this),r=a(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){r(129),e.exports=r(4).Object.assign},function(e,t,r){var n=r(6);n(n.S+n.F,"Object",{assign:r(130)})},function(e,t,r){"use strict";var n=r(43),i=r(63),a=r(47),o=r(38),s=r(55),u=Object.assign;e.exports=!u||r(22)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=o(e),u=arguments.length,f=1,c=i.f,l=a.f;u>f;)for(var d,h=s(arguments[f++]),p=c?n(h).concat(c(h)):n(h),v=p.length,m=0;v>m;)l.call(h,d=p[m++])&&(r[d]=h[d]);return r}:u},function(e,t,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(132),i)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",f="object"==typeof e,c=t.regeneratorRuntime;if(c)f&&(e.exports=c);else{(c=t.regeneratorRuntime=f?e.exports:{}).wrap=_;var l="suspendedStart",d="suspendedYield",h="executing",p="completed",v={},m={};m[o]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(B([])));y&&y!==n&&i.call(y,o)&&(m=y);var b=S.prototype=x.prototype=Object.create(m);k.prototype=b.constructor=S,S.constructor=k,S[u]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[s]=function(){return this},c.AsyncIterator=T,c.async=function(e,t,r,n){var i=new T(_(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(b),b[u]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=B,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),f=i.call(o,"finallyLoc");if(u&&f){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:B(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function _(e,t,r,n){var i=t&&t.prototype instanceof x?t:x,a=Object.create(i.prototype),o=new O(n||[]);return a._invoke=function(e,t,r){var n=l;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return A()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=U(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=w(e,t,r);if("normal"===u.type){if(n=r.done?p:d,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function k(){}function S(){}function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(r,n){function a(){return new Promise(function(t,a){!function t(r,n,a,o){var s=w(e[r],e,n);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&i.call(f,"__await")?Promise.resolve(f.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(f).then(function(e){u.value=e,a(u)},o)}o(s.arg)}(r,n,t,a)})}return t=t?t.then(a,a):a()}}function U(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,U(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function B(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,r){e.exports={default:r(134),__esModule:!0}},function(e,t,r){r(135);var n=r(4).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(6);n(n.S+n.F*!r(14),"Object",{defineProperty:r(11).f})},function(e,t,r){"use strict";var n=r(137),i=r(145),a=r(146),o=r(147);(e.exports=function(e,t){var r,a,s,u,f;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(r=s=!0,a=!1):(r=o.call(e,"c"),a=o.call(e,"e"),s=o.call(e,"w")),f={value:t,configurable:r,enumerable:a,writable:s},u?n(i(u),f):f}).gs=function(e,t,r){var s,u,f,c;return"string"!=typeof e?(f=r,r=t,t=e,e=null):f=arguments[3],null==t?t=void 0:a(t)?null==r?r=void 0:a(r)||(f=r,r=void 0):(f=t,t=r=void 0),null==e?(s=!0,u=!1):(s=o.call(e,"c"),u=o.call(e,"e")),c={get:t,set:r,configurable:s,enumerable:u},f?n(i(f),c):c}},function(e,t,r){"use strict";e.exports=r(138)()?Object.assign:r(139)},function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,r){"use strict";var n=r(140),i=r(144),a=Math.max;e.exports=function(e,t){var r,o,s,u=a(arguments.length,2);for(e=Object(i(e)),s=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},o=1;o<u;++o)t=arguments[o],n(t).forEach(s);if(void 0!==r)throw r;return e}},function(e,t,r){"use strict";e.exports=r(141)()?Object.keys:r(142)},function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(65),i=Object.keys;e.exports=function(e){return i(n(e)?Object(e):e)}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(65);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,r){"use strict";var n=r(65),i=Array.prototype.forEach,a=Object.create;e.exports=function(e){var t=a(null);return i.call(arguments,function(e){n(e)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(e),t)}),t}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";e.exports=r(148)()?String.prototype.contains:r(149)},function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=o(r(3)),a=o(r(152));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,n.default)(this,e),this.teaLog=new a.default("tracker"),this.teaLog.init({app_id:2414,channel:"cn",log:!1,disable_sdk_monitor:!0}),this.teaLog.config({evtParams:{sdk_version:"2.4.24"},disable_auto_pv:!0}),this.teaLog.start()}return(0,i.default)(e,[{key:"send",value:function(e,t){var r=t.log_type,n=void 0===r?"success":r,i=t.file_size,a=void 0===i?0:i,o=t.file_type,s=void 0===o?"unknow":o;this.teaLog(e,{log_type:n,file_size:a,file_type:s})}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t);var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var s,u=(function(e,t){var r;r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function a(t,r,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,!0!==a[u]&&(s+="="+a[u].split(";")[0]));return document.cookie=t+"="+r+s}}function o(e,r){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var f=t(s[0]);if(u=(n.read||n)(u,f)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(i[f]=u,e===f)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,r){a(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})},e.exports=r()}(s={exports:{}}),s.exports),f=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e}(),c={getItem:function(e){try{var t=localStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||void 0}catch(e){}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){try{return u.get(e,{domain:t||document.domain})}catch(e){return""}},setCookie:function(e,t,r,n){try{var i=n||document.domain,a=+new Date+r;u.set(e,t,{expires:new Date(a),path:"/",domain:i})}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},l={getItem:function(e){try{var t=sessionStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||void 0}catch(e){}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},d=function(){function e(e,t){this._storage=t&&"session"===t?l:!e&&c.isSupportLS?c:new f}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,r,n){this._storage.setCookie(e,t,r,n)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),h={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},p="/v1/user/webid",v="/v1/list",m="4.1.57",g=function(e,t){return t?"__tea_cache_tokens_"+e:"__tea_cache_events_"+e},y=function(e){return"__tea_cache_config_"+e},b=function(e){return"__tea_session_id_"+e},_=function(e,t,r,n){try{var i,a=e.match(/\/v\d\//);i=a?a[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/";var o=e.split(i)[0];if(!o)return void n(e,t,4001);t.forEach(function(i){var a=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(t+="&"+r+"="+encodeURIComponent(JSON.stringify(e[r])));return"&"===t[0]?t.slice(1):t}(i),s=new Image(1,1);s.onload=function(){s=null,r&&r()},s.onerror=function(){s=null,n&&n(e,t,4e3)},s.src=o+"/v1/gif?"+a})}catch(r){n&&n(e,t,4002,r.message)}},w=function(e,t,r,n,i,a,o,s,u){var f=window.navigator.userAgent,c=-1!==window.navigator.appName.indexOf("Microsoft Internet Explorer")&&(-1!==f.indexOf("MSIE 8.0")||-1!==f.indexOf("MSIE 9.0")),l=!!n;if(!l&&c)_(e,r,i,a);else if(!l&&s)return window.navigator&&window.navigator.sendBeacon?(u&&u(),void(window.navigator.sendBeacon(e,JSON.stringify(r))?i():a(e,r,4003))):void _(e,r,i,a);o&&delete r.app_key,function(e,t,r,n,i,a,o){try{var s=new XMLHttpRequest;s.open("POST",""+e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),i&&s.setRequestHeader("X-MCS-AppKey",""+i),s.onload=function(){if(r){var e=null;if(s.responseText){try{e=JSON.parse(s.responseText)}catch(t){e={}}r(e,t)}}};try{a&&(s.timeout=a),a&&(s.ontimeout=function(){n&&n(t,5005)}),s.onerror=function(){s.abort(),n&&n(t,500)},s.send(JSON.stringify(t))}catch(e){}}catch(e){}}(e,r,i,a,n,t)};function x(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,x)}var k,S=function(){return x().replace(/-/g,"").slice(0,19)},E=function(e){return function(e,t,r){if("string"==typeof e&&"number"==typeof r){var n,i=[];r=r<=25?r:r%25;var a=String.fromCharCode(r+97);n=e.split(a);for(var o=0;o<n.length;o++){var s=parseInt(n[o],r);s=1*s^64;var u=String.fromCharCode(s);i.push(u)}return i.join("")}}(e,0,25)},T=function(){function e(e,t,r,n){this.config=e,this.cfg=t,this.storage=new d(!1),this.appInfo=e.app_key||e.app_id,this.isNoWebid=e.disable_webid,this.isNoSsid=e.disable_webid||e.disable_ssid,this.domain=e.channel_domain||E(h[e.channel]),this.tokenReady=!1,this.checkExp=e.checkExp||!1,this.enableCookie=e.cross_subdomain||!1,this.expiresTime=this.enableCookie?94608e6:0,this.fetchUrl=""+this.domain+p,this.uuidQueue=[],this.sendQueue=[],this.hook=r,this.cookieDomain=e.cookie_domain||"",this.session=n}return e.prototype._getToken=function(){this.tokensKey=g(this.appInfo,!0),this.cookieKey="__tea_cookie_tokens_"+this.appInfo;try{var e=this.storage.getItem(this.tokensKey);if(this.enableCookie){var t=this.storage.getCookie(this.cookieKey,this.cookieDomain);if(t){t=decodeURIComponent(t);var r=(t=JSON.parse(t)).user_unique_id,n=t.web_id,i=t.timestamp,a=t.ssid;this._setToken(n,r,a,i)}else{if(!e)return void this._requestWebId();this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(e)),this.expiresTime,this.cookieDomain),this._checkLocal(e)}}else{if(!e)return void this._requestWebId();this._checkLocal(e)}}catch(e){}},e.prototype._checkLocal=function(e){if(!e.web_id){var t=this.storage.getCookie("tt_webid"),r=this.storage.getCookie("__tea_sdk__ssid"),n=this.storage.getCookie("__tea_sdk__user_unique_id");if(t&&r&&n){var i={web_id:t,ssid:r,user_unique_id:n,timestamp:Date.now()};this.storage.setItem(this.tokensKey,i)}}var a=this.storage.getItem(this.tokensKey),o=(n=a.user_unique_id,t=a.web_id,a.timestamp);r=a.ssid,t&&n?this._setToken(t,n,r,o):this._requestWebId()},e.prototype._setToken=function(e,t,r,n){if(this.uuid=t,this.web_id=e,this.ssid=r,this.checkExp){var i=Date.now()-parseFloat(n);if(i>7344e6)return void this._requestWebId();if(i>432e7)return void this._updateWebId(e)}this._complete(e,t,r)},e.prototype._complete=function(e,t,r){this.cfg.envInfo.user.ssid=r,this.cfg.envInfo.user.web_id=e,this.cfg.envInfo.user.user_unique_id=t,this.tokenReady=!0},e.prototype._requestWebId=function(){this.isNoWebid?this._setTokenId(S(),"","",!0):this._fetchWebId(this.fetchUrl,!1)},e.prototype._updateWebId=function(e){var t=""+this.domain+p+"/"+e+"/update";this._fetchWebId(t,!0)},e.prototype._fetchWebId=function(e,t){var r=this;this.isGetWebId=!0,w(e,5e3,{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},this.config.app_key,function(e){r.isGetWebId=!1,e&&0===e.e?(r.web_id=e.web_id,r.uuidQueue.length?r._requestSsId(r.uuidQueue[0]):r._setTokenId(e.web_id,"",t?r.ssid:e.ssid,!0)):(r.hook.emit("token-error"),console.warn("[]appid: "+r.config.app_id+", get webid error, init error~"))},function(){r.isGetWebId=!1,r.hook.emit("token-error"),console.warn("[]appid: "+r.config.app_id+", get webid error, init error~")},!0)},e.prototype._setTokenId=function(e,t,r,n){var i=this.cfg.envInfo.user.web_id||e,a={web_id:i,ssid:r,user_unique_id:t||i,timestamp:Date.now()};this.enableCookie&&this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(a)),this.expiresTime,this.cookieDomain),this.storage.setItem(this.tokensKey,a),this.cfg.envInfo.user.ssid=r,this.cfg.envInfo.user.web_id=i,this.cfg.envInfo.user.user_unique_id=t||i,this.uuid=t||i,this.web_id=i,this.ssid=r,n&&(this.tokenReady=!0,this.hook.emit("token-ready"))},e.prototype._getSsid=function(e){e&&-1===["0","Null","None","","undefined"].indexOf(e)&&this.uuid!==e&&(this.uuidQueue.push(e),this.uuid=e,this.cfg.envInfo.user.user_unique_id=e,-1===this.uuidQueue.indexOf(e)&&this.uuidQueue.push(e),this.isNoSsid||this.isGetWebId||(this.tokenReady=!1,this._requestSsId(e),this.sendQueue.push(e)),this.session._resetSessionId())},e.prototype._requestSsId=function(e){var t=this;if(!this.sendQueue.length){var r=this.domain+"/v1/user/ssid";w(r,5e3,{app_key:this.config.app_key,app_id:this.config.app_id,web_id:this.web_id,user_unique_id:e},this.config.app_key,function(r){t.sendQueue=[],t.uuidQueue.length&&t.uuidQueue.splice(t.uuidQueue.indexOf(e),1),r&&0===r.e?(t._setTokenId(t.web_id,e,r.ssid,0===t.uuidQueue.length),t.uuidQueue.length&&t._requestSsId(t.uuidQueue[0])):(t.tokenReady=!0,t.hook.emit("token-ready"),console.warn("[]appid: "+t.config.app_id+", get ssid error"))},function(){t.tokenReady=!0,t.hook.emit("token-ready")},!0)}},e.prototype.isTokenReady=function(){return this.tokenReady},e}(),U=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},M=function(){function e(e,t,r,n,i,a,o){this.collect=e,this.cfg=r,this.config=t,this._token=n,this.appInfo=t.app_id||t.app_key,this.debugMode=!!t.log,this.evtDataKey=g(this.appInfo,!1);var s=t.channel_domain||E(h[t.channel]);this.reportUrl=t.report_url?t.report_url:""+s+v,this.storage=new d(!0),this.EventStorage=new d(!1),this.maxStorage=t.max_storage_num||-1,this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.closeStorage=!0,this.plugin=i,this.session=a,this.filter=o,this.addListener()}return e.prototype.addListener=function(){var e=this;window.addEventListener("unload",function(){e.report(!0)},!1),U(function(){e.report(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.report(!0)},!1)},e.prototype.setReady=function(){this.isReady=!0,this.report()},e.prototype.event=function(e){var t=this;void 0===e&&(e=[]);try{var r=o(e,this.storage.getItem(this.evtDataKey)||[]);this.storage.setItem(this.evtDataKey,r),this.reportTimer&&clearTimeout(this.reportTimer),r.length>=this.maxReport?this.report(!1):this.reportTimer=setTimeout(function(){t.report(!1),t.reportTimer=null},this.reportTime)}catch(e){}},e.prototype.beconEvent=function(e){void 0===e&&(e=[]);var t=this._mergeEvents(e);this._dealData(t,!0)},e.prototype.report=function(e){if(void 0===e&&(e=!1),!this.collect.destroyInstance&&this._token.isTokenReady()&&this.isReady){var t=this.storage.getItem(this.evtDataKey)||[],r=this._mergeEvents(t);this.storage.removeItem(this.evtDataKey),this._dealData(r,e)}},e.prototype._mergeEvents=function(e){var t=this;if(!e.length)return e;var r=this.cfg.get();r.header.custom=JSON.stringify(r.header.custom);var n=[];return n.push(e),n.map(function(e){return{events:e.map(function(e){try{if(e.event&&"applog_trace"!==e.event){var r=i({},t.cfg.get("evtParams"),e.params);return delete r.__disable_storage__,i({},e,{params:JSON.stringify(r),session_id:t.session._getSessionId()})}return i({},e,{params:JSON.stringify(e.params)})}catch(t){return i({},e,{params:JSON.stringify(e.params)})}}),user:r.user,header:r.header,verbose:t.debugMode?1:void 0,local_time:parseInt(""+(new Date).getTime()/1e3)}})},e.prototype._dealData=function(e,t){var r=this;if(!e.length)return e;e.map(function(e){var t=[];return t.push(e),t}).forEach(function(e){var n=S(),i=e;try{r.filter&&(i=r.filter(e))}catch(e){}r._send(n,i,t)})},e.prototype._send=function(e,t,r){var n=this;this.isSending=!0;var i=function(){n.isSending=!1};w(this.reportUrl,this.timeout,t,this.config.app_key,function(e,t){i(),e&&0!==e.e&&n.collect&&n.collect.tracer&&1!==n.cfg.staging&&n.collect.tracer.addErrorCount(t,"f_data",e.e,e)},function(e,t){i(),n.cfg.get("reportErrorCallback")(e,t),n.collect&&n.collect.tracer&&1!==n.cfg.staging&&n.collect.tracer.addErrorCount(e,"f_net",t)},!1,r,i)},e.prototype.checkStorageEvent=function(){},e}(),I=function(e,t){var r,n,i=function(e){var t=document.createElement("a");return t.href=e,t},a=window.screen.width,o=window.screen.height,s=window.navigator.appVersion,u=window.navigator.userAgent,f=window.navigator.language,c=document.referrer,l=c?i(c).hostname:"",h=function(e){var t=i(e).search,r={};return(t=t.slice(1)).split("&").forEach(function(e){var t,n,i=e.split("=");i.length&&(t=i[0],n=i[1]);try{r[t]=decodeURIComponent(void 0===n?"":n)}catch(e){r[t]=n}}),r}(window.location.href),p="",v="",m="",g=""+parseFloat(s);-1!==(r=u.indexOf("Opera"))&&(m="Opera",g=u.substring(r+6),-1!==(r=u.indexOf("Version"))&&(g=u.substring(r+8))),-1!==(r=u.indexOf("Edge"))?(m="Microsoft Edge",g=u.substring(r+5)):-1!==(r=u.indexOf("MSIE"))?(m="Microsoft Internet Explorer",g=u.substring(r+5)):-1!==(r=u.indexOf("Lark"))?(m="Lark",g=u.substring(r+5,r+11)):-1!==u.indexOf("Chrome")?-1!==(r=u.indexOf("MicroMessenger"))?(m="weixin",g=u.substring(r+15,r+20)):-1!==(r=u.indexOf("MQQBrowser"))?(m="qqbrowser",g=u.substring(r+11,r+15)):-1!==(r=u.indexOf("360"))?(m="360browser",g=u.substring(u.indexOf("Chrome")+7)):-1!==u.indexOf("baidubrowser")||-1!==u.indexOf("BIDUBrowser")?(-1!==u.indexOf("baidubrowser")?(r=u.indexOf("baidubrowser"),g=u.substring(r+13,r+16)):-1!==u.indexOf("BIDUBrowser")&&(r=u.indexOf("BIDUBrowser"),g=u.substring(r+12,r+15)),m="baidubrowser"):-1!==(r=u.indexOf("xiaomi"))?-1!==u.indexOf("openlanguagexiaomi")?(m="openlanguage xiaomi",g=u.substring(r+7,r+13)):(m="xiaomi",g=u.substring(r-7,r-1)):-1!==(r=u.indexOf("TTWebView"))?(m="TTWebView",g=u.substring(r+10,r+23)):-1!==(r=u.indexOf("Chrome"))&&(m="Chrome",g=u.substring(r+7)):-1!==u.indexOf("Safari")?-1!==(r=u.indexOf("QQ"))?(m="qqbrowser",g=u.substring(r+10,r+16)):-1!==(r=u.indexOf("Safari"))&&(m="Safari",g=u.substring(r+7),-1!==(r=u.indexOf("Version"))&&(g=u.substring(r+8))):-1!==(r=u.indexOf("Firefox"))?(m="Firefox",g=u.substring(r+8)):-1!==(r=u.indexOf("MicroMessenger"))?(m="weixin",g=u.substring(r+15,r+20)):-1!==(r=u.indexOf("QQ"))&&(m="qqbrowser",g=u.substring(r+3,r+8)),-1!==(n=g.indexOf(";"))&&(g=g.substring(0,n)),-1!==(n=g.indexOf(" "))&&(g=g.substring(0,n)),-1!==(n=g.indexOf(")"))&&(g=g.substring(0,n));for(var y,b,_=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(s)?"wap":"web",w=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],x=0;x<w.length;x++){var k=w[x];if(k.r.test(u)){p=k.s;break}}function S(e,t){var r=e.exec(t);return r&&r[1]?r[1]:""}switch(/Windows/.test(p)&&(v=S(/Windows (.*)/,p),p="windows"),p){case"Mac OS X":y=u,v=(b=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?)","i").exec(y))?b.slice(1)[0]:"",p="mac";break;case"Android":v=function(e){var t=S(/Android ([\.\_\d]+)/,e);return t||(t=S(/Android\/([\.\_\d]+)/,e)),t}(u),p="android";break;case"iOS":v=(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(s))?v[1]+"."+v[2]+"."+(0|v[3]):"",p="ios"}var E=function(e,t,r){var n=new d(!1),i=new d(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",o=e?"_$utm_from_url_"+e:"_$utm_from_url",s={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],f={creative_id:Number(t.creative_id),ad_id:Number(t.ad_id),campaign_id:Number(t.campaign_id),utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var c=!1;for(var l in f)f[l]&&(-1!==u.indexOf(l)?(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data[l]=f[l]):s[l]=f[l],c=!0);if(c)i.setItem(o,"1"),n.setCookie(a,JSON.stringify(s),7776e6,r);else{var h=n.getCookie(a,r);h&&(s=JSON.parse(h))}i.getItem(o)&&(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data.$utm_from_url=1)}catch(e){return f}return s}(e,h,t);return{browser:m,browser_version:g,platform:_,os_name:p,os_version:v,userAgent:u,screen_width:a,screen_height:o,device_model:function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){var r=navigator.userAgent.replace("Mozilla/5.0 (",""),n=r.indexOf(";");t=r.slice(0,n)}}catch(e){}return t.trim()}(p),language:f,referrer:c,referrer_host:l,creative_id:E.creative_id,ad_id:E.ad_id,campaign_id:E.campaign_id,utm_source:E.utm_source,utm_medium:E.utm_medium,utm_campaign:E.utm_campaign,utm_term:E.utm_term,utm_content:E.utm_content,tracer_data:E.tracer_data}},O=void 0,B=(new Date).getTimezoneOffset(),A=parseInt(""+-B/60,10),P=60*B,R=function(){function e(e,t,r){this.cookieDomain=t.cookie_domain||"",this.initConfig=t;var n=I(e,this.cookieDomain);this.configKey=y(""+e),this.sessionStorage=new d(!1,"session"),this.localStorage=new d(!1,"local"),r&&(this.storage=1===r?this.sessionStorage:this.localStorage),this.envInfo={user:{user_unique_id:O,user_type:O,user_id:O,user_is_auth:O,user_is_login:O,device_id:O,web_id:O,ip_addr_id:O,ssid:O},header:{app_id:O,app_name:O,app_install_id:O,install_id:O,app_package:O,app_channel:O,app_version:O,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:O,ab_version:O,ab_sdk_version:O,traffic_type:O,client_ip:O,device_brand:O,os_api:O,access:O,language:n.language,region:O,app_language:O,app_region:O,creative_id:n.creative_id,ad_id:n.ad_id,campaign_id:n.campaign_id,log_type:O,rnd:O,platform:n.platform,sdk_version:m,sdk_lib:"js",province:O,city:O,timezone:A,tz_offset:P,tz_name:O,sim_region:O,carrier:O,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm_term,utm_content:n.utm_content,utm_source:n.utm_source,utm_medium:n.utm_medium,utm_campaign:n.utm_campaign,tracer_data:JSON.stringify(n.tracer_data),custom:{}}},this.evtParams={},this.reportErrorCallback=function(){}}return e.prototype.set=function(e,t){var r=this;if(null==t&&(this.delete(e),t=void 0),"evtParams"===e||"_staging_flag"===e){var n;n="evtParams"===e?t:{_staging_flag:Number(t)};var a=i({},n);Object.keys(a).forEach(function(e){r.evtParams[e]=a[e]})}else if("reportErrorCallback"===e&&"function"==typeof t)this.reportErrorCallback=t;else{var o="";if(e.indexOf(".")>-1){var s=e.split(".");o=s[0],e=s[1]}if("user_unique_id"===e){if(!t)return;if(-1!==["0","Null","None","","undefined"].indexOf(t))return}if("os_version"===e&&(e=""+t),"web_id"===e){if(!t)return;(!this.envInfo.user.user_unique_id||this.envInfo.user.user_unique_id&&this.envInfo.user.user_unique_id===this.envInfo.user.web_id)&&(this.envInfo.user.user_unique_id=t)}o?"user"===o||"header"===o?this.envInfo[o][e]=t:this.envInfo.header.custom[e]=t:this.envInfo.user.hasOwnProperty(e)?["user_type","ip_addr_id"].indexOf(e)>-1?this.envInfo.user[e]=t?Number(t):t:["user_id","web_id","user_unique_id","ssid"].indexOf(e)>-1?this.envInfo.user[e]=t?String(t):t:["user_is_auth","user_is_login"].indexOf(e)>-1?this.envInfo.user[e]=Boolean(t):"device_id"===e&&(this.envInfo.user[e]=t):this.envInfo.header.hasOwnProperty(e)?this.envInfo.header[e]=t:this.envInfo.header.custom[e]=t}},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error ")}},e.prototype.setStore=function(e){try{var t=this.storage.getItem(this.configKey);if(Object.keys(e).length){var r=Object.assign(e,t);this.storage.setItem(this.configKey,r)}}catch(e){}},e.prototype.getStore=function(){try{var e=this.storage.getItem(this.configKey);return Object.keys(e).length?e:null}catch(e){return null}},e.prototype.delete=function(e){try{var t=this.storage.getItem(this.configKey);t&&t.hasOwnProperty(e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){}},e}(),L=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}var t=e.prototype;return t.info=function(e){this.isLog&&console.log("["+this.name+"] "+e)},t.warn=function(e){this.isLog&&console.warn("["+this.name+"] "+e)},t.error=function(e){this.isLog&&console.error("["+this.name+"] "+e)},t.throw=function(e){throw this.error(this.name),new Error(e)},e}(),C=function(){function e(){this._hooks={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var r=this;e&&t&&"function"==typeof t&&this.on(e,function n(i){t(i),r.off(e,n)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var r=this._hooks[e].indexOf(t);-1!==r&&this._hooks[e].splice(r,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e}(),j=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},D=function(){function e(e,t){this.storage=new d(!1,"session"),this.sessionKey=b(e),this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||this._setSessionId()}return e.prototype._updateSessionId=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:j(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this._resetExpTime()}},e.prototype._setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:j(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval(function(){e._checkEXp()},this.expireTime)},e.prototype._getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype._resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e._checkEXp()},this.expireTime))},e.prototype._resetSessionId=function(){var e={sessionId:j(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype._checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:j(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),z={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},N=function(){function e(e,t,r,n){this.count={pv:0,sdk:0,autotrack:0,log:0},this.limit={pv:1,sdk:10,autotrack:10,log:3},this.errorCode={f_net:0,f_data:0},this.errorInfo={pv:{f_net:0,f_data:0},sdk:{f_net:0,f_data:0},autotrack:{f_net:0,f_data:0},log:{f_net:0,f_data:0}},this.collect=e,this.disable_tracer=t.disable_tracer||t.channel_domain,this.ready=!(!t.app_id||this.disable_tracer),this.appid=t.app_id,this.process=r,this.event=n;var i=t.channel_domain||E(h[t.channel]);this.reportUrl=t.report_url?t.report_url:""+i+v,this.listener()}return e.prototype.addCount=function(e){try{if(!this.ready)return;if(this.count[e]++,this.count[e]>=this.limit[e]){var t=[];for(var r in t=o(t,this.processTracer(this.count[e],e,"net")),this.errorInfo[e])this.errorInfo[r]&&(t=o(t,this.processTracer(this.errorInfo[e][r],e,r)));t.length&&this.sendTracer(t,!0,e,!1)}}catch(e){}},e.prototype.addErrorCount=function(e,t,r,n){var i=this;try{if(!this.ready)return;if(e&&e.length){var a=e[0].events;a&&a.length&&("f_data"===t?(n&&n.hasOwnProperty("sc")?this.errorInfo.log.f_data=a.length-n.sc:this.errorInfo.log.f_data=a.length,this.errorCode.f_data=r):a.forEach(function(e){var t="log";for(var n in z)if(-1!==z[n].indexOf(e.event)){t=n;break}i.errorInfo[t].f_net++,i.errorCode.f_net=r}))}}catch(e){}},e.prototype.clearCount=function(e){try{e?(this.count[e]=0,this.errorInfo[e]={f_net:0,f_data:0}):(this.count={pv:0,sdk:0,autotrack:0,log:0},this.errorInfo={pv:{f_net:0,f_data:0},sdk:{f_net:0,f_data:0},autotrack:{f_net:0,f_data:0},log:{f_net:0,f_data:0}})}catch(e){}},e.prototype.sendTracer=function(e,t,r,n){try{if(!this.ready)return;if(this.collect.staging)return;var i=this.event._mergeEvents(e);n&&window.navigator.sendBeacon?window.navigator.sendBeacon(this.reportUrl,JSON.stringify(i)):w(this.reportUrl,3e5,i,""),t?this.clearCount(r):this.clearCount()}catch(e){}},e.prototype.processTracer=function(e,t,r){try{var n={count:e,state:r,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:m};"f_net"!==r&&"f_data"!==r||(n.errorCode=this.errorCode[r]);var i=[];if(i.push(this.process("applog_trace",n,!0)),i&&i.length)return delete i[0].is_bav,i}catch(e){}},e.prototype.listener=function(){var e=this;this.ready&&(document.addEventListener("visibilitychange",function(){e.leavePage()}),U(function(){e.leavePage()}))},e.prototype.leavePage=function(){if(this.ready)try{var e=[];for(var t in this.count)if(this.count[t]){var r=this.errorInfo[t];for(var n in e=o(e,this.processTracer(this.count[t],t,"net")),r)r[n]&&(e=o(e,this.processTracer(r[n],t,n)))}e&&e.length&&this.sendTracer(e,!1,"",!0)}catch(e){}},e}(),F=function(){function e(e){this.logger=e}var t=e.prototype;return t.bridgeInject=function(){try{return AppLogBridge?(this.logger.info("AppLogBridge is injected"),!0):(this.logger.info("AppLogBridge is not inject"),!1)}catch(e){return this.logger.info("AppLogBridge is not inject"),!1}},t.hasStarted=function(e){var t=this;try{this.bridgeInject()?AppLogBridge.hasStarted(function(r){t.logger.info("AppLogBridge is started? : "+r),e(r)}):e(0)}catch(t){this.logger.info("AppLogBridge, error:"+JSON.stringify(t.stack)),e(0)}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){this.logger.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){this.logger.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){this.logger.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){this.logger.error("removeHeaderInfo error")}},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t)}catch(e){this.logger.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){this.logger.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){this.logger.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){this.logger.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){this.logger.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){this.logger.error("profileAppend error")}},e}(),q=o(["init","config","send","start","predefinePageView","beconEvent","on","resetStayDuration","autoInitializationRangers"],["profileSet","profileSetOnce","profileIncrement","profileUnset","profileAppend","getVar","getAbSdkVersion","onAbSdkVersionChange","offAbSdkVersionChange","getABconfig","openOverlayer","closeOverlayer","getAllVars","setExternalAbVersion","getToken","destroy"]),V=(k=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return k+=1}),W=function(){function e(e){var t=this;this.is_first_time=!1,this.Native=!1,this.staging=!1,this.sdkload=!1,this._getToken=!1,this.predefinePageView=function(e){if(void 0===e&&(e={}),t.sdkload){var r={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+t.is_first_time},n=i({},r,e);t.event("predefine_pageview",n,"pv")}else t.logger.warn("sdk init error, api can not call")},this.getToken=function(e,t){},this.name=e,this._isSend=!1,this.hook=new C,this.storage=new d(!1)}return e.prototype.autoInitializationRangers=function(e){e&&e.app_id&&(this.autoBase=!0,function(e){var t=e.app_id,r=e.channel,n=e.onTokenReady,i=""+E(h[r])+p,a=new d(!1),o=g(t,!0),s=a.getItem(o);s&&s.web_id?n(s.web_id):w(i,3e3,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},"",function(e){if(e&&0===e.e){n(e.web_id);var t={web_id:e.web_id,ssid:e.ssid,user_unique_id:e.web_id,timestamp:Date.now()};a.setItem(o,t)}else n("")},function(){n("")},!0)}(e))},e.prototype.init=function(e){var t=this;if(!this.autoBase&&!this._inited){if(this._inited=!0,!e||"object"!=typeof e)throw new Error("init params is error,please check");this.logger=new L(this.name,e.log);var r=e.app_id,n=e.app_key;n||r?r&&"number"!=typeof r?this.logger.throw("app_id param is error, must be number, please check !!!"):n&&"string"!=typeof n?this.logger.warn("app_key is empty, please check!"):e.channel_domain||-1!==["cn","sg","va"].indexOf(e.channel)?(this.Native=e.Native,this._initConfig=e,this.appBridge=new F(this.logger),this.storage.getItem("__tea_cache_first_"+r)?this.is_first_time=!1:(this.is_first_time=!0,this.storage.setItem("__tea_cache_first_"+r,"1")),this.sdkload=!0,e.Native&&this.appBridge.bridgeInject()?this.appBridge.hasStarted(function(r){r||t._init(e)}):this._init(e)):this.logger.throw("channel must be `cn`, `sg`,`va` !!!"):this.logger.throw("no app_key or app_id please check !!!")}},e.prototype._init=function(e){var t=this;this.autoPV=!0,this.sdkload=!0,this._initConfig=e,this._config=new R(e.app_id,e,e.configPersist||0),this.configPersist=e.configPersist||0,this._config.set("app_id",e.app_id),this.hook.on("token-ready",function(){t.callbackSend?t._isSend?t._event&&t._event.report():t.start():t._event&&t._event.report()}),this._session=new D(e.app_key||e.app_id,e),this._token=new T(e,this._config,this.hook,this._session),this._event=new M(this,e,this._config,this._token,this.plugin,this._session,e.filter),this.tracer=new N(this,e,this._processEvent.bind(this),this._event),this._token._getToken()},e.prototype.config=function(e){var t=this;this.sdkload?this.Native&&this.appBridge.bridgeInject()?this.appBridge.hasStarted(function(r){if(r)for(var n in e)"user_unique_id"===n?t.appBridge.setUserUniqueId(e[n]):e[n]?t.appBridge.addHeaderInfo(n,e[n]):t.appBridge.removeHeaderInfo(n);else t._setConfig(e)}):this._setConfig(e):this.logger.warn("sdk init error, api can not call")},e.prototype._setConfig=function(e){if(!this.autoBase)if(this._inited)if(e&&"object"==typeof e){e.disable_auto_pv&&(this.autoPV=!1,delete e.disable_auto_pv),e._staging_flag&&1===e._staging_flag&&(this.staging=!0);var t=i({},e);if(this.configPersist){var r=this._config.getStore();r&&(t=Object.assign(r,e)),this._config.setStore(e)}for(var n in t){if(t.user_unique_id){"string"!=typeof t.user_unique_id&&this.logger.warn("user_unique_id must be string!!! please check");try{var a=String(t.user_unique_id);this._token._getSsid(a)}catch(e){}}this._config.set(n,t[n])}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},e.prototype.on=function(e,t){try{e&&"string"==typeof e&&"function"==typeof t&&this.hook.on(e,t)}catch(e){}},e.prototype.send=function(){this.start()},e.prototype.start=function(){var e=this;this.sdkload?this.Native&&this.appBridge.bridgeInject()?this.appBridge.hasStarted(function(t){t?(e.logger.info("jsbrige开启，事件将由原生 sdk进行上报"),e.predefinePageView()):e._start()}):this._start():this.logger.warn("sdk init error, api can not call")},e.prototype._start=function(){if(!this.autoBase)if(this._token.isTokenReady()){if(this._isSend)return void this.logger.warn("method start can not be use over one time , please check !!");this._isSend=!0,this.logger.info("userInfo:"+JSON.stringify(this._config.get("user"))),this.logger.info("sdk is ready,version is "+m+". you can report now !!!"),this._event.setReady(),this.autoPV&&this.predefinePageView(),this._getToken&&this.hook.emit("get-token"),(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}else this.callbackSend=!0},e.prototype.beconEvent=function(e,t,r){var n=this;void 0===t&&(t={});var i=r||"log",a=[];a.push([e,t]),a=a.map(function(e){return n._processEvent(e[0],e[1])}),this._dealEvent(!0,a,i),this._addTracerCount(i)},e.prototype.event=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.sdkload){var n=a(t,1)[0],i=[];"Array"!==Object.prototype.toString.call(n).slice(8,-1)?i[0]=t:i=t,i=i.map(function(t){return e._processEvent(t[0],t[1])}),this._dealEvent(!1,i,"log"),this._addTracerCount("log")}else this.logger.warn("sdk init error, api can not call")},e.prototype._dealEvent=function(e,t,r){var n=this;if(this.sdkload)if(this.Native&&this.appBridge.bridgeInject()){if("autotrack"===r||"sdk"===r)return;this.appBridge.hasStarted(function(r){r?t&&t.length&&t.forEach(function(e){var t=e.event,r=e.params;n.appBridge.onEventV3(t,JSON.stringify(r))}):n._commonEvent(e,t)})}else this._commonEvent(e,t);else this.logger.warn("sdk init error, api can not call")},e.prototype._commonEvent=function(e,t){e?this._event.beconEvent(t):this._event.event(t),this._session._updateSessionId()},e.prototype._addTracerCount=function(e){this.sdkload?this.Native||this.staging||this.tracer.addCount(e):this.logger.warn("sdk init error, api can not call")},e.prototype._processEvent=function(e,t){try{var r=e;/^event\./.test(e)&&(r=e.slice(6));var n,i=t;return"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=V(),i.local_ms?(n=i.local_ms,delete i.local_ms):n=+new Date,{event:r,params:i,local_time_ms:n,is_bav:this._initConfig.autotrack?1:0}}catch(r){return{event:e,params:t}}},e.prototype.resetStayDuration=function(e,t,r){},e.prototype.profileSet=function(e){},e.prototype.profileSetOnce=function(e){},e.prototype.profileIncrement=function(e){},e.prototype.profileUnset=function(e){},e.prototype.profileAppend=function(e){},e.prototype.setExternalAbVersion=function(e){},e.prototype.getVar=function(e,t,r){},e.prototype.getABconfig=function(e,t){},e.prototype.getAbSdkVersion=function(e){},e.prototype.onAbSdkVersionChange=function(e){},e.prototype.offAbSdkVersionChange=function(e){},e.prototype.openOverlayer=function(){},e.prototype.closeOverlayer=function(){},e.prototype.getAllVars=function(e){},e.prototype.destroy=function(){this.destroyInstance||(this.destroyInstance=!0,this.hook.off("token-ready"))},e}();t.default=function(e){var t=this;return n(this,"_exportCollect",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t._isProcess?t._executeCmd.apply(t,r):(t.cmdQueue.push(r),t._processCmd())}),n(this,"_processCmd",function(){if(0!==t.cmdQueue.length){var e,r=function(e,t,r){var n=-1;return e.forEach(function(e,i){(void 0!==r?e[r]:e)===t&&(n=i)}),n};-1===(e=r(t.cmdQueue,"autoInitializationRangers","0"))&&(e=r(t.cmdQueue,"init","0")),-1!==e&&(t._isProcess=!0,t._executeCmd.apply(t,t.cmdQueue[e]),t.cmdQueue.forEach(function(r,n){n!==e&&t._executeCmd.apply(t,r)}),t.cmdQueue=[])}}),n(this,"_executeCmd",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i,a,o=r[0];q.indexOf(o)>-1?(i=t.colloctor)[o].apply(i,r.slice(1)):(a=t.colloctor).event.apply(a,r)}),this.cmdQueue=[],this.name=e,this.colloctor=new W(e),this._isProcess=!1,this._alias={},this._processCmd(),q.forEach(function(e){t._exportCollect[e]=t._exportCollect.bind(t,e)}),this._exportCollect}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(r(2)),i=v(r(3)),a=v(r(0)),o=v(r(87)),s=v(r(93)),u=v(r(94)),f=v(r(95)),c=v(r(96)),l=v(r(97)),d=v(r(98)),h=v(r(99)),p=v(r(226));function v(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,null,[{key:"probe",value:function(e,t){var r=new a.default(e),n=t&&new a.default(t),i=new p.default,v=[o.default,s.default,u.default,f.default,c.default,l.default,d.default,h.default,i],m=!1;return v.every(function(e){var t=e.probe(r,n);return t&&(m=t),r.position=0,!t}),m}}]),e}();t.default=m,e.exports=t.default},function(e,t,r){r(155),e.exports=r(4).Object.getPrototypeOf},function(e,t,r){var n=r(38),i=r(77);r(156)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(6),i=r(4),a=r(22);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",o)}},function(e,t,r){e.exports={default:r(158),__esModule:!0}},function(e,t,r){r(25),r(39),e.exports=r(67).f("iterator")},function(e,t,r){e.exports={default:r(160),__esModule:!0}},function(e,t,r){r(161),r(49),r(164),r(165),e.exports=r(4).Symbol},function(e,t,r){"use strict";var n=r(7),i=r(23),a=r(14),o=r(6),s=r(74),u=r(68).KEY,f=r(22),c=r(57),l=r(37),d=r(45),h=r(8),p=r(67),v=r(69),m=r(162),g=r(88),y=r(13),b=r(12),_=r(27),w=r(54),x=r(35),k=r(42),S=r(163),E=r(90),T=r(11),U=r(43),M=E.f,I=T.f,O=S.f,B=n.Symbol,A=n.JSON,P=A&&A.stringify,R=h("_hidden"),L=h("toPrimitive"),C={}.propertyIsEnumerable,j=c("symbol-registry"),D=c("symbols"),z=c("op-symbols"),N=Object.prototype,F="function"==typeof B,q=n.QObject,V=!q||!q.prototype||!q.prototype.findChild,W=a&&f(function(){return 7!=k(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=M(N,t);n&&delete N[t],I(e,t,r),n&&e!==N&&I(N,t,n)}:I,G=function(e){var t=D[e]=k(B.prototype);return t._k=e,t},H=F&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},Y=function(e,t,r){return e===N&&Y(z,t,r),y(e),t=w(t,!0),y(r),i(D,t)?(r.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),r=k(r,{enumerable:x(0,!1)})):(i(e,R)||I(e,R,x(1,{})),e[R][t]=!0),W(e,t,r)):I(e,t,r)},J=function(e,t){y(e);for(var r,n=m(t=_(t)),i=0,a=n.length;a>i;)Y(e,r=n[i++],t[r]);return e},K=function(e){var t=C.call(this,e=w(e,!0));return!(this===N&&i(D,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(D,e)||i(this,R)&&this[R][e])||t)},Q=function(e,t){if(e=_(e),t=w(t,!0),e!==N||!i(D,t)||i(z,t)){var r=M(e,t);return!r||!i(D,t)||i(e,R)&&e[R][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=O(_(e)),n=[],a=0;r.length>a;)i(D,t=r[a++])||t==R||t==u||n.push(t);return n},Z=function(e){for(var t,r=e===N,n=O(r?z:_(e)),a=[],o=0;n.length>o;)!i(D,t=n[o++])||r&&!i(N,t)||a.push(D[t]);return a};F||(s((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===N&&t.call(z,r),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),W(this,e,x(1,r))};return a&&V&&W(N,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),E.f=Q,T.f=Y,r(89).f=S.f=X,r(47).f=K,r(63).f=Z,a&&!r(33)&&s(N,"propertyIsEnumerable",K,!0),p.f=function(e){return G(h(e))}),o(o.G+o.W+o.F*!F,{Symbol:B});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)h($[ee++]);for(var te=U(h.store),re=0;te.length>re;)v(te[re++]);o(o.S+o.F*!F,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=B(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!F,"Object",{create:function(e,t){return void 0===t?k(e):J(k(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),A&&o(o.S+o.F*(!F||f(function(){var e=B();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!H(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!H(t))return t}),n[1]=t,P.apply(A,n)}}),B.prototype[L]||r(16)(B.prototype,L,B.prototype.valueOf),l(B,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,r){var n=r(43),i=r(63),a=r(47);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var o,s=r(e),u=a.f,f=0;s.length>f;)u.call(e,o=s[f++])&&t.push(o);return t}},function(e,t,r){var n=r(27),i=r(89).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},function(e,t,r){r(69)("asyncIterator")},function(e,t,r){r(69)("observable")},function(e,t,r){e.exports={default:r(167),__esModule:!0}},function(e,t,r){r(168),e.exports=r(4).Object.setPrototypeOf},function(e,t,r){var n=r(6);n(n.S,"Object",{setPrototypeOf:r(169).set})},function(e,t,r){var n=r(12),i=r(13),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(15)(Function.call,r(90).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){e.exports={default:r(171),__esModule:!0}},function(e,t,r){r(172);var n=r(4).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(6);n(n.S,"Object",{create:r(42)})},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.vmhd=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=[e.readUint8(),e.readUint8(),e.readUint8()],this.graphicsmode=e.readUint16(),this.opcolor=[e.readUint16(),e.readUint16(),e.readUint16()],delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default["url "]=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=[e.readUint8(),e.readUint8(),e.readUint8()];for(var t=[],r=e.buffer.byteLength;e.position<r;)t.push(e.readUint8());this.location=t,delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n,i=r(1);((n=i)&&n.__esModule?n:{default:n}).default.udta=function(){delete this.subBox}},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";var n=o(r(1)),i=o(r(0)),a=o(r(70));function o(e){return e&&e.__esModule?e:{default:e}}n.default.tkhd=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3,0),1===this.version?(this.create=e.readUint64(),this.modify=e.readUint64(),this.trackID=e.readUint32(),this.reserverd=e.readUint32(),this.duration=e.readUint64()):(this.create=e.readUint32(),this.modify=e.readUint32(),this.trackID=e.readUint32(),this.reserverd=e.readUint32(),this.duration=e.readUint32()),this.createTime=(new a.default).setTime(1e3*this.create),this.modifyTime=(new a.default).setTime(1e3*this.modify),e.readUint64(),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16();for(var t=[],r=0;r<3;r++)t.push(e.readUint16()+"."+e.readUint16()),t.push(e.readUint16()+"."+e.readUint16()),t.push((e.readUint32()>>30)+"");this.matrix=t,this.width=e.readUint16()+"."+e.readUint16(),this.height=e.readUint16()+"."+e.readUint16(),delete this.data,delete this.subBox,e=null}},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.stts=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.count=e.readUint32();for(var t=[],r=0,n=this.count;r<n;r++)t.push({sampleCount:e.readUint32(),sampleDuration:e.readUint32()});this.entry=t,delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.stsz=function(){var e=new i.default(this.data);if(this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.sampleSize=e.readUint32(),this.count=e.readUint32(),0===this.sampleSize){var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint32())}delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.stss=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint32());delete this.subBox,delete this.data,e=null}},function(e,t,r){},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.stsd=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.entryCount=e.readUint32();var t=new n.default;t.readHeader(e),this.subBox.push(t),t.readBody(e),delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.stsc=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push({first_chunk:e.readUint32(),samples_per_chunk:e.readUint32(),sample_desc_index:e.readUint32()});for(var a,o,s=0,u=this.count;s<u-1;s++)a=t[s],o=t[s-1],a.chunk_count=t[s+1].first_chunk-a.first_chunk,a.first_sample=0===s?1:o.first_sample+o.chunk_count*o.samples_per_chunk;if(1===this.count){var f=t[0];f.first_sample=1,f.chunk_count=0}else if(this.count>1){var c=t[this.count-1],l=t[this.count-2];c.first_sample=l.first_sample+l.chunk_count*l.samples_per_chunk,c.chunk_count=0}delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.stco=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint32());delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.smhd=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.balance=e.readInt8()+"."+e.readInt8(),delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n,i=r(1),a=(n=i)&&n.__esModule?n:{default:n};a.default.SLConfigDescriptor=function(e){var t=new a.default,r=void 0;if(e.length<=e.position)return t;if(t.type=e.readUint8(),128===(r=e.readUint8())){t.extend=!0;for(var n=0;n<3;n++){var i=e.readUint8();128!==i&&(r=i+5)}}else r+=2;return t.size=r,e.length>e.position&&(t.SL=e.readUint8()),delete t.subBox,t}},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.pasp=function(){var e=new i.default(this.data);this.content=e.buffer.slice(0,this.size-8),delete this.subBox,delete this.data,e=null}},function(e,t,r){},function(e,t,r){"use strict";var n=o(r(1)),i=o(r(0)),a=o(r(70));function o(e){return e&&e.__esModule?e:{default:e}}n.default.mvhd=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),1==this.version?(this.create=e.readUint64(),this.modify=e.readUint64(),this.timeScale=e.readUint32(),this.duration=e.readUint64()):(this.create=e.readUint32(),this.modify=e.readUint32(),this.timeScale=e.readUint32(),this.duration=e.readUint32()),this.createTime=(new a.default).setTime(1e3*this.create),this.modifyTime=(new a.default).setTime(1e3*this.modify),this.rate=e.readUint16()+"."+e.readUint16(),this.volume=e.readUint8()+"."+e.readUint8(),i.default.readByte(e.dataview,8),i.default.readByte(e.dataview,2);for(var t=[],r=0;r<3;r++)t.push(e.readUint16()+"."+e.readUint16()),t.push(e.readUint16()+"."+e.readUint16()),t.push((e.readUint32()>>30)+"");this.matrix=t,i.default.readByte(e.dataview,24),this.nextTrackID=e.readUint32(),delete this.subBox,delete this.data}},function(e,t,r){"use strict";var n,i=r(1),a=(n=i)&&n.__esModule?n:{default:n};a.default.MP4ESDescrTag=function(e){var t=new a.default,r=void 0;if(t.type=e.readUint8(),128===(r=e.readUint8())){t.extend=!0;for(var n=0;n<3;n++){var i=e.readUint8();128!==i&&(r=i+5)}}else r+=2;return t.size=r,t.esID=e.readUint16(),t.priority=e.readUint8(),t.subBox.push(a.default.MP4DecConfigDescrTag(e)),t.subBox.push(a.default.SLConfigDescriptor(e)),t}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(91));function a(e){return e&&e.__esModule?e:{default:e}}n.default.MP4DecSpecificDescrTag=function(e){var t=new n.default,r=void 0,a=void 0;if(t.type=e.readUint8(),128===(r=e.readUint8())){t.extend=!0;for(var o=0;o<3;o++){var s=e.readUint8();128!==s&&(r=s+5)}a=r-5}else a=r,r+=2;t.size=r;for(var u=[],f=0;f<a;f++){var c=Number(e.readUint8()).toString(16);u.push(i.default.padStart(c,2,"0"))}return t.EScode=u,delete t.subBox,t}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.MP4DecConfigDescrTag=function(e){var t=new n.default,r=void 0;if(t.type=e.readUint8(),128===(r=e.readUint8())){t.extend=!0;for(var a=0;a<3;a++){var o=e.readUint8();128!==o&&(r=o+5)}}else r+=2;return t.size=r,t.typeID=e.readUint8(),t.streamUint=e.readUint8(),t.bufferSize=i.default.readByte(e.dataview,3),t.maximum=e.readUint32(),t.average=e.readUint32(),t.subBox.push(n.default.MP4DecSpecificDescrTag(e)),t}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.mp4a=function(){var e=new i.default(this.data);e.skip(6),this.dataReferenceIndex=e.readUint16(),e.skip(8),this.channelCount=e.readUint16(),this.sampleSize=e.readUint16(),e.skip(4),this.sampleRate=e.readUint32()>>16;var t=new n.default;t.readHeader(e),this.subBox.push(t),t.readBody(e),delete this.data,e=null}},function(e,t,r){},function(e,t,r){"use strict";var n=o(r(1)),i=o(r(0)),a=o(r(70));function o(e){return e&&e.__esModule?e:{default:e}}n.default.mdhd=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),1===this.version?(this.create=e.readUint64(),this.modify=e.readUint64(),this.createTime=(new a.default).setTime(1e3*this.create),this.modifyTime=(new a.default).setTime(1e3*this.modify),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.create=e.readUint32(),this.modify=e.readUint32(),this.createTime=(new a.default).setTime(1e3*this.create),this.modifyTime=(new a.default).setTime(1e3*this.modify),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.language=e.readUint16(),e.readUint16(),delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n,i=r(1);((n=i)&&n.__esModule?n:{default:n}).default.mdat=function(){delete this.subBox}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.keys=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.entryCount=e.readUint32();var t=[];this.entry=t;for(var r=0,n=this.entryCount;r<n;r++){var a=e.readInt32();t.push({namespace:e.readString(4),value:e.readString(a-8)})}delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.iods=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3);for(var t=[],r=e.buffer.byteLength;e.position<r;)t.push(e.readUint8());this.content=t,delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.ilst=function(){var e=new i.default(this.data),t=[];this.item=t;for(var r=0;this.bodySize>r;){r+=e.readInt32();var n=e.readInt32(),a=e.readInt32(),o=e.readString(4);"data"===o?t.push({index:n,type:o,typeIndicator:e.readInt32(),localeIndicator:e.readInt32(),value:e.readString(a-16)}):(t.push({type:o}),e.skip(a-8))}delete this.data,e=null}},function(e,t,r){},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.hdlr=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),e.skip(4),this.handleType=""+String.fromCharCode(e.readUint8())+String.fromCharCode(e.readUint8())+String.fromCharCode(e.readUint8())+String.fromCharCode(e.readUint8()),e.skip(12);for(var t=[];e.position<this.size-8;)t.push(String.fromCharCode(e.readUint8()));this.name=t.join(""),delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.ftyp=function(){var e=new i.default(this.data);this.major_brand=String.fromCharCode(e.readUint8(),e.readUint8(),e.readUint8(),e.readUint8()),this.minor_version=e.readUint32();for(var t=[],r=0,n=Math.floor((e.buffer.byteLength-8)/4);r<n;r++)t.push(String.fromCharCode(e.readUint8(),e.readUint8(),e.readUint8(),e.readUint8()));this.compatible_brands=t,e=null,delete this.subBox,delete this.data}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.esds=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3);var t=n.default.MP4ESDescrTag(e);this.subBox.push(t),delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.encv=function(){var e=new i.default(this.data);e.skip(6),this.dataReferenceIndex=e.readUint16(),e.skip(16),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.skip(4),this.frameCount=e.readUint16(),e.skip(1);for(var t=0;t<31;t++)String.fromCharCode(e.readUint8());for(this.depth=e.readUint16(),e.skip(2);e.position<e.buffer.byteLength-8;){var r=new n.default;r.readHeader(e),this.subBox.push(r),r.readBody(e)}delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.enca=function(){var e=new i.default(this.data);e.skip(6),this.dataReferenceIndex=e.readUint16(),e.skip(16),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.skip(4),this.frameCount=e.readUint16(),e.skip(1);for(var t=0;t<31;t++)String.fromCharCode(e.readUint8());for(this.depth=e.readUint16(),e.skip(2);e.position<e.buffer.byteLength-8;){var r=new n.default;r.readHeader(e),this.subBox.push(r),r.readBody(e)}delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.elst=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3);var t=[],r=e.readUint32();this.entries=t;for(var n=0;n<r;n++){var a={};t.push(a),1===this.version?(a.segment_duration=e.readUint64(),a.media_time=e.readUint64()):(a.segment_duration=e.readUint32(),a.media_time=e.readInt32()),a.media_rate_integer=e.readInt16(),a.media_rate_fraction=e.readInt16()}delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.dref=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3);var t=e.readUint32();this.entryCount=t;for(var r=0;r<t;r++){var a=new n.default;this.subBox.push(a),a.read(e)}delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.ctts=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.entryCount=e.readUint32();var t=[];this.entry=t;for(var r=0,n=this.entryCount;r<n;r++)t.push({count:e.readUint32(),offset:e.readUint32()});delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.colr=function(){var e=new i.default(this.data);if(this.colour_type=e.readString(4),"nclc"===this.colour_type)this.primaries_index=e.readUint16(),this.transfer_function_index=e.readUint16(),this.matrix_index=e.readUint16();else if("nclx"===this.colour_type){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var t=e.readUint8();this.full_range_flag=t>>7}else"rICC"===this.colour_type?this.ICC_profile=e.readString(this.size-4):"prof"===this.colour_type&&(this.ICC_profile=e.readString(this.size-4));delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.co64=function(){var e=new i.default(this.data);this.version=e.readUint8(),this.flag=i.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint64());delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.btrt=function(){var e=new i.default(this.data);this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32(),delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.avcC=function(){var e=new i.default(this.data);this.configVersion=e.readUint8(),this.profile=e.readUint8(),this.profileCompatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=1+(3&e.readUint8()),this.numOfSequenceParameterSets=31&e.readUint8();var t=e.readUint16();this.sequenceLength=t;for(var r=[],n=0;n<t;n++)r.push(Number(e.readUint8()).toString(16));this.ppsCount=e.readUint8();var a=e.readUint16();this.ppsLength=a;for(var o=[],s=0;s<a;s++)o.push(Number(e.readUint8()).toString(16));this.pps=o,this.sequence=r;for(var u=[],f=e.dataview.byteLength;e.position<f;)u.push(e.readUint8());this.last=u,delete this.subBox,delete this.data,e=null}},function(e,t,r){"use strict";var n=a(r(1)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}n.default.avc1=function(){var e=new i.default(this.data);e.skip(6),this.dataReferenceIndex=e.readUint16(),e.skip(16),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.skip(4),this.frameCount=e.readUint16(),e.skip(1);for(var t=0;t<31;t++)String.fromCharCode(e.readUint8());for(this.depth=e.readUint16(),e.skip(2);e.position<e.buffer.byteLength-8;){var r=new n.default;r.readHeader(e),this.subBox.push(r),r.readBody(e)}delete this.data,e=null}},function(e,t,r){"use strict";r.r(t);var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function o(e,t,r){return e.concat(t).map(function(e){return a(e,r)})}function s(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n;var i=Array.isArray(t);return i===Array.isArray(e)?i?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){n[t]=a(e[t],r)}),Object.keys(t).forEach(function(i){r.isMergeableObject(t[i])&&e[i]?n[i]=s(e[i],t[i],r):n[i]=a(t[i],r)}),n}(e,t,r):a(t,r)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return s(e,r,t)},{})};var u=s;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metaParse=function(e){var t={isParsed:!0,msg:"moov found",canGetFrame:!1},r=n.default.findBox(e,"meta");if(r){var o=n.default.findBox(r,"keys"),s=n.default.findBox(r,"ilst");if(o&&s){var u=o.entry,f=s.item,c={};f.forEach(function(e){var t=u[e.index-1].value,r=e.value;c[t]=r}),t.meta=c}}var l=n.default.findBox(e,"mvhd")||{};t.createTime=l.createTime,t.modifyTime=l.modifyTime,t.duration=l.duration/l.timeScale,t.timeScale=l.timeScale,t.isFragmented=null!=e.mvex;var d=n.default.findBox(e,"mvex");if(t.isFragmented=!!d,d){var h=n.default.findBox(d,"mehd");t.fragment_duration=h.fragment_duration}t.tracks=[];var p=n.default.findBox(e,"trak");return(p=[].concat(p)).forEach(function(e){var r={},o=n.default.findBox(e,"hdlr"),s=n.default.findBox(e,"mdhd");if(o&&s){var u=n.default.findBox(e,"stsd").subBox[0];if("vide"===o.handleType){var f=n.default.findBox(e,"avcC"),c=n.default.findBox(e,"hvcC"),d=n.default.findBox(e,"tkhd"),h=[1,1],p=void 0,v=void 0;r.type="video",r.timeScale=s.timescale;var m=u.type;if("encv"===u.type&&f&&(m="avc"),"encv"===u.type&&c&&(m="hvc"),m&&"avc"===m.substring(0,3)&&(t.canGetFrame=!0),f){r.codec=m+"."+n.default.toHex(f.profile,f.profileCompatibility,f.AVCLevelIndication).join("");var g=f.sequence&&f.sequence.map(function(e){return Number("0x"+e)});if(g.length){var y=new a.default(new Uint8Array(g)).readSPS();h=y&&y.pixelRatio,p=y.width,v=y.height}}else r.codec=""+m;if(d){var b=i.default.getRotation(l.matrix,d.matrix),_=d.width&&parseInt(d.width),w=d.height&&parseInt(d.height),x=function(e,t,r){var n=void 0,i=void 0;return r[0]/r[1]<1?(n=e,i=Math.ceil(t*r[1]/r[0])):(i=t,n=Math.ceil(e*r[0]/r[1])),i%2!=0&&i++,n%2!=0&&n++,{displayWidth:n,displayHeight:i}}(p=p||_,v=v||w,h),k=x.displayWidth,S=x.displayHeight;90===b||-90===b||270===b||-270===b?(t.width=r.width=w,t.height=r.height=_,t.pictureWidth=r.pictureWidth=v,t.pictureHeight=r.pictureHeight=p,t.displayWidth=r.displayWidth=S,t.displayHeight=r.displayHeight=k):(t.width=r.width=_,t.height=r.height=w,t.pictureWidth=r.pictureWidth=p,t.pictureHeight=r.pictureHeight=v,t.displayWidth=r.displayWidth=k,t.displayHeight=r.displayHeight=S),t.videoRotate=b}}if("soun"===o.handleType){r.type="audio";var E=n.default.findBox(e,"esds");n.default.findBox(e,"mp4a"),r.timeScale=s.timescale,E&&E.subBox.length?r.codec=u.type+"."+n.default.toHex(E.subBox[0].subBox[0].typeID)+"."+E.subBox[0].subBox[0].subBox[0].type:r.codec=""+u.type}t.tracks.push(r)}else console.log("error")}),t};var n=o(r(91)),i=o(r(221)),a=o(r(92));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getRotation:function(e,t){for(var r=[],n=[],i=[[0,0,0],[0,0,0],[0,0,0]],a=0;a<3;a++)r[a]=[].concat(t[3*a],t[3*a+1],t[3*a+2]),n[a]=[].concat(e[3*a],e[3*a+1],e[3*a+2]);for(var o=0;o<3;o++)for(var s=0;s<3;s++)for(var u=0;u<3;u++)i[o][s]+=r[o][u]*n[u][s];var f;return 1!==(f=i)[0][0]||1!==f[1][1]||1!==f[2][2]||f[0][1]||f[0][2]||f[1][0]||f[1][2]||f[2][0]||f[2][1]?180*Math.atan2(i[0][1],i[0][0])/Math.PI:0}},e.exports=t.default},function(e,t,r){"use strict";var n,i=r(223),a=(n=i)&&n.__esModule?n:{default:n};e.exports=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=0,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=!0,o=!1,s=void 0;try{for(var u,f=n[Symbol.iterator]();!(a=(u=f.next()).done);a=!0)t+=u.value.length}catch(e){o=!0,s=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw s}}var c=new e(t),l=0,d=!0,h=!1,p=void 0;try{for(var v,m=n[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var g=v.value;c.set(g,l),l+=g.length}}catch(e){h=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(h)throw p}}return c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=o(r(3)),a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,n.default)(this,e),this.stream=t,this.ebmlSize=0,this.id=this.parseId(t),this.size=this.parseSize(t),this.data=this.parseData(t)}return(0,i.default)(e,[{key:"parseId",value:function(t){var r=e.readVInt(t),n=r.position,i=r.data;return this.ebmlSize+=n,i}},{key:"parseSize",value:function(t){var r=e.readVInt(t),n=r.position,i=r.data,a=parseInt(i.toString(2).substring(1),2);return this.ebmlSize=this.ebmlSize+n+a,a}},{key:"parseData",value:function(e){return new a.default(e.readBuffer(this.size))}}],[{key:"readVInt",value:function(e){for(var t=e.readUint8(),r=void 0,n=1,i=8;0===t;)t=e.readUint8(),i+=8,n++;r=t.toString(16);do{t>>>=1,i--}while(0!==t);for(;i+1-n>0;)r+=e.readUint8().toString(16),n++;return{position:i+1,data:parseInt(r,16)}}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EBML_ID={EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxIDLength:17138,EBMLMaxSizeLength:17139,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029,Segment:408125543,SeekHead:290298740,Seek:19899,SeekID:21419,SeekPosition:21420,SegmentInfo:357149030,TimecodeScale:2807729,Duration:17545,Title:31657,MuxingApp:19840,WritingApp:22337,Tracks:374648427,TrackEntry:174,TrackNumber:215,TrackType:131,CodecID:134,CodecName:2459272,Video:224,PixelWidth:176,PixelHeight:186,Cues:475249515}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=o(r(3)),a=r(5);function o(e){return e&&e.__esModule?e:{default:e}}var s=[48,38,178,117,142,102,207,17,166,217,0,170,0,98,206,108],u=[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],f=[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],c=function(){function e(){(0,n.default)(this,e),this.probe.bind(this)}return(0,i.default)(e,[{key:"probe",value:function(e,t){var r=e.readUint32();if(435===r||442===r)return a.FORMAT.MPEG;e.backTo(0);var n=e.readUint32();e.skip(4);var i=e.readUint24();if(1380533830===n&&4281929===i)return a.FORMAT.AVI;if(e.backTo(0),this.guidCompare(e,s)){var o=this.readUInt64LE(e);e.skip(6);for(var c=24,l=24;c<Math.min(o,e.length)-24;){if(e.skip(l-24),this.guidCompare(e,u)){if(l=this.readUInt64LE(e),this.guidCompare(e,f))return a.FORMAT.WMV_ASF;l-=16}else l=this.readUInt64LE(e);c+=l}}return e.backTo(0),"#EXTM3U"===e.readString(7)?a.FORMAT.M3U8:(e.backTo(0),"ID3"===e.readString(3)?a.FORMAT.MP3:(e.backTo(0),!!(t&&t.length>=128&&"TAG"===t.readString(3))&&a.FORMAT.MP3))}},{key:"guidCompare",value:function(e,t){for(var r=0;r<16;r++)if(e.readUint8()!==t[r])return e.skip(15-r),!1;return!0}},{key:"readUInt64LE",value:function(e){for(var t=e.readUint8(),r=1,n=0;++n<8;)r*=256,t+=e.readUint8()*r;return t}}]),e}();t.default=c,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(9)),i=h(r(10)),a=h(r(17)),o=h(r(2)),s=h(r(3)),u=h(r(18)),f=h(r(19)),c=h(r(20)),l=h(r(228)),d=r(5);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r,i,a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,r=void 0,i=[],e.prev=2,t=new l.default(this.fileBlob),e.next=6,t.getVideoPacket();case 6:return i=e.sent,e.next=9,t.getTracks();case 9:r=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(2),this.onError(e.t0),e.abrupt("return");case 16:this.meta.type=d.FORMAT.TS,this.meta.timeScale=9e4,this.meta.tracks=r,i[0]&&i[0].body.ES.sps.length&&(a=i[0].body.ES.info,this.meta.width=a.width,this.meta.height=a.height),this.meta.duration=(i[i.length-1].pts-i[0].pts+i[0].pts-i[0].dts)/this.meta.timeScale,this.meta.bitrate=8*this.meta.size/this.meta.duration/1e3,this.meta.isParsed=!0,this.emit("metaReady",this.meta);case 24:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}()}]),t}(c.default);t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(24)),i=c(r(9)),a=c(r(10)),o=c(r(2)),s=c(r(3)),u=c(r(93)),f=c(r(71));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,o.default)(this,e),this.fileBlob=t,this.ts=[];for(var r=0,n=this.fileBlob.size;r<n;)this.ts.push({start:r,end:r+187}),r+=188}return(0,s.default)(e,[{key:"getVideoPacket",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,r,n,a,o,s,f,c,l,d,h,p,v,m;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=this.ts.length,n=[],a=[],e.next=3,this.pmt();case 3:o=e.sent,s=[],n=n.concat(o.body.list.map(function(e){return e.pid})),f=0;case 7:if(!(f<r)){e.next=37;break}if(c=this.ts[f],l=c.packet){e.next=16;break}return e.next=13,this.getBuffer(this.fileBlob,c.start,c.end);case 13:d=e.sent,l=new u.default(d),this.ts[f].packet=l;case 16:if(!(n.indexOf(l.header.pid)>-1)){e.next=32;break}if("video"!==l.body.type){e.next=32;break}if(1!==l.header.payload_unit_start_indicator){e.next=26;break}if((s=[]).push(l),!a.length){e.next=23;break}return e.abrupt("break",37);case 23:a.push(s),e.next=32;break;case 26:if(0!==s.length){e.next=31;break}return a.push([l]),e.abrupt("break",37);case 31:s.push(l);case 32:if(!(f>1e3)){e.next=34;break}throw new Error("cannot find first video packet");case 34:f++,e.next=7;break;case 37:t.push(new u.default.PES(a[0])),a=[],s=[],h=r-1;case 40:if(!(h>=0)){e.next=67;break}if(p=this.ts[h],v=p.packet){e.next=49;break}return e.next=46,this.getBuffer(this.fileBlob,p.start,p.end);case 46:m=e.sent,v=new u.default(m),this.ts[h].packet=v;case 49:if(!(n.indexOf(v.header.pid)>-1)){e.next=62;break}if("video"!==v.body.type){e.next=62;break}if(1===v.header.payload_unit_start_indicator){e.next=55;break}s.unshift(v),e.next=62;break;case 55:if(0!==s.length){e.next=59;break}a.push([v]),e.next=62;break;case 59:return s.unshift(v),a.push(s),e.abrupt("break",67);case 62:if(!(r-h>1e3)){e.next=64;break}throw new Error("cannot find last video packet");case 64:h--,e.next=40;break;case 67:return t.push(new u.default.PES(a[0])),e.abrupt("return",t);case 69:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTracks",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pmt();case 2:return t=e.sent,r=[],"PMT"===t.header.packet&&t.body.list.length>0&&t.body.list.forEach(function(e){15===e.streamType&&r.push({type:"audio",codec:"aac"}),27===e.streamType&&r.push({type:"video",codec:"avc"})}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBuffer",value:function(){var e=(0,a.default)(i.default.mark(function e(t,r,a){var o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,s=void 0===r&&void 0===a?null:[r,a],e.abrupt("return",new n.default(function(e,r){new f.default(t,s,e).once("error",function(e){o.onError(e),r(e)})}));case 3:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"pat",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,r,n,a,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.ts.length,r=0;case 2:if(!(r<t)){e.next=16;break}if(n=this.ts[r],a=n.packet){e.next=11;break}return e.next=8,this.getBuffer(this.fileBlob,n.start,n.end);case 8:o=e.sent,a=new u.default(o),this.ts[r].packet=a;case 11:if(0!==a.header.pid){e.next=13;break}return e.abrupt("return",this.ts[r].packet);case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pmt",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,r,n,a,o,s,f,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pat();case 2:t=e.sent,r=[],n=this.ts.length,t.body.list.filter(function(e){r.push(e.pid)}),a=0;case 7:if(!(a<n)){e.next=26;break}o=this.ts[a],s=0;case 10:if(!(s<r.length)){e.next=23;break}if(f=o.packet){e.next=18;break}return e.next=15,this.getBuffer(this.fileBlob,o.start,o.end);case 15:c=e.sent,f=new u.default(c),this.ts[a].packet=f;case 18:if(r[s]!==f.header.pid){e.next=20;break}return e.abrupt("return",this.ts[a].packet);case 20:s++,e.next=10;break;case 23:a++,e.next=7;break;case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pes",value:function(){var e=(0,a.default)(i.default.mark(function e(){var t,r,n,a,o,s,u,f,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pmt();case 2:for(t=e.sent,r=[],n=[],t.forEach(function(e){r=r.concat(e.body.list.map(function(e){return e.pid}))}),a=this.ts,o=a.length,s=void 0,u=[],f=[],c=0;c<o;c++)s=a[c],r.indexOf(s.header.pid)>-1&&("video"===s.body.type?1===s.header.payload_unit_start_indicator?((u=[]).push(s),n.push(u)):0===u.length?n.push([s]):u.push(s):"audio"===s.body.type&&(1===s.header.payload_unit_start_indicator?((f=[]).push(s),n.push(f)):0===f.length?n.push([s]):f.push(s)));return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=l,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(r(9)),i=v(r(41)),a=v(r(10)),o=v(r(17)),s=v(r(2)),u=v(r(3)),f=v(r(18)),c=v(r(19)),l=v(r(20)),d=r(94),h=v(d),p=r(5);function v(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,s.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return r.file={name:e.name,lastModified:e.lastModified,type:e.type,size:e.size},r.initMetaData=r.initMetaData.bind(r),r.meta=r.initMetaData(),r}return(0,c.default)(t,e),(0,u.default)(t,[{key:"initMetaData",value:function(){return{isParsed:!1,duration:0,timeScale:0,width:"",height:"",bitrate:0,tracks:[],lastModified:"",name:"",size:"",type:"",msg:""}}},{key:"init",value:function(){var e=(0,a.default)(n.default.mark(function e(){var t,r,a,o,s,u,f,c,l,v,m,g,y;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBuffer();case 2:t=e.sent,r=new h.default(t),a=r.onMetaData,o=a.duration,s=a.width,u=a.height,f=a.audiocodecid,c=a.videocodecid,l=this.file,v=l.name,m=l.lastModified,g=l.size,y=[{type:"audio",codec:d.SOUND_FORMAT[f]},{type:"video",codec:d.VIDEO_CODEC[c]}],this.meta=(0,i.default)(this.meta,{duration:o,width:String(s),height:String(u),size:String(g),name:v,lastModified:m,type:p.FORMAT.FLV,isParsed:!0,timeScale:1e3,bitrate:8*g/o/1e3,tracks:y}),this.emit("metaReady",this.meta);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(l.default);t.default=m,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(9)),i=h(r(10)),a=h(r(17)),o=h(r(2)),s=h(r(3)),u=h(r(18)),f=h(r(19)),c=h(r(20)),l=h(r(95)),d=r(5);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r,i,a,o,s,u,f=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBuffer();case 2:t=e.sent,i=void 0,a=void 0,e.prev=4,r=new l.default(t),i=r.header,a=r.segment,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),this.onError(e.t0),e.abrupt("return");case 14:s=(o=a).segementInfo,u=o.tracks,this.meta.tracks=[],u.forEach(function(e){1===e.TrackType&&(f.meta.tracks.push({type:"video",codec:e.CodecID}),f.meta.width=e.PixelWidth,f.meta.height=e.PixelHeight),2===e.TrackType&&f.meta.tracks.push({type:"audio",codec:e.CodecID})}),"webm"===i.DocType?this.meta.type=d.FORMAT.WEBM:this.meta.type=d.FORMAT.MKV,this.meta.timeScale=s.TimecodeScale||null,this.meta.duration=s.Duration/1e3,this.meta.bitrate=Math.round(8*this.meta.size/this.meta.duration)/1e3,this.meta.isParsed=!0,this.emit("metaReady",this.meta);case 23:case"end":return e.stop()}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}()}]),t}(c.default);t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(9)),i=h(r(10)),a=h(r(17)),o=h(r(2)),s=h(r(3)),u=h(r(18)),f=h(r(19)),c=h(r(20)),l=r(5),d=h(r(96));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBuffer();case 2:t=e.sent,r=void 0,e.prev=4,r=new d.default(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),this.onError(e.t0),e.abrupt("return");case 12:this.meta.type=l.FORMAT.JPEG,this.meta.width=r.frame.width,this.meta.height=r.frame.height,this.meta.frameCount=1,this.meta.isProgressive=r.frame.isProgressive,this.meta.isParsed=!0,this.emit("metaReady",this.meta);case 19:case"end":return e.stop()}},e,this,[[4,8]])}));return function(){return e.apply(this,arguments)}}()}]),t}(c.default);t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(9)),i=h(r(10)),a=h(r(17)),o=h(r(2)),s=h(r(3)),u=h(r(18)),f=h(r(19)),c=h(r(20)),l=r(5),d=h(r(97));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBuffer();case 2:t=e.sent,r=void 0,e.prev=4,r=new d.default(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),this.onError(e.t0),e.abrupt("return");case 12:this.meta.type=l.FORMAT.PNG,this.meta.width=r.IHDR.width,this.meta.height=r.IHDR.height,this.meta.frameCount=1,this.meta.isParsed=!0,this.emit("metaReady",this.meta);case 18:case"end":return e.stop()}},e,this,[[4,8]])}));return function(){return e.apply(this,arguments)}}()}]),t}(c.default);t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(9)),i=h(r(10)),a=h(r(17)),o=h(r(2)),s=h(r(3)),u=h(r(18)),f=h(r(19)),c=h(r(20)),l=r(5),d=h(r(98));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBuffer();case 2:t=e.sent,r=void 0,e.prev=4,r=new d.default(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),this.onError(e.t0),e.abrupt("return");case 12:this.meta.type=l.FORMAT.GIF,this.meta.width=r.width,this.meta.height=r.height,this.meta.frameCount=r.frameCount,this.meta.duration=r.duration,this.meta.isParsed=!0,this.emit("metaReady",this.meta);case 19:case"end":return e.stop()}},e,this,[[4,8]])}));return function(){return e.apply(this,arguments)}}()}]),t}(c.default);t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(9)),i=h(r(10)),a=h(r(17)),o=h(r(2)),s=h(r(3)),u=h(r(18)),f=h(r(19)),c=h(r(20)),l=r(5),d=h(r(99));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return(0,o.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"init",value:function(){var e=(0,i.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBuffer();case 2:t=e.sent,r=void 0,e.prev=4,r=new d.default(t),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),this.onError(e.t0),e.abrupt("return");case 12:this.meta.type=l.FORMAT.WEBP,this.meta.width=r.frame.width,this.meta.height=r.frame.height,this.meta.frameCount=1,this.meta.isParsed=!0,this.emit("metaReady",this.meta);case 18:case"end":return e.stop()}},e,this,[[4,8]])}));return function(){return e.apply(this,arguments)}}()}]),t}(c.default);t.default=p,e.exports=t.default},function(e,t,r){"use strict";var n,i,a=l(r(41)),o=l(r(24)),s=l(r(9)),u=l(r(10)),f=(n=(0,u.default)(s.default.mark(function e(t){var r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new d(t),e.next=3,p.fromStream(r);case 3:return n=e.sent,e.next=6,r.close();case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),c=(i=(0,u.default)(s.default.mark(function e(t){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return r=e.sent,e.abrupt("return",p.fromBuffer(r));case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)});function l(e){return e&&e.__esModule?e:{default:e}}var d=r(236).ReadableWebToNodeStream,h=r(250),p=r(252);function v(e){return new o.default(function(t,r){var n=new FileReader;n.addEventListener("loadend",function(e){var r=e.target.result;r instanceof ArrayBuffer&&(r=h(new Uint8Array(e.target.result))),t(r)}),n.addEventListener("error",function(e){r(new Error(e.message))}),n.addEventListener("abort",function(e){r(new Error(e.type))}),n.readAsArrayBuffer(e)})}(0,a.default)(e.exports,p,{fromStream:f,fromBlob:c})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableWebToNodeStream=void 0;const n=r(237);t.ReadableWebToNodeStream=class extends n.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}},function(e,t,r){(t=e.exports=r(100)).Stream=t,t.Readable=t,t.Writable=r(105),t.Duplex=r(32),t.Transform=r(107),t.PassThrough=r(248),t.finished=r(72),t.pipeline=r(249)},function(e,t,r){"use strict";t.byteLength=function(e){var t=f(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=f(e),n=r[0],o=r[1],s=new a(NaN),u=0,c=o>0?n-4:n,l=0;l<c;l+=4)t=i[e.charCodeAt(l)]<<18|i[e.charCodeAt(l+1)]<<12|i[e.charCodeAt(l+2)]<<6|i[e.charCodeAt(l+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=i[e.charCodeAt(l)]<<2|i[e.charCodeAt(l+1)]>>4,s[u++]=255&t),1===o&&(t=i[e.charCodeAt(l)]<<10|i[e.charCodeAt(l+1)]<<4|i[e.charCodeAt(l+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(c(e,o,o+16383>s?s:o+16383));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+l],l+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+l],l+=d,c-=8);if(0===a)a=1-f;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=f}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,f=8*a-i-1,c=(1<<f)-1,l=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=c?(s=0,o=c):o+l>=1?(s=(t*u-1)*Math.pow(2,i),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;e[r+h]=255&o,h+=p,o/=256,f-=8);e[r+h-p]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(21).Buffer,s=r(243).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n,i=o.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=i,n=s,o.prototype.copy.call(t,r,n),s+=a.data.length,a=a.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&a(t.prototype,r),e}()},function(e,t){},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(28))},function(e,t,r){var n=r(21),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(72),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[c]=null,e[o]=null,e[s]=null,t(h(r,!1)))}}var v=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[f])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(r,n){t.nextTick(function(){e[u]?n(e[u]):r(h(void 0,!0))})});var n,i=this[c];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[f]?r(h(void 0,!0)):t[l](r,n)},n)}}(i,this));else{var a=this[d].read();if(null!==a)return Promise.resolve(h(a,!1));n=new Promise(this[l])}return this[c]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[d].destroy(null,function(e){e?r(e):t(h(void 0,!0))})})}),n),v);e.exports=function(e){var r,n=Object.create(m,(i(r={},d,{value:e,writable:!0}),i(r,o,{value:null,writable:!0}),i(r,s,{value:null,writable:!0}),i(r,u,{value:null,writable:!0}),i(r,f,{value:e._readableState.endEmitted,writable:!0}),i(r,l,{value:function(e,t){var r=n[d].read();r?(n[c]=null,n[o]=null,n[s]=null,e(h(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),r));return n[c]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[c]=null,n[o]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[c]=null,n[o]=null,n[s]=null,r(h(void 0,!0))),n[f]=!0}),e.on("readable",function(e){t.nextTick(p,e)}.bind(null,n)),n}}).call(this,r(29))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(107);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(31)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n,i=r(30).codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e){e()}function f(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var c,l=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var d=t.map(function(e,i){var a=i<t.length-1;return function(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;e.on("close",function(){s=!0}),void 0===n&&(n=r(72)),n(e,{readable:t,writable:i},function(e){if(e)return a(e);s=!0,a()});var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new o("pipe"))}}(e,a,i>0,function(e){c||(c=e),e&&d.forEach(u),a||(d.forEach(u),l(c))})});return t.reduce(f)}},function(e,t,r){(function(t){var n=r(251).strict;e.exports=function(e){if(n(e)){var r=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}return t.from(e)}}).call(this,r(21).Buffer)},function(e,t){e.exports=i,i.strict=a,i.loose=o;var r=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(e){return a(e)||o(e)}function a(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function o(e){return n[r.call(e)]}},function(module,exports,__nested_webpack_require_241994__){"use strict";(function(Buffer){var _set=__nested_webpack_require_241994__(253),_set2=_interopRequireDefault(_set),_promise=__nested_webpack_require_241994__(24),_promise2=_interopRequireDefault(_promise),_maxSafeInteger=__nested_webpack_require_241994__(268),_maxSafeInteger2=_interopRequireDefault(_maxSafeInteger),_slicedToArray2=__nested_webpack_require_241994__(271),_slicedToArray3=_interopRequireDefault(_slicedToArray2),_getIterator2=__nested_webpack_require_241994__(109),_getIterator3=_interopRequireDefault(_getIterator2),_assign=__nested_webpack_require_241994__(41),_assign2=_interopRequireDefault(_assign),_typeof2=__nested_webpack_require_241994__(66),_typeof3=_interopRequireDefault(_typeof2),_regenerator=__nested_webpack_require_241994__(9),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__nested_webpack_require_241994__(10),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),fromStream=(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t){var r;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,strtok3.fromStream(t);case 2:return r=e.sent,e.prev=3,e.next=6,fromTokenizer(r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,r.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}},e,this,[[3,,7,11]])})),function(e){return _ref.apply(this,arguments)}),_ref,fromBuffer=(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t){var r,n;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)){e.next=2;break}throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `"+(void 0===t?"undefined":(0,_typeof3.default)(t))+"`");case 2:if((r=t instanceof Buffer?t:Buffer.from(t))&&r.length>1){e.next=5;break}return e.abrupt("return");case 5:return n=strtok3.fromBuffer(r),e.abrupt("return",fromTokenizer(n));case 7:case"end":return e.stop()}},e,this)})),function(e){return _ref2.apply(this,arguments)}),_ref2,_checkSequence=(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t,r,n){var i;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Buffer.alloc(minimumBytes),e.next=3,r.ignore(n);case 3:return e.next=5,r.peekBuffer(i,{mayBeLess:!0});case 5:return e.abrupt("return",i.includes(Buffer.from(t)));case 6:case"end":return e.stop()}},e,this)})),function(e,t,r){return _ref3.apply(this,arguments)}),_ref3,fromTokenizer=(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t){return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_fromTokenizer(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof strtok3.EndOfStreamError){e.next=8;break}throw e.t0;case 8:case"end":return e.stop()}},e,this,[[0,4]])})),function(e){return _ref4.apply(this,arguments)}),_ref4,_fromTokenizer=(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(t){var r,n,i,a,o,s,u,f,c,l,d,h,p,v,m,g,y,b,_,w,x,k,S,E,T,U;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Buffer.alloc(minimumBytes),n=function(e,t){return _check(r,e,t)},i=function(e,t){return n(stringToBytes(e),t)},a=function(e,r){return _checkSequence(e,t,r)},t.fileInfo.size||(t.fileInfo.size=_maxSafeInteger2.default),e.next=8,t.peekBuffer(r,{length:12,mayBeLess:!0});case 8:if(!n([66,77])){e.next=10;break}return e.abrupt("return",{ext:"bmp",mime:"image/bmp"});case 10:if(!n([11,119])){e.next=12;break}return e.abrupt("return",{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"});case 12:if(!n([120,1])){e.next=14;break}return e.abrupt("return",{ext:"dmg",mime:"application/x-apple-diskimage"});case 14:if(!n([77,90])){e.next=16;break}return e.abrupt("return",{ext:"exe",mime:"application/x-msdownload"});case 16:if(!n([37,33])){e.next=22;break}return e.next=19,t.peekBuffer(r,{length:24,mayBeLess:!0});case 19:if(!i("PS-Adobe-",{offset:2})||!i(" EPSF-",{offset:14})){e.next=21;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 21:return e.abrupt("return",{ext:"ps",mime:"application/postscript"});case 22:if(!n([31,160])&&!n([31,157])){e.next=24;break}return e.abrupt("return",{ext:"Z",mime:"application/x-compress"});case 24:if(!n([255,216,255])){e.next=26;break}return e.abrupt("return",{ext:"jpg",mime:"image/jpeg"});case 26:if(!n([73,73,188])){e.next=28;break}return e.abrupt("return",{ext:"jxr",mime:"image/vnd.ms-photo"});case 28:if(!n([31,139,8])){e.next=30;break}return e.abrupt("return",{ext:"gz",mime:"application/gzip"});case 30:if(!n([66,90,104])){e.next=32;break}return e.abrupt("return",{ext:"bz2",mime:"application/x-bzip2"});case 32:if(!i("ID3")){e.next=43;break}return e.next=35,t.ignore(6);case 35:return e.next=37,t.readToken(uint32SyncSafeToken);case 37:if(o=e.sent,!(t.position+o>t.fileInfo.size)){e.next=40;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 40:return e.next=42,t.ignore(o);case 42:return e.abrupt("return",fromTokenizer(t));case 43:if(!i("MP+")){e.next=45;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 45:if(67!==r[0]&&70!==r[0]||!n([87,83],{offset:1})){e.next=47;break}return e.abrupt("return",{ext:"swf",mime:"application/x-shockwave-flash"});case 47:if(!n([71,73,70])){e.next=49;break}return e.abrupt("return",{ext:"gif",mime:"image/gif"});case 49:if(!i("FLIF")){e.next=51;break}return e.abrupt("return",{ext:"flif",mime:"image/flif"});case 51:if(!i("8BPS")){e.next=53;break}return e.abrupt("return",{ext:"psd",mime:"image/vnd.adobe.photoshop"});case 53:if(!i("WEBP",{offset:8})){e.next=55;break}return e.abrupt("return",{ext:"webp",mime:"image/webp"});case 55:if(!i("MPCK")){e.next=57;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 57:if(!i("FORM")){e.next=59;break}return e.abrupt("return",{ext:"aif",mime:"audio/aiff"});case 59:if(!i("icns",{offset:0})){e.next=61;break}return e.abrupt("return",{ext:"icns",mime:"image/icns"});case 61:if(!n([80,75,3,4])){e.next=120;break}e.prev=62;case 63:if(!(t.position+30<t.fileInfo.size)){e.next=113;break}return e.next=66,t.readBuffer(r,{length:30});case 66:return s={compressedSize:r.readUInt32LE(18),uncompressedSize:r.readUInt32LE(22),filenameLength:r.readUInt16LE(26),extraFieldLength:r.readUInt16LE(28)},e.next=69,t.readToken(new Token.StringType(s.filenameLength,"utf-8"));case 69:return s.filename=e.sent,e.next=72,t.ignore(s.extraFieldLength);case 72:if("META-INF/mozilla.rsa"!==s.filename){e.next=74;break}return e.abrupt("return",{ext:"xpi",mime:"application/x-xpinstall"});case 74:if(!s.filename.endsWith(".rels")&&!s.filename.endsWith(".xml")){e.next=84;break}u=s.filename.split("/")[0],e.t0=u,e.next="_rels"===e.t0?79:"word"===e.t0?80:"ppt"===e.t0?81:"xl"===e.t0?82:83;break;case 79:return e.abrupt("break",84);case 80:return e.abrupt("return",{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});case 81:return e.abrupt("return",{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"});case 82:return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 83:return e.abrupt("break",84);case 84:if(!s.filename.startsWith("xl/")){e.next=86;break}return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 86:if("mimetype"!==s.filename||s.compressedSize!==s.uncompressedSize){e.next=97;break}return e.next=89,t.readToken(new Token.StringType(s.compressedSize,"utf-8"));case 89:f=e.sent,e.t1=f,e.next="application/epub+zip"===e.t1?93:"application/vnd.oasis.opendocument.text"===e.t1?94:"application/vnd.oasis.opendocument.spreadsheet"===e.t1?95:"application/vnd.oasis.opendocument.presentation"===e.t1?96:97;break;case 93:return e.abrupt("return",{ext:"epub",mime:"application/epub+zip"});case 94:return e.abrupt("return",{ext:"odt",mime:"application/vnd.oasis.opendocument.text"});case 95:return e.abrupt("return",{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"});case 96:return e.abrupt("return",{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"});case 97:if(0!==s.compressedSize){e.next=109;break}c=-1;case 99:if(!(c<0&&t.position<t.fileInfo.size)){e.next=107;break}return e.next=102,t.peekBuffer(r,{mayBeLess:!0});case 102:return c=r.indexOf("504B0304",0,"hex"),e.next=105,t.ignore(c>=0?c:r.length);case 105:e.next=99;break;case 107:e.next=111;break;case 109:return e.next=111,t.ignore(s.compressedSize);case 111:e.next=63;break;case 113:e.next=119;break;case 115:if(e.prev=115,e.t2=e.catch(62),e.t2 instanceof strtok3.EndOfStreamError){e.next=119;break}throw e.t2;case 119:return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 120:if(!i("OggS")){e.next=139;break}return e.next=123,t.ignore(28);case 123:return l=Buffer.alloc(8),e.next=126,t.readBuffer(l);case 126:if(!_check(l,[79,112,117,115,72,101,97,100])){e.next=128;break}return e.abrupt("return",{ext:"opus",mime:"audio/opus"});case 128:if(!_check(l,[128,116,104,101,111,114,97])){e.next=130;break}return e.abrupt("return",{ext:"ogv",mime:"video/ogg"});case 130:if(!_check(l,[1,118,105,100,101,111,0])){e.next=132;break}return e.abrupt("return",{ext:"ogm",mime:"video/ogg"});case 132:if(!_check(l,[127,70,76,65,67])){e.next=134;break}return e.abrupt("return",{ext:"oga",mime:"audio/ogg"});case 134:if(!_check(l,[83,112,101,101,120,32,32])){e.next=136;break}return e.abrupt("return",{ext:"spx",mime:"audio/ogg"});case 136:if(!_check(l,[1,118,111,114,98,105,115])){e.next=138;break}return e.abrupt("return",{ext:"ogg",mime:"audio/ogg"});case 138:return e.abrupt("return",{ext:"ogx",mime:"application/ogg"});case 139:if(!n([80,75])||3!==r[2]&&5!==r[2]&&7!==r[2]||4!==r[3]&&6!==r[3]&&8!==r[3]){e.next=141;break}return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 141:if(!i("ftyp",{offset:4})||0==(96&r[8])){e.next=166;break}d=r.toString("binary",8,12).replace("\0"," ").trim(),e.t3=d,e.next="avif"===e.t3?146:"mif1"===e.t3?147:"msf1"===e.t3?148:"heic"===e.t3?149:"heix"===e.t3?149:"hevc"===e.t3?150:"hevx"===e.t3?150:"qt"===e.t3?151:"M4V"===e.t3?152:"M4VH"===e.t3?152:"M4VP"===e.t3?152:"M4P"===e.t3?153:"M4B"===e.t3?154:"M4A"===e.t3?155:"F4V"===e.t3?156:"F4P"===e.t3?157:"F4A"===e.t3?158:"F4B"===e.t3?159:"crx"===e.t3?160:161;break;case 146:return e.abrupt("return",{ext:"avif",mime:"image/avif"});case 147:return e.abrupt("return",{ext:"heic",mime:"image/heif"});case 148:return e.abrupt("return",{ext:"heic",mime:"image/heif-sequence"});case 149:return e.abrupt("return",{ext:"heic",mime:"image/heic"});case 150:return e.abrupt("return",{ext:"heic",mime:"image/heic-sequence"});case 151:return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 152:return e.abrupt("return",{ext:"m4v",mime:"video/x-m4v"});case 153:return e.abrupt("return",{ext:"m4p",mime:"video/mp4"});case 154:return e.abrupt("return",{ext:"m4b",mime:"audio/mp4"});case 155:return e.abrupt("return",{ext:"m4a",mime:"audio/x-m4a"});case 156:return e.abrupt("return",{ext:"f4v",mime:"video/mp4"});case 157:return e.abrupt("return",{ext:"f4p",mime:"video/mp4"});case 158:return e.abrupt("return",{ext:"f4a",mime:"audio/mp4"});case 159:return e.abrupt("return",{ext:"f4b",mime:"audio/mp4"});case 160:return e.abrupt("return",{ext:"cr3",mime:"image/x-canon-cr3"});case 161:if(!d.startsWith("3g")){e.next=165;break}if(!d.startsWith("3g2")){e.next=164;break}return e.abrupt("return",{ext:"3g2",mime:"video/3gpp2"});case 164:return e.abrupt("return",{ext:"3gp",mime:"video/3gpp"});case 165:return e.abrupt("return",{ext:"mp4",mime:"video/mp4"});case 166:if(!i("MThd")){e.next=168;break}return e.abrupt("return",{ext:"mid",mime:"audio/midi"});case 168:if(!i("wOFF")||!n([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=170;break}return e.abrupt("return",{ext:"woff",mime:"font/woff"});case 170:if(!i("wOF2")||!n([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=172;break}return e.abrupt("return",{ext:"woff2",mime:"font/woff2"});case 172:if(!n([212,195,178,161])&&!n([161,178,195,212])){e.next=174;break}return e.abrupt("return",{ext:"pcap",mime:"application/vnd.tcpdump.pcap"});case 174:if(!i("DSD ")){e.next=176;break}return e.abrupt("return",{ext:"dsf",mime:"audio/x-dsf"});case 176:if(!i("LZIP")){e.next=178;break}return e.abrupt("return",{ext:"lz",mime:"application/x-lzip"});case 178:if(!i("fLaC")){e.next=180;break}return e.abrupt("return",{ext:"flac",mime:"audio/x-flac"});case 180:if(!n([66,80,71,251])){e.next=182;break}return e.abrupt("return",{ext:"bpg",mime:"image/bpg"});case 182:if(!i("wvpk")){e.next=184;break}return e.abrupt("return",{ext:"wv",mime:"audio/wavpack"});case 184:if(!i("%PDF")){e.next=191;break}return e.next=187,a("Adobe Illustrator",1350);case 187:if(!e.sent){e.next=190;break}return e.abrupt("return",{ext:"ai",mime:"application/postscript"});case 190:return e.abrupt("return",{ext:"pdf",mime:"application/pdf"});case 191:if(!n([0,97,115,109])){e.next=193;break}return e.abrupt("return",{ext:"wasm",mime:"application/wasm"});case 193:if(!n([73,73,42,0])){e.next=206;break}if(!i("CR",{offset:8})){e.next=196;break}return e.abrupt("return",{ext:"cr2",mime:"image/x-canon-cr2"});case 196:if(!n([28,0,254,0],{offset:8})&&!n([31,0,11,0],{offset:8})){e.next=198;break}return e.abrupt("return",{ext:"nef",mime:"image/x-nikon-nef"});case 198:if(!n([8,0,0,0],{offset:4})||!n([45,0,254,0],{offset:8})&&!n([39,0,254,0],{offset:8})){e.next=200;break}return e.abrupt("return",{ext:"dng",mime:"image/x-adobe-dng"});case 200:return r=Buffer.alloc(24),e.next=203,t.peekBuffer(r);case 203:if(!n([16,251,134,1],{offset:4})&&!n([8,0,0,0],{offset:4})||!n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})){e.next=205;break}return e.abrupt("return",{ext:"arw",mime:"image/x-sony-arw"});case 205:return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 206:if(!n([77,77,0,42])){e.next=208;break}return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 208:if(!i("MAC ")){e.next=210;break}return e.abrupt("return",{ext:"ape",mime:"audio/ape"});case 210:if(!n([26,69,223,163])){e.next=226;break}return h=function(){var e=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(){var r,n,i,a;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.peekNumber(Token.UINT8);case 2:for(r=e.sent,n=128,i=0;0==(r&n);)++i,n>>=1;return a=Buffer.alloc(i+1),e.next=9,t.readBuffer(a);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(){var t,r,n;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,h();case 5:return(r=e.sent)[0]^=128>>r.length-1,n=Math.min(6,r.length),e.abrupt("return",{id:t.readUIntBE(0,t.length),len:r.readUIntBE(r.length-n,n)});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(r,n){var i;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=11;break}return e.next=3,p();case 3:if(17026!==(i=e.sent).id){e.next=6;break}return e.abrupt("return",t.readToken(new Token.StringType(i.len,"utf-8")));case 6:return e.next=8,t.ignore(i.len);case 8:--n,e.next=0;break;case 11:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),e.next=216,p();case 216:return m=e.sent,e.next=219,v(1,m.len);case 219:g=e.sent,e.t4=g,e.next="webm"===e.t4?223:"matroska"===e.t4?224:225;break;case 223:return e.abrupt("return",{ext:"webm",mime:"video/webm"});case 224:return e.abrupt("return",{ext:"mkv",mime:"video/x-matroska"});case 225:return e.abrupt("return");case 226:if(!n([82,73,70,70])){e.next=233;break}if(!n([65,86,73],{offset:8})){e.next=229;break}return e.abrupt("return",{ext:"avi",mime:"video/vnd.avi"});case 229:if(!n([87,65,86,69],{offset:8})){e.next=231;break}return e.abrupt("return",{ext:"wav",mime:"audio/vnd.wave"});case 231:if(!n([81,76,67,77],{offset:8})){e.next=233;break}return e.abrupt("return",{ext:"qcp",mime:"audio/qcelp"});case 233:if(!i("SQLi")){e.next=235;break}return e.abrupt("return",{ext:"sqlite",mime:"application/x-sqlite3"});case 235:if(!n([78,69,83,26])){e.next=237;break}return e.abrupt("return",{ext:"nes",mime:"application/x-nintendo-nes-rom"});case 237:if(!i("Cr24")){e.next=239;break}return e.abrupt("return",{ext:"crx",mime:"application/x-google-chrome-extension"});case 239:if(!i("MSCF")&&!i("ISc(")){e.next=241;break}return e.abrupt("return",{ext:"cab",mime:"application/vnd.ms-cab-compressed"});case 241:if(!n([237,171,238,219])){e.next=243;break}return e.abrupt("return",{ext:"rpm",mime:"application/x-rpm"});case 243:if(!n([197,208,211,198])){e.next=245;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 245:if(!n([79,84,84,79,0])){e.next=247;break}return e.abrupt("return",{ext:"otf",mime:"font/otf"});case 247:if(!i("#!AMR")){e.next=249;break}return e.abrupt("return",{ext:"amr",mime:"audio/amr"});case 249:if(!i("{\\rtf")){e.next=251;break}return e.abrupt("return",{ext:"rtf",mime:"application/rtf"});case 251:if(!n([70,76,86,1])){e.next=253;break}return e.abrupt("return",{ext:"flv",mime:"video/x-flv"});case 253:if(!i("IMPM")){e.next=255;break}return e.abrupt("return",{ext:"it",mime:"audio/x-it"});case 255:if(!(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))){e.next=257;break}return e.abrupt("return",{ext:"lzh",mime:"application/x-lzh-compressed"});case 257:if(!n([0,0,1,186])){e.next=262;break}if(!n([33],{offset:4,mask:[241]})){e.next=260;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP1S"});case 260:if(!n([68],{offset:4,mask:[196]})){e.next=262;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP2P"});case 262:if(!n([253,55,122,88,90,0])){e.next=264;break}return e.abrupt("return",{ext:"xz",mime:"application/x-xz"});case 264:if(!i("<?xml ")){e.next=266;break}return e.abrupt("return",{ext:"xml",mime:"application/xml"});case 266:if(!i("BEGIN:")){e.next=268;break}return e.abrupt("return",{ext:"ics",mime:"text/calendar"});case 268:if(!n([55,122,188,175,39,28])){e.next=270;break}return e.abrupt("return",{ext:"7z",mime:"application/x-7z-compressed"});case 270:if(!n([82,97,114,33,26,7])||0!==r[6]&&1!==r[6]){e.next=272;break}return e.abrupt("return",{ext:"rar",mime:"application/x-rar-compressed"});case 272:if(!i("solid ")){e.next=274;break}return e.abrupt("return",{ext:"stl",mime:"model/stl"});case 274:if(!i("BLENDER")){e.next=276;break}return e.abrupt("return",{ext:"blend",mime:"application/x-blender"});case 276:if(!i("!<arch>")){e.next=285;break}return e.next=279,t.ignore(8);case 279:return e.next=281,t.readToken(new Token.StringType(13,"ascii"));case 281:if("debian-binary"!==e.sent){e.next=284;break}return e.abrupt("return",{ext:"deb",mime:"application/x-deb"});case 284:return e.abrupt("return",{ext:"ar",mime:"application/x-unix-archive"});case 285:if(!n([137,80,78,71,13,10,26,10])){e.next=303;break}return y=function(){var e=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(){return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readToken(Token.INT32_BE);case 2:return e.t0=e.sent,e.next=5,t.readToken(new Token.StringType(4,"binary"));case 5:return e.t1=e.sent,e.abrupt("return",{length:e.t0,type:e.t1});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.next=289,t.ignore(8);case 289:return e.next=291,y();case 291:if(!((b=e.sent).length<0)){e.next=294;break}return e.abrupt("return");case 294:e.t5=b.type,e.next="IDAT"===e.t5?297:"acTL"===e.t5?298:299;break;case 297:return e.abrupt("return",{ext:"png",mime:"image/png"});case 298:return e.abrupt("return",{ext:"apng",mime:"image/apng"});case 299:return e.next=301,t.ignore(b.length+4);case 301:if(t.position+8<t.fileInfo.size){e.next=289;break}case 302:return e.abrupt("return",{ext:"png",mime:"image/png"});case 303:if(!n([65,82,82,79,87,49,0,0])){e.next=305;break}return e.abrupt("return",{ext:"arrow",mime:"application/x-apache-arrow"});case 305:if(!n([103,108,84,70,2,0,0,0])){e.next=307;break}return e.abrupt("return",{ext:"glb",mime:"model/gltf-binary"});case 307:if(!(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))){e.next=309;break}return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 309:if(!n([73,73,82,79,8,0,0,0,24])){e.next=311;break}return e.abrupt("return",{ext:"orf",mime:"image/x-olympus-orf"});case 311:if(!n([73,73,85,0,24,0,0,0,136,231,116,216])){e.next=313;break}return e.abrupt("return",{ext:"rw2",mime:"image/x-panasonic-rw2"});case 313:if(!n([48,38,178,117,142,102,207,17,166,217])){e.next=337;break}return _=function(){var e=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(){var r;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Buffer.alloc(16),e.next=3,t.readBuffer(r);case 3:return e.t0=r,e.next=6,t.readToken(Token.UINT64_LE);case 6:return e.t1=e.sent,e.abrupt("return",{id:e.t0,size:e.t1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.next=317,t.ignore(30);case 317:if(!(t.position+24<t.fileInfo.size)){e.next=336;break}return e.next=320,_();case 320:if(w=e.sent,x=w.size-24,!_check(w.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){e.next=332;break}return k=Buffer.alloc(16),e.next=326,t.readBuffer(k);case 326:if(x-=e.sent,!_check(k,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=329;break}return e.abrupt("return",{ext:"asf",mime:"audio/x-ms-asf"});case 329:if(!_check(k,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=331;break}return e.abrupt("return",{ext:"asf",mime:"video/x-ms-asf"});case 331:return e.abrupt("break",336);case 332:return e.next=334,t.ignore(x);case 334:e.next=317;break;case 336:return e.abrupt("return",{ext:"asf",mime:"application/vnd.ms-asf"});case 337:if(!n([171,75,84,88,32,49,49,187,13,10,26,10])){e.next=339;break}return e.abrupt("return",{ext:"ktx",mime:"image/ktx"});case 339:if(!n([126,16,4])&&!n([126,24,4])||!n([48,77,73,69],{offset:4})){e.next=341;break}return e.abrupt("return",{ext:"mie",mime:"application/x-mie"});case 341:if(!n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})){e.next=343;break}return e.abrupt("return",{ext:"shp",mime:"application/x-esri-shape"});case 343:if(!n([0,0,0,12,106,80,32,32,13,10,135,10])){e.next=357;break}return e.next=346,t.ignore(20);case 346:return e.next=348,t.readToken(new Token.StringType(4,"ascii"));case 348:S=e.sent,e.t6=S,e.next="jp2 "===e.t6?352:"jpx "===e.t6?353:"jpm "===e.t6?354:"mjp2"===e.t6?355:356;break;case 352:return e.abrupt("return",{ext:"jp2",mime:"image/jp2"});case 353:return e.abrupt("return",{ext:"jpx",mime:"image/jpx"});case 354:return e.abrupt("return",{ext:"jpm",mime:"image/jpm"});case 355:return e.abrupt("return",{ext:"mj2",mime:"image/mj2"});case 356:return e.abrupt("return");case 357:if(!n([0,0,1,186])&&!n([0,0,1,179])){e.next=359;break}return e.abrupt("return",{ext:"mpg",mime:"video/mpeg"});case 359:if(!n([0,1,0,0,0])){e.next=361;break}return e.abrupt("return",{ext:"ttf",mime:"font/ttf"});case 361:if(!n([0,0,1,0])){e.next=363;break}return e.abrupt("return",{ext:"ico",mime:"image/x-icon"});case 363:if(!n([0,0,2,0])){e.next=365;break}return e.abrupt("return",{ext:"cur",mime:"image/x-icon"});case 365:if(!n([208,207,17,224,161,177,26,225])){e.next=367;break}return e.abrupt("return",{ext:"cfb",mime:"application/x-cfb"});case 367:return e.next=369,t.peekBuffer(r,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0});case 369:if(!i("FUJIFILMCCD-RAW")){e.next=371;break}return e.abrupt("return",{ext:"raf",mime:"image/x-fujifilm-raf"});case 371:if(!i("Extended Module:")){e.next=373;break}return e.abrupt("return",{ext:"xm",mime:"audio/x-xm"});case 373:if(!i("Creative Voice File")){e.next=375;break}return e.abrupt("return",{ext:"voc",mime:"audio/x-voc"});case 375:if(!(n([4,0,0,0])&&r.length>=16)){e.next=387;break}if(!((E=r.readUInt32LE(12))>12&&E<240&&r.length>=E+16)){e.next=387;break}if(e.prev=378,T=r.slice(16,E+16).toString(),!JSON.parse(T).files){e.next=383;break}return e.abrupt("return",{ext:"asar",mime:"application/x-asar"});case 383:e.next=387;break;case 385:e.prev=385,e.t7=e.catch(378);case 387:if(!n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){e.next=389;break}return e.abrupt("return",{ext:"mxf",mime:"application/mxf"});case 389:if(!i("SCRM",{offset:44})){e.next=391;break}return e.abrupt("return",{ext:"s3m",mime:"audio/x-s3m"});case 391:if(!n([71],{offset:4})||!n([71],{offset:192})&&!n([71],{offset:196})){e.next=393;break}return e.abrupt("return",{ext:"mts",mime:"video/mp2t"});case 393:if(!n([66,79,79,75,77,79,66,73],{offset:60})){e.next=395;break}return e.abrupt("return",{ext:"mobi",mime:"application/x-mobipocket-ebook"});case 395:if(!n([68,73,67,77],{offset:128})){e.next=397;break}return e.abrupt("return",{ext:"dcm",mime:"application/dicom"});case 397:if(!n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])){e.next=399;break}return e.abrupt("return",{ext:"lnk",mime:"application/x.ms.shortcut"});case 399:if(!n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])){e.next=401;break}return e.abrupt("return",{ext:"alias",mime:"application/x.apple.alias"});case 401:if(!n([76,80],{offset:34})||!(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))){e.next=403;break}return e.abrupt("return",{ext:"eot",mime:"application/vnd.ms-fontobject"});case 403:if(!n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29])){e.next=405;break}return e.abrupt("return",{ext:"indd",mime:"application/x-indesign"});case 405:return e.next=407,t.peekBuffer(r,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0});case 407:if(!tarHeaderChecksumMatches(r)){e.next=409;break}return e.abrupt("return",{ext:"tar",mime:"application/x-tar"});case 409:if(!n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0])){e.next=411;break}return e.abrupt("return",{ext:"skp",mime:"application/vnd.sketchup.skp"});case 411:if(!i("-----BEGIN PGP MESSAGE-----")){e.next=413;break}return e.abrupt("return",{ext:"pgp",mime:"application/pgp-encrypted"});case 413:U=0;case 414:if(!(U<2&&U<r.length-16)){e.next=429;break}if(!(r.length>=U+2&&n([255,224],{offset:U,mask:[255,224]}))){e.next=426;break}if(!n([16],{offset:U+1,mask:[22]})){e.next=420;break}if(!n([8],{offset:U+1,mask:[8]})){e.next=419;break}return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 419:return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 420:if(!n([2],{offset:U+1,mask:[6]})){e.next=422;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 422:if(!n([4],{offset:U+1,mask:[6]})){e.next=424;break}return e.abrupt("return",{ext:"mp2",mime:"audio/mpeg"});case 424:if(!n([6],{offset:U+1,mask:[6]})){e.next=426;break}return e.abrupt("return",{ext:"mp1",mime:"audio/mpeg"});case 426:U++,e.next=414;break;case 429:case"end":return e.stop()}},e,this,[[62,115],[378,385]])})),function(e){return _ref5.apply(this,arguments)}),_ref5;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Token=__nested_webpack_require_241994__(277),strtok3=__nested_webpack_require_241994__(281),_require=__nested_webpack_require_241994__(285),stringToBytes=_require.stringToBytes,tarHeaderChecksumMatches=_require.tarHeaderChecksumMatches,uint32SyncSafeToken=_require.uint32SyncSafeToken,supported=__nested_webpack_require_241994__(291),minimumBytes=4100;function _check(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=(0,_assign2.default)({offset:0},r);var n=!0,i=!1,a=void 0;try{for(var o,s=(0,_getIterator3.default)(t.entries());!(n=(o=s.next()).done);n=!0){var u=(0,_slicedToArray3.default)(o.value,2),f=u[0],c=u[1];if(r.mask){if(c!==(r.mask[f]&e[f+r.offset]))return!1}else if(c!==e[f+r.offset])return!1}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return!0}var stream=function stream(readableStream){return new _promise2.default(function(resolve,reject){var stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function e(){var t,r,n,i;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new stream.PassThrough,r=void 0,r=stream.pipeline?stream.pipeline(readableStream,t,function(){}):readableStream.pipe(t),n=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0),e.prev=4,e.next=7,fromBuffer(n);case 7:i=e.sent,t.fileType=i,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),reject(e.t0);case 14:resolve(r);case 15:case"end":return e.stop()}},e,void 0,[[4,11]])})))})},fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:function(){return new _set2.default(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get:function(){return new _set2.default(supported.mimeTypes)}}),module.exports=fileType}).call(this,__nested_webpack_require_241994__(21).Buffer)},function(e,t,r){e.exports={default:r(254),__esModule:!0}},function(e,t,r){r(49),r(25),r(39),r(255),r(261),r(264),r(266),e.exports=r(4).Set},function(e,t,r){"use strict";var n=r(256),i=r(108);e.exports=r(257)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n=r(11).f,i=r(42),a=r(62),o=r(15),s=r(59),u=r(40),f=r(52),c=r(78),l=r(85),d=r(14),h=r(68).fastKey,p=r(108),v=d?"_s":"size",m=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,f){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,null!=n&&u(n,r,e[f],e)});return a(c.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=p(this,t),n=m(r,e);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[v]--}return!!n},forEach:function(e){p(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(p(this,t),e)}}),d&&n(c.prototype,"size",{get:function(){return p(this,t)[v]}}),c},def:function(e,t,r){var n,i,a=m(e,t);return a?a.v=r:(e._l=a={i:i=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[v]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,r){f(e,t,function(e,r){this._t=p(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){"use strict";var n=r(7),i=r(6),a=r(68),o=r(22),s=r(16),u=r(62),f=r(40),c=r(59),l=r(12),d=r(37),h=r(11).f,p=r(258)(0),v=r(14);e.exports=function(e,t,r,m,g,y){var b=n[e],_=b,w=g?"set":"add",x=_&&_.prototype,k={};return v&&"function"==typeof _&&(y||x.forEach&&!o(function(){(new _).entries().next()}))?(_=t(function(t,r){c(t,_,e,"_c"),t._c=new b,null!=r&&f(r,g,t[w],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!y||"clear"!=e)&&s(_.prototype,e,function(r,n){if(c(this,_,e),!t&&y&&!l(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i})}),y||h(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,g,w),u(_.prototype,r),a.NEED=!0),d(_,e),k[e]=_,i(i.G+i.W+i.F,k),y||m.setStrong(_,e,g),_}},function(e,t,r){var n=r(15),i=r(55),a=r(38),o=r(44),s=r(259);e.exports=function(e,t){var r=1==e,u=2==e,f=3==e,c=4==e,l=6==e,d=5==e||l,h=t||s;return function(t,s,p){for(var v,m,g=a(t),y=i(g),b=n(s,p,3),_=o(y.length),w=0,x=r?h(t,_):u?h(t,0):void 0;_>w;w++)if((d||w in y)&&(m=b(v=y[w],w,g),e))if(r)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(c)return!1;return l?-1:f||c?c:x}}},function(e,t,r){var n=r(260);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(12),i=r(88),a=r(8)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(6);n(n.P+n.R,"Set",{toJSON:r(262)("Set")})},function(e,t,r){var n=r(46),i=r(263);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,r){var n=r(40);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t,r){r(265)("Set")},function(e,t,r){"use strict";var n=r(6);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){r(267)("Set")},function(e,t,r){"use strict";var n=r(6),i=r(34),a=r(15),o=r(40);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),null==e?new this:(r=[],t?(n=0,s=a(u,arguments[2],2),o(e,!1,function(e){r.push(s(e,n++))})):o(e,!1,r.push,r),new this(r))}})}},function(e,t,r){e.exports={default:r(269),__esModule:!0}},function(e,t,r){r(270),e.exports=9007199254740991},function(e,t,r){var n=r(6);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(272)),i=a(r(109));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=(0,i.default)(e);!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){e.exports={default:r(273),__esModule:!0}},function(e,t,r){r(39),r(25),e.exports=r(274)},function(e,t,r){var n=r(46),i=r(8)("iterator"),a=r(26);e.exports=r(4).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(n(t))}},function(e,t,r){r(39),r(25),e.exports=r(276)},function(e,t,r){var n=r(13),i=r(60);e.exports=r(4).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(110),i=r(280);t.UINT8={len:1,get:(e,t)=>e.readUInt8(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=255),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUInt8(r,t)}},t.UINT16_LE={len:2,get:(e,t)=>e.readUInt16LE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=65535),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUInt16LE(r,t)}},t.UINT16_BE={len:2,get:(e,t)=>e.readUInt16BE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=65535),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUInt16BE(r,t)}},t.UINT24_LE={len:3,get:(e,t)=>e.readUIntLE(t,3),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=16777215),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUIntLE(r,t,3)}},t.UINT24_BE={len:3,get:(e,t)=>e.readUIntBE(t,3),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=16777215),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUIntBE(r,t,3)}},t.UINT32_LE={len:4,get:(e,t)=>e.readUInt32LE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=4294967295),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUInt32LE(r,t)}},t.UINT32_BE={len:4,get:(e,t)=>e.readUInt32BE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=0&&r<=4294967295),n.ok(t>=0),n.ok(this.len<=e.length),e.writeUInt32BE(r,t)}},t.INT8={len:1,get:(e,t)=>e.readInt8(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-128&&r<=127),n.ok(t>=0),n.ok(this.len<=e.length),e.writeInt8(r,t)}},t.INT16_BE={len:2,get:(e,t)=>e.readInt16BE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-32768&&r<=32767),n.ok(t>=0),n.ok(this.len<=e.length),e.writeInt16BE(r,t)}},t.INT16_LE={len:2,get:(e,t)=>e.readInt16LE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-32768&&r<=32767),n.ok(t>=0),n.ok(this.len<=e.length),e.writeInt16LE(r,t)}},t.INT24_LE={len:3,get:(e,t)=>e.readIntLE(t,3),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-8388608&&r<=8388607),n.ok(t>=0),n.ok(this.len<=e.length),e.writeIntLE(r,t,3)}},t.INT24_BE={len:3,get:(e,t)=>e.readIntBE(t,3),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-8388608&&r<=8388607),n.ok(t>=0),n.ok(this.len<=e.length),e.writeIntBE(r,t,3)}},t.INT32_BE={len:4,get:(e,t)=>e.readInt32BE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-2147483648&&r<=2147483647),n.ok(t>=0),n.ok(this.len<=e.length),e.writeInt32BE(r,t)}},t.INT32_LE={len:4,get:(e,t)=>e.readInt32LE(t),put(e,t,r){return n.equal(typeof t,"number"),n.equal(typeof r,"number"),n.ok(r>=-2147483648&&r<=2147483647),n.ok(t>=0),n.ok(this.len<=e.length),e.writeInt32LE(r,t)}},t.UINT64_LE={len:8,get(e,t){return function(e,t,r){r>>>=0;let n=e[t>>>=0],i=1,a=0;for(;++a<r&&(i*=256);)n+=e[t+a]*i;return n}(e,t,this.len)},put(e,t,r){return function(e,t,r,n){t=+t,n>>>=0;let i=1,a=0;for(e[r>>>=0]=255&t;++a<n&&(i*=256);)e[r+a]=t/i&255;return r+n}(e,r,t,this.len)}},t.INT64_LE={len:8,get(e,t){return function(e,t,r){r>>>=0;let n=e[t>>>=0],i=1,a=0;for(;++a<r&&(i*=256);)n+=e[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n}(e,t,this.len)},put(e,t,r){return o(e,r,t,this.len)}},t.UINT64_BE={len:8,get(e,t){return s(e,t,this.len)},put(e,t,r){return u(e,r,t,this.len)}},t.INT64_BE={len:8,get(e,t){return f(e,t,this.len)},put(e,t,r){return c(e,r,t,this.len)}},t.Float16_BE={len:2,get(e,t){return i.read(e,t,!1,10,this.len)},put(e,t,r){return i.write(e,r,t,!1,10,this.len)}},t.Float16_LE={len:2,get(e,t){return i.read(e,t,!0,10,this.len)},put(e,t,r){return i.write(e,r,t,!0,10,this.len)}},t.Float32_BE={len:4,get:(e,t)=>e.readFloatBE(t),put:(e,t,r)=>e.writeFloatBE(r,t)},t.Float32_LE={len:4,get:(e,t)=>e.readFloatLE(t),put:(e,t,r)=>e.writeFloatLE(r,t)},t.Float64_BE={len:8,get:(e,t)=>e.readDoubleBE(t),put:(e,t,r)=>e.writeDoubleBE(r,t)},t.Float64_LE={len:8,get:(e,t)=>e.readDoubleLE(t),put:(e,t,r)=>e.writeDoubleLE(r,t)},t.Float80_BE={len:10,get(e,t){return i.read(e,t,!1,63,this.len)},put(e,t,r){return i.write(e,r,t,!1,63,this.len)}},t.Float80_LE={len:10,get(e,t){return i.read(e,t,!0,63,this.len)},put(e,t,r){return i.write(e,r,t,!0,63,this.len)}},t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}},t.BufferType=class{constructor(e){this.len=e}get(e,t){return e.slice(t,t+this.len)}},t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return e.toString(this.encoding,t,t+this.len)}};class a{constructor(e){this.len=e}static decode(e,t,r){let n="";for(let i=t;i<r;++i)n+=a.codePointToString(a.singleByteDecoder(e[i]));return n}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(a.inRange(e,0,127))return e;const t=a.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return a.decode(e,t,t+this.len)}}function o(e,t,r,n){t=+t;let i=0,a=1,o=0;for(e[r>>>=0]=255&t;++i<n&&(a*=256);)t<0&&0===o&&0!==e[r+i-1]&&(o=1),e[r+i]=(t/a>>0)-o&255;return r+n}function s(e,t,r){r>>>=0;let n=e[(t>>>=0)+--r],i=1;for(;r>0&&(i*=256);)n+=e[t+--r]*i;return n}function u(e,t,r,n){t=+t;let i=(n>>>=0)-1,a=1;for(e[(r>>>=0)+i]=255&t;--i>=0&&(a*=256);)e[r+i]=t/a&255;return r+n}function f(e,t,r){let n=r>>>=0,i=1,a=e[(t>>>=0)+--n];for(;n>0&&(i*=256);)a+=e[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*r)),a}function c(e,t,r,n){t=+t;let i=n-1,a=1,o=0;for(e[(r>>>=0)+i]=255&t;--i>=0&&(a*=256);)t<0&&0===o&&0!==e[r+i+1]&&(o=1),e[r+i]=(t/a>>0)-o&255;return r+n}t.AnsiStringType=a,a.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],t.writeIntLE=o,t.readUIntBE=s,t.writeUIntBE=u,t.readIntBE=f,t.writeIntBE=c},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<a;u=n[++r])v(u)||!_(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(r,i){if(y(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function f(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&k(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return g(i)||(i=c(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),x(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(r);if(0===o.length){if(k(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return l(r)}var f,_="",S=!1,E=["{","}"];return h(r)&&(S=!0,E=["[","]"]),k(r)&&(_=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),x(r)&&(_=" "+l(r)),0!==o.length||S&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),f=S?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)U(t,String(o))?a.push(d(e,t,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(d(e,t,r,n,i,!0))}),a}(e,r,n,s,o):o.map(function(t){return d(e,r,n,s,t,S)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(f,_,E)):E[0]+_+E[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),U(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===S(e)}function x(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function k(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=x,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(279);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(31),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(28),r(29))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+l],l+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+l],l+=d,c-=8);if(0===a)a=1-f;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=f}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,f=8*a-i-1,c=(1<<f)-1,l=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=c?(s=0,o=c):o+l>=1?(s=(t*u-1)*Math.pow(2,i),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;e[r+h]=255&o,h+=p,o/=256,f-=8);e[r+h-p]|=128*v}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=void 0;const n=r(282),i=r(284);var a=r(48);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return a.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new n.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const n=r(283),i=r(48);t.ReadStreamTokenizer=class extends n.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){let r=0,n=e.length;if(t){if(Number.isInteger(t.length)?n=t.length:n-=t.offset||0,t.position){const r=t.position-this.position;if(r>0)return await this.ignore(r),this.readBuffer(e,t);if(r<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`")}t.offset&&(r=t.offset)}if(0===n)return 0;const a=await this.streamReader.read(e,r,n);if(this.position+=a,(!t||!t.mayBeLess)&&a<n)throw new i.EndOfStreamError;return a}async peekBuffer(t,r){let n,a=0,o=t.length;if(r&&(r.offset&&(a=r.offset),Number.isInteger(r.length)?o=r.length:o-=r.offset||0,r.position)){const i=r.position-this.position;if(i>0){const s=e.alloc(o+i);return n=await this.peekBuffer(s,{mayBeLess:r.mayBeLess}),s.copy(t,a,i),n-i}if(i<0)throw new Error("Cannot peek from a negative offset in a stream")}try{n=await this.streamReader.peek(t,a,o)}catch(e){if(r&&r.mayBeLess&&e instanceof i.EndOfStreamError)return 0;throw e}if((!r||!r.mayBeLess)&&n<o)throw new i.EndOfStreamError;return n}async ignore(t){const r=Math.min(256e3,t),n=e.alloc(r);let i=0;for(;i<t;){const e=t-i,a=await this.readBuffer(n,{length:Math.min(r,e)});if(a<0)return a;i+=a}return i}}}).call(this,r(21).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const n=r(48);t.AbstractTokenizer=class{constructor(t){this.position=0,this.numBuffer=e.alloc(10),this.fileInfo=t||{}}async readToken(t,r){const i=e.alloc(t.len);if(await this.readBuffer(i,{position:r})<t.len)throw new n.EndOfStreamError;return t.get(i,0)}async peekToken(t,r=this.position){const i=e.alloc(t.len);if(await this.peekBuffer(i,{position:r})<t.len)throw new n.EndOfStreamError;return t.get(i,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new n.EndOfStreamError;return e.get(this.numBuffer,0)}async close(){}}}).call(this,r(21).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const n=r(48);t.BufferTokenizer=class{constructor(e,t){this.buffer=e,this.position=0,this.fileInfo=t||{},this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}return this.peekBuffer(e,t).then(e=>(this.position+=e,e))}async peekBuffer(e,t){let r=0,i=e.length,a=this.position;if(t){if(t.position){if(t.position<this.position)throw new Error("`options.position` can be less than `tokenizer.position`");a=t.position}Number.isInteger(t.length)?i=t.length:i-=t.offset||0,t.offset&&(r=t.offset)}if(0===i)return Promise.resolve(0);a=a||this.position,i||(i=e.length);const o=Math.min(this.buffer.length-a,i);if(t&&t.mayBeLess||!(o<i))return this.buffer.copy(e,r,a,a+o),o;throw new n.EndOfStreamError}async readToken(e,t){this.position=t||this.position;try{const r=this.peekToken(e,this.position);return this.position+=e.len,r}catch(e){throw this.position+=this.buffer.length-t,e}}async peekToken(e,t=this.position){if(this.buffer.length-t<e.len)throw new n.EndOfStreamError;return e.get(this.buffer,t)}async readNumber(e){return this.readToken(e)}async peekNumber(e){return this.peekToken(e)}async ignore(e){const t=Math.min(this.buffer.length-this.position,e);return this.position+=t,t}async close(){}}},function(e,t,r){"use strict";var n,i=r(286),a=(n=i)&&n.__esModule?n:{default:n};t.stringToBytes=function(e){return[].concat((0,a.default)(e)).map(function(e){return e.charCodeAt(0)})},t.tarHeaderChecksumMatches=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;for(var n=256,i=t;i<t+148;i++)n+=e[i];for(var a=t+156;a<t+512;a++)n+=e[a];return r===n},t.uint32SyncSafeToken={get:function(e,t){return 127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21},len:4}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=r(287),a=(n=i)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,a.default)(e)}},function(e,t,r){e.exports={default:r(288),__esModule:!0}},function(e,t,r){r(25),r(289),e.exports=r(4).Array.from},function(e,t,r){"use strict";var n=r(15),i=r(6),a=r(38),o=r(79),s=r(80),u=r(44),f=r(290),c=r(60);i(i.S+i.F*!r(86)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,l,d=a(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,g=0,y=c(d);if(m&&(v=n(v,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(r=new h(t=u(d.length));t>g;g++)f(r,g,m?v(d[g],g):d[g]);else for(l=y.call(d),r=new h;!(i=l.next()).done;g++)f(r,g,m?o(l,v,[i.value,g],!0):i.value);return r.length=g,r}})},function(e,t,r){"use strict";var n=r(11),i=r(35);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl"]}}])}()}}]);
//# sourceMappingURL=other-vender-800252ff.a5654c138d02b5a5e584.js.map
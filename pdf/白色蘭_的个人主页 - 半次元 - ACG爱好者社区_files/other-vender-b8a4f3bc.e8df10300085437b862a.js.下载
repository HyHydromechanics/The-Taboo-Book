"use strict";(self.webpackChunkfe_banciyuan_web=self.webpackChunkfe_banciyuan_web||[]).push([["other-vender-b8a4f3bc"],{"./node_modules/@byted/bcy-hybrid-api/dist/bcy.js":function(e,i,t){var n=this&&this.__awaiter||function(e,i,t,n){return new(t||(t=Promise))(function(o,a){function s(e){try{h(n.next(e))}catch(e){a(e)}}function r(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){e.done?o(e.value):function(e){return e instanceof t?e:new t(function(i){i(e)})}(e.value).then(s,r)}h((n=n.apply(e,i||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./node_modules/@bridge/byted-bridge-jssdk/dist/index.js"),a={request:"bcy.request",fetch:"app.fetch",setTitle:"bcy.setTitle",navigateTo:"view.navigateTo",pushWindow:{ios:"bcy.pushWindow",android:"app.openUrl"},popWindow:{ios:"bcy.popWindow",android:"view.close"},getUserInfo:"app.getUserInfo",showLoading:"bcy.showLoading",hideLoading:"bcy.hideLoading",toast:"app.toast",alert:"app.alert",setTitleBarStyle:"bcy.setTitleBarStyle",setTrackInfo:"view.setPageInfo",sendLog:"app.sendLogV3",showSharePanel:"app.showSharePanel",showOptionMenu:"bcy.showOptionMenu",share:"app.share",setOptionMenu:"bcu.setOptionMenu",hideOptionMenu:"bcy.hideOptionMenu",setPageBackgroundColor:"page.setBackgroundColor",checkPushPermission:"app.checkPushPermission"};class s{constructor(){this.is_ios=!1,this.is_android=!1,this.initialized=!1,this.device_info=null}getDeviceInfo(){return n(this,void 0,void 0,function*(){return this.device_info&&this.initialized?this.device_info:new Promise(e=>{o.call("bcy.getDeviceInfo",{},i=>e(1===i.code?i.data:null))})})}initialize(){return n(this,void 0,void 0,function*(){if(this.initialized)return;const e=yield this.getDeviceInfo();e&&(this.is_ios="iphone"===e.device_platform||"ipad"===e.device_platform,this.is_android=!this.is_ios,this.initialized=!0)})}deviceIsIOS(){return n(this,void 0,void 0,function*(){return yield this.initialize(),this.is_ios})}deviceIsAndroid(){return n(this,void 0,void 0,function*(){return yield this.initialize(),this.is_android})}rawAPINameforAPI(e){return n(this,void 0,void 0,function*(){return"string"==typeof e?e:(yield this.deviceIsIOS())?e.ios:e.android})}request(e,i){return n(this,void 0,void 0,function*(){return this.rawAPINameforAPI(a.request).then(t=>new Promise((n,a)=>{0===e.length&&a("url can not be empty"),o.call(t,{url:e,params:i},e=>n(e))}))})}setTitle(e,i){this.rawAPINameforAPI(a.setTitle).then(t=>{o.call(t,{title:e,color:i})})}navigateTo(e){this.rawAPINameforAPI(a.navigateTo).then(i=>{o.call(i,{url:e})})}pushWindow(e,i){this.rawAPINameforAPI(a.pushWindow).then(t=>{o.call(t,{url:e,legacy:i})})}popWindow(){this.rawAPINameforAPI(a.popWindow).then(e=>{o.call(e,{})})}getUserInfo(){return n(this,void 0,void 0,function*(){return this.rawAPINameforAPI(a.getUserInfo).then(e=>new Promise(i=>{o.call(e,{},e=>i(e))}))})}showLoading(){this.rawAPINameforAPI(a.showLoading).then(e=>{o.call(e,{})})}hideLoading(){this.rawAPINameforAPI(a.hideLoading).then(e=>{o.call(e,{})})}fetch(e,i,t,s){return n(this,void 0,void 0,function*(){return this.rawAPINameforAPI(a.fetch).then(n=>new Promise(a=>{o.call(n,{url:e,params:i,needCommonParams:t,method:s},e=>a(e))}))})}setTitleBarStyle(e,i,t){this.rawAPINameforAPI(a.setTitleBarStyle).then(n=>{o.call(n,{backgroundColor:e,hideBottomLine:i,tintColor:t})})}setTrackInfo(e,i,t){this.rawAPINameforAPI(a.setTrackInfo).then(n=>{o.call(n,{current_page:e,scene_name:i,track_info:t})})}sendLog(e,i){this.rawAPINameforAPI(a.sendLog).then(t=>{o.call(t,{event:e,params:i})})}toast(e){this.rawAPINameforAPI(a.toast).then(i=>{o.call(i,{text:e})})}alert(e,i,t,s){return n(this,void 0,void 0,function*(){return this.rawAPINameforAPI(a.alert).then(n=>new Promise(a=>{o.call(n,{confirm_text:e,cancel_text:i,message:t,title:s},e=>a(e))}))})}showOptionMenu(){this.rawAPINameforAPI(a.showOptionMenu).then(e=>{o.call(e,{})})}hideOptionMenu(){this.rawAPINameforAPI(a.hideOptionMenu).then(e=>{o.call(e,{})})}setOptionMenu(e,i){this.rawAPINameforAPI(a.setOptionMenu).then(t=>{o.call(t,{title:e,color:i})})}setPageBackgroundColor(e){this.rawAPINameforAPI(a.setPageBackgroundColor).then(i=>{o.call(i,{color:e})})}checkPushPermission(e,i){return n(this,void 0,void 0,function*(){const t=yield this.rawAPINameforAPI(a.checkPushPermission);return new Promise(n=>{o.call(t,{title:e,content:i},e=>{1===e.code?n(e.data.enabled):n(!1)})})})}showSharePanel(){this.deviceIsAndroid().then(e=>(e&&o.call("app.setConfig",{showSharePanel:"custom"}),this.rawAPINameforAPI(a.showSharePanel))).then(e=>{o.call(e,{})})}pageOnShow(e){this.deviceIsIOS().then(i=>{i?o.on("page.onShow",e):o.on("view.onPageVisible",e)})}pageOnHide(e){this.deviceIsIOS().then(i=>{i?o.on("page.onHide",e):o.on("view.onPageInvisible",e)})}onShare(e){o.on("app.onShare",e)}onOptionMenuClick(e){o.on("view.onNavBarClick",e)}}i.BCYNativeAPI=s,i.bcy=new s}}]);
//# sourceMappingURL=other-vender-b8a4f3bc.e8df10300085437b862a.js.map
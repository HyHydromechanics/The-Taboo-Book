(self.webpackChunkfe_banciyuan_web=self.webpackChunkfe_banciyuan_web||[]).push([["src_common_components_pc_EmojiSelector_index_js"],{"./src/common/components/pc/EmojiSelector/index.js":function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n("./node_modules/react/index.js")),c=l(n("./node_modules/classnames/index.js"));n("./src/common/components/pc/EmojiSelector/FaceText.css");var i=n("./node_modules/byted-dimension-ui/lib/index.js"),u=l(n("./src/common/utils/ClickOutside.js")),a=l(n("./src/common/asset/images/emoji.png")),s=n("./src/common/utils/index.js");function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var c=m(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,r.default.Component);var t=d(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).state={showFaceList:!1,tabs:[],currentIndex:0},o}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(n,[{key:"componentDidMount",value:function(){var e=this;s.emoji.getEmojis().then(function(t){e.setState({tabs:t})}).catch(function(){i.message.error("半次元不小心滑了一跤~")})}},{key:"close",value:function(){this.setState({showFaceList:!1})}},{key:"showEmoji",value:function(e,t){window.collectEvent("emoji_tab",{status:"face"===t.name?"emoticon":"sticker"}),this.setState({currentIndex:e})}},{key:"openEmojiPanel",value:function(){window.collectEvent("keyboard_switch",{status:"emoji"}),this.setState({showFaceList:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.style,i=t.showTxt,s=this.state,l=s.showFaceList,f=s.currentIndex,p=s.tabs,d=(0,c.default)("facetext _icon-hover",n),m=p[f]?p[f].name:"",y=p[f]?p[f].emojis:[],h=null;h="face"===m?r.default.createElement("ul",{className:"face-list"},y.map(function(t,n){return r.default.createElement("li",{key:n,className:"item",onClick:e.props.clickFace.bind(e,t)},t)})):y.map(function(t,n){var o=Math.ceil(y.length/10),i=(0,c.default)("emoji",{tenth:(n+1)%10==0,lastrow:Math.ceil((n+1)/10)===o});return r.default.createElement("a",{key:t.id,className:i,title:t.name,onClick:e.props.clickFace.bind(e,"[".concat(t.display_name,"]"))},r.default.createElement("img",{src:t.select_path,alt:t.display_name}))});var b=p.map(function(t,n){var o=(0,c.default)("tab-ctr",{active:f===n});return r.default.createElement("span",{key:t.id,onClick:e.showEmoji.bind(e,n,t),className:o},"face"===t.name?r.default.createElement("img",{width:"65",height:"40",src:t.cover}):r.default.createElement("img",{width:"30",height:"30",src:t.cover}))});return r.default.createElement("div",{className:d},r.default.createElement("a",{className:"emoji-switcher",onClick:this.openEmojiPanel.bind(this)},r.default.createElement("img",{src:a.default,width:"20",height:"20",alt:""}),"false"===i?"":"表情"),l&&r.default.createElement(u.default,{onClickOutside:this.close.bind(this)},!!p.length&&r.default.createElement("div",{className:"_box face-panel"},r.default.createElement("div",{className:"face-list-wrap",style:o},h),r.default.createElement("div",{className:"tab-controls"},b))))}}]),n}();t.default=y},"./src/common/utils/ClickOutside.js":function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=c?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}r.default=e,n&&n.set(e,r);return r}(n("./node_modules/react/index.js")),c=function(e){return e&&e.__esModule?e:{default:e}}(n("./node_modules/prop-types/index.js"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var c=f(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,n)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,r.Component);var t=s(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).setWrapperRef=o.setWrapperRef.bind(l(o)),o.handleClickOutside=o.handleClickOutside.bind(l(o)),o}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.onClickOutside()}},{key:"render",value:function(){return r.default.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),n}();t.default=p,p.propTypes={children:c.default.element.isRequired,onClickOutside:c.default.func.isRequired}},"./src/common/components/pc/EmojiSelector/FaceText.css":function(e,t,n){"use strict";n.r(t)},"./src/common/asset/images/emoji.png":function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=src_common_components_pc_EmojiSelector_index_js.c1038b62c4aee5a2ed76.js.map
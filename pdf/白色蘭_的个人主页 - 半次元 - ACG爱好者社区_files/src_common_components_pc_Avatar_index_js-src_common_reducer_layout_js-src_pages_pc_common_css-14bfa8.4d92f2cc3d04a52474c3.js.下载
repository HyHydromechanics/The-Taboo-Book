(self.webpackChunkfe_banciyuan_web=self.webpackChunkfe_banciyuan_web||[]).push([["src_common_components_pc_Avatar_index_js-src_common_reducer_layout_js-src_pages_pc_common_css-14bfa8"],{"./src/common/components/pc/Avatar/index.js":function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n("./node_modules/react/index.js")),i=n("./node_modules/byted-dimension-ui/lib/index.js"),l=p(n("./src/common/components/pc/Login/Dialog.js")),c=p(n("./node_modules/classnames/index.js")),r=n("./src/common/utils/account.js"),s=p(n("./src/common/services/Common.js")),u=p(n("./src/common/utils/variableCss.js")),d=p(n("./src/common/asset/images/default_avatar.png")),f=p(n("./src/common/asset/images/empty/topic.png")),m=n("./src/common/components/pc/Avatar/svg.js");function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,n)}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n("./src/common/components/pc/Avatar/style.css");var N=function(e){y(n,a.default.Component);var t=E(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).state={showNotification:!1,noticeData:{},iconActive:!1},o.toggleDropdown=o.toggleDropdown.bind(A(o)),o.hideNotification=o.hideNotification.bind(A(o)),o.goHome=o.goHome.bind(A(o)),o.changeIcon=o.changeIcon.bind(A(o)),o.handleClickAvatar=o.handleClickAvatar.bind(A(o)),o}return v(n,[{key:"toggleDropdown",value:function(){this.setState({showNotification:!0})}},{key:"hideNotification",value:function(){this.setState({showNotification:!1})}},{key:"goHome",value:function(){window.location.href="/"}},{key:"changeIcon",value:function(e){this.setState({iconActive:e})}},{key:"handleClickAvatar",value:function(){var e=this.props.user.uid;e>0?window.open("/u/".concat(e)):l.default.initLoginDialog()}},{key:"componentDidMount",value:function(){var e=this;s.default.getNewMessages().then(function(t){0===t.code&&t.data&&e.setState({noticeData:t.data})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.noticeData,o=t.showNotification,i=t.iconActive,l=this.props.user,r=l.uid,s=l.avatar,f=o?u.default.$K70:u.default.$K60,p=0;return["notify","remind","announce","user_follow","item_set_update","message"].forEach(function(e){n.hasOwnProperty(e)&&(p+=parseInt(n[e],10))}),p=p>99?99:p,a.default.createElement("div",{className:"nav-account nav-account-login _inline_flex"},a.default.createElement("div",{className:"nav-home",onMouseEnter:function(){return e.changeIcon(!0)},onMouseLeave:function(){return e.changeIcon(!1)},onClick:this.goHome},a.default.createElement(m.HomeSvg,{color:i}),a.default.createElement("span",{className:"nav-home-btn"},"首页")),a.default.createElement("div",{className:"nav-account-item item-notification",onMouseEnter:this.toggleDropdown,onMouseLeave:this.hideNotification},a.default.createElement("div",{className:"notification-box"},a.default.createElement("span",{className:"notification"},a.default.createElement(m.MessageSvg,{color:o}),p>0&&a.default.createElement("span",{className:(0,c.default)("notification-dot",{more:p>10})},p)),a.default.createElement("span",{className:"notification-txt",style:{color:f}},"消息")),a.default.createElement(j,{visible:o,data:n,uid:r})),a.default.createElement("div",{className:"nav-account-item item-avatar"},a.default.createElement("div",{className:"avatar-wrapper"},a.default.createElement("a",{className:"avatar",onClick:this.handleClickAvatar},a.default.createElement("img",{src:s||d.default}))),a.default.createElement(k,this.props.user)))}}]),n}(),j=function(e){y(n,a.default.Component);var t=E(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).state={index:1,visible:e.visible,groupData:[]},o.handleNotification=o.handleNotification.bind(A(o)),o}return v(n,[{key:"changeTab",value:function(e){var t=this;this.setState({index:e}),2===e&&s.default.getNewGroup().then(function(e){1===e.status&&e.data&&t.setState({groupData:e.data})})}},{key:"handleNotification",value:function(e){this.props.uid>0?window.open(e):l.default.initLoginDialog()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({visible:e.visible})}},{key:"render",value:function(){var e=this,t=this.state,n=t.index,o=t.visible,l=t.groupData,r=this.props.uid,s=this.props.data,u=(0,c.default)({hide:!o});return s=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(e[n]&&e[n]>0?t[n]=e[n]>1e3?"1k+":e[n]:t[n]=null);return t}(s),a.default.createElement("div",{className:"notification-dropdown ".concat(u)},a.default.createElement("div",{className:"notifi-tab"},a.default.createElement("div",{className:"notifi-tab-header _flex"},a.default.createElement("span",{className:"title ".concat(1===n?"selected":""),onClick:this.changeTab.bind(this,1)},"消息"),a.default.createElement("span",{className:"divide"}),a.default.createElement("span",{className:"title ".concat(2===n?"selected":""),onClick:this.changeTab.bind(this,2)},"问答")),a.default.createElement("div",{className:"notifi-tab-content",style:{display:1===n?"block":"none"}},a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/home/message/notify")}},a.default.createElement("span",{className:"name"},a.default.createElement(i.Icon,{type:"notice-comment"}),"评论"),s.notify?a.default.createElement("span",{className:"comment"},s.notify):"")),a.default.createElement("li",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/home/message/remind")}},a.default.createElement("span",{className:"name"},a.default.createElement(i.Icon,{type:"notice-remind"}),"提醒"),s.remind?a.default.createElement("span",{className:"comment"},s.remind):"")),a.default.createElement("li",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/home/message/announce")}},a.default.createElement("span",{className:"name"},a.default.createElement(i.Icon,{type:"notice-announce"}),"公告"),s.announce?a.default.createElement("span",{className:"comment"},s.announce):"")),a.default.createElement("li",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/u/".concat(r,"/follower"))}},a.default.createElement("span",{className:"name"},a.default.createElement(i.Icon,{type:"notice-newfans"}),"新粉丝"),s.user_follow?a.default.createElement("span",{className:"comment"},s.user_follow):"")),a.default.createElement("li",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/home/message/itemSetUpdate")}},a.default.createElement("span",{className:"name"},a.default.createElement(i.Icon,{type:"notice-rss"}),"合集更新"),s.item_set_update?a.default.createElement("span",{className:"comment"},s.item_set_update):"")),a.default.createElement("li",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/home/message/inbox")}},a.default.createElement("span",{className:"name"},a.default.createElement(i.Icon,{type:"mail"}),"私信"),s.message?a.default.createElement("span",{className:"comment"},s.message):"")))),a.default.createElement("div",{className:"notifi-tab-content notifi-group",style:{display:2===n?"block":"none"}},l&&l.length>0?a.default.createElement("div",{className:"group-content"},l.map(function(e){return a.default.createElement("li",{key:e.gid},a.default.createElement("a",{href:"/group/list/".concat(e.gid,"?sort=create#postList")},a.default.createElement("span",{className:"text"},e.name),a.default.createElement("span",null,"+",e.count)))})):a.default.createElement("div",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/group/discover")},className:"center imgtip"},a.default.createElement("img",{src:f.default})),a.default.createElement("a",{onClick:function(){e.handleNotification("/group/discover")},className:"center texttip"},"前往问题频道")),a.default.createElement("footer",null,a.default.createElement("a",{onClick:function(){e.handleNotification("/home/message/group")}},"查看全部>")))))}}]),n}(),k=function(e){y(n,a.default.Component);var t=E(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).state={},o.handleNotification=o.handleNotification.bind(A(o)),o}return v(n,[{key:"handleNotification",value:function(e){this.props.uid>0?("/home/account/itemsetSubscribe"===e&&window.collectEvent&&window.collectEvent("enter_serial",{current_page:"my_serial",branch_page:"create_serial"}),window.open(e)):l.default.initLoginDialog()}},{key:"logout",value:function(){this.props.uid>0?(0,r.getAccountSdk)().login.logout({}):l.default.initLoginDialog()}},{key:"render",value:function(){var e=this,t=this.props,n=t.uid,o=t.uname,l=t.value_user;return a.default.createElement("div",{className:"user-dropdown"},a.default.createElement("div",{className:"user-dropdown-wrapper"},a.default.createElement("div",{className:"username"},a.default.createElement("p",{className:"center",style:{height:"32px"}},a.default.createElement("a",{onClick:function(){e.handleNotification("/u/".concat(n))},title:o},a.default.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-block",maxWidth:"190px"}},o),1===l&&a.default.createElement("a",{onClick:function(){e.handleNotification("/home/req/valueuser")}},a.default.createElement("i",{className:"i-big-v-16"}))))),a.default.createElement("div",{className:"channels clearfix"},a.default.createElement("a",{onClick:function(){e.handleNotification("/u/".concat(n))}},a.default.createElement(i.Icon,{type:"homepage"}),a.default.createElement("span",null,"个人主页")),a.default.createElement("a",{onClick:function(){e.handleNotification("/home/account/index")}},a.default.createElement(i.Icon,{type:"setting"}),a.default.createElement("span",null,"设置")),a.default.createElement("a",{onClick:function(){e.handleNotification("/home/gift/payStatus")}},a.default.createElement(i.Icon,{type:"feed"}),a.default.createElement("span",null,"投喂管理")),a.default.createElement("a",{onClick:function(){e.handleNotification("/home/account/itemsetSubscribe")}},a.default.createElement(i.Icon,{type:"notice-rss"}),a.default.createElement("span",null,"我的合集")),a.default.createElement("a",{onClick:function(){e.handleNotification("/zhipin/manage/earnings")}},a.default.createElement(i.Icon,{type:"listbought"}),a.default.createElement("span",null,"订单管理")),a.default.createElement("a",{onClick:function(){e.handleNotification("/home/draftbox")}},a.default.createElement(m.DraftBoxSvg,null),a.default.createElement("span",null,"草稿箱"))),a.default.createElement("div",{className:"logout center",onClick:this.logout.bind(this)},a.default.createElement("a",{className:"fz-14"},"退出账号"))))}}]),n}(),C=function(e){var t=e.user,n=void 0===t?{uid:"0"}:t;return a.default.createElement(N,{user:n})};t.default=C},"./src/common/components/pc/Avatar/svg.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSvg=t.HomeSvg=t.DraftBoxSvg=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("./node_modules/react/index.js"));t.HomeSvg=function(e){var t=e.color;return o.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("path",{d:"M0 0h24v24H0z",opacity:".02"}),o.default.createElement("g",{fillRule:"nonzero",stroke:t?"#666":"#999",transform:"translate(1.2 .4)"},o.default.createElement("path",{strokeWidth:"1.6",d:"M9.426 1.724L2.8 7.024A3.2 3.2 0 0 0 1.6 9.522V18.6a2.2 2.2 0 0 0 2.2 2.2h14a2.2 2.2 0 0 0 2.2-2.2V9.522a3.2 3.2 0 0 0-1.201-2.498l-6.625-5.3a2.2 2.2 0 0 0-2.748 0z"}),o.default.createElement("circle",{cx:"10.8",cy:"12.6",r:"3.75",strokeWidth:"1.5"}))))};t.MessageSvg=function(e){var t=e.color;return o.default.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},o.default.createElement("g",{id:"首页",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.default.createElement("g",{id:"首页单栏",transform:"translate(-967.000000, -13.000000)"},o.default.createElement("g",{id:"blocks/nav"},o.default.createElement("g",{id:"导航"},o.default.createElement("g",{id:"icon-/-nav-/-mail-copy",transform:"translate(967.000000, 13.000000)"},o.default.createElement("rect",{id:"Rectangle-2",x:"0",y:"0",width:"24",height:"24"}),o.default.createElement("path",{d:"M16,18 C16,20.209139 14.209139,22 12,22 C9.790861,22 8,20.209139 8,18 L3.58,18 C2.75157288,18 2.08,17.3284271 2.08,16.5 C2.08,16.3387769 2.10599182,16.1786081 2.15697505,16.0256584 L2.49886117,15 C2.78410806,14.1442593 3.31562128,13.4215612 3.99886117,12.9000459 L3.99886117,9 C3.99886117,4.581722 7.58058317,1 11.9988612,1 C16.4171392,1 19.9988612,4.581722 19.9988612,9 L19.9988612,12.9000459 C20.6821011,13.4215612 21.2136143,14.1442593 21.4988612,15 L21.8407473,16.0256584 C22.1027189,16.8115733 21.677979,17.6610533 20.892064,17.9230249 C20.7391143,17.9740082 20.5789455,18 20.4177223,18 L16,18 Z M14.5,18 L9.5,18 C9.5,19.3807119 10.6192881,20.5 12,20.5 C13.3807119,20.5 14.5,19.3807119 14.5,18 Z M18.4988612,12.9000459 L18.4988612,9 C18.4988612,5.41014913 15.588712,2.5 11.9988612,2.5 C8.4090103,2.5 5.49886117,5.41014913 5.49886117,9 L5.49886117,12.9000459 C5.49886117,13.3677204 5.28072968,13.8086341 4.90897632,14.0923925 C4.45075225,14.4421538 4.10651903,14.9204429 3.92188612,15.4743416 L3.58,16.5 L20.4177223,16.5 L20.0758362,15.4743416 C19.8912033,14.9204429 19.5469701,14.4421538 19.088746,14.0923925 C18.7169927,13.8086341 18.4988612,13.3677204 18.4988612,12.9000459 Z",id:"Combined-Shape",fill:t?"#666":"#999",fillRule:"nonzero"})))))))};t.DraftBoxSvg=function(){return o.default.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{id:"drafts",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.default.createElement("rect",{fill:"#D8D8D8",opacity:"0",x:"0",y:"0",width:"20",height:"20"}),o.default.createElement("path",{d:"M14.7628029,2.4 C15.5687956,2.4 16.3132221,2.83112002 16.7143547,3.53020292 L17.7515518,5.33780182 C17.9471042,5.67860515 18.05,6.06467698 18.05,6.4575989 L18.05,15.6877047 C18.05,16.7567165 17.1420854,17.6 16.0486238,17.6 L3.9513762,17.6 C2.85791463,17.6 1.95,16.7567165 1.95,15.6877047 L1.95,6.45464182 C1.95,6.06133929 2.05309515,5.67490697 2.24900711,5.33387122 L3.28570464,3.52922939 C3.6869861,2.83069459 4.43110602,2.4 5.23669753,2.4 L14.7628029,2.4 Z M11.5,8.45 L8.5,8.45 C8.19624339,8.45 7.95,8.69624339 7.95,9 C7.95,9.30375661 8.19624339,9.55 8.5,9.55 L11.5,9.55 C11.8037566,9.55 12.05,9.30375661 12.05,9 C12.05,8.69624339 11.8037566,8.45 11.5,8.45 Z M14.7628029,3.9 L5.23669753,3.9 C4.96816703,3.9 4.72012706,4.04356486 4.58636657,4.2764098 L3.596,5.999 L16.401,5.999 L15.4133201,4.27673431 C15.2796093,4.04370667 15.0314671,3.9 14.7628029,3.9 Z",id:"Path",fill:"#575759",fillRule:"nonzero",className:"fill"})))}},"./src/common/components/pc/Login/Dialog.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n("./node_modules/react/index.js")),a=n("./node_modules/byted-dimension-ui/lib/index.js"),i=l(n("./src/common/components/pc/Login/Form.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={borderRadius:"8px"};var r={initLoginDialog:function(){a.Modal.initModal({className:"center-modal",width:"400px",style:c,visible:!0,children:o.default.createElement(i.default,{size:"large"})})}};t.default=r},"./src/common/components/pc/Login/Form.js":function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n("./node_modules/react/index.js")),i=n("./node_modules/byted-dimension-ui/lib/index.js"),l=n("./src/common/utils/account.js"),c=p(n("./node_modules/classnames/index.js")),r=p(n("./node_modules/autobind-decorator/lib/esm/index.js"));n("./src/common/components/pc/Login/Form.css");var s,u=p(n("./src/common/utils/variableCss.js")),d=p(n("./src/common/asset/images/logo/logo_login.png")),f=n("./src/common/components/pc/Login/Third.js"),m=n("./src/common/components/pc/Login/forbiddenAccountDialog.js");function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,n)}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N={},j=i.Form.createForm,k=i.Form.Item,C=function(e){y(n,a.default.Component);var t=E(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).state={},o}return v(n,[{key:"render",value:function(){return a.default.createElement(i.Button,{className:"l-login_extra",padding:"0",onClick:this.props.sendMobileCode,disabled:!this.props.button||this.props.codeTime>0},this.props.codeTime>0?"".concat(this.props.codeTime,"s"):"点击获取")}}]),n}(),O=(function(e,t,n,o,a){var i={};Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((s=function(e){y(n,a.default.Component);var t=E(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).state={buttonShow:!1,mobile:"",codeTime:0},o}return v(n,[{key:"sendMobileCode",value:function(){if(this.state.buttonShow){var e=this.countDown;window.collectEvent("get_verification_click",{get_verification_source:"mobile_login"}),N.login.sendCode({mobile:this.state.mobile,extra_params:{is6Digits:1}}).then(function(){e()}).catch(function(e){console.error(e),1091===e.error_code&&(0,m.initForbiddenAccountDialog)(),e.description&&i.message.error(e.description)})}}},{key:"countDown",value:function(e){var t=this;this.setState({codeTime:e||60});var n=setInterval(function(){var e=t.state.codeTime;e?t.setState({codeTime:--e}):clearInterval(n)},1e3)}},{key:"handleMobileBlur",value:function(){11===this.state.mobile.length&&this.setState({buttonShow:!0})}},{key:"handleInputMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return a.default.createElement("div",null,a.default.createElement(k,null,t("mobile",{initialValue:"",rules:[{required:!0,message:"请填写手机号"}],validateTrigger:"onBlur"})(a.default.createElement(i.Input,{className:"l-login_input",placeholder:"手机号",maxLength:11,onChange:function(t){return e.handleInputMobile(t)},onBlur:function(t){return e.handleMobileBlur(t)}}))),a.default.createElement(k,null,t("code",{initialValue:""})(a.default.createElement(i.Input,{className:"l-login_input",placeholder:"短信验证码",extra:a.default.createElement(C,{sendMobileCode:this.sendMobileCode.bind(this),button:this.state.buttonShow,codeTime:this.state.codeTime})}))))}}]),n}()).prototype,"countDown",[r.default],Object.getOwnPropertyDescriptor(s.prototype,"countDown"),s.prototype),s),L=function(e){y(n,a.default.Component);var t=E(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.default.createElement("div",null,a.default.createElement(k,null,e("account",{initialValue:"",rules:[{required:!0,message:"请填写手机号或邮箱"}],validateTrigger:"onBlur"})(a.default.createElement(i.Input,{className:"l-login_input",placeholder:"请输入手机号或邮箱账号"}))),a.default.createElement(k,null,e("password",{initialValue:""})(a.default.createElement(i.Input,{className:"l-login_input",placeholder:"请输入账户密码",type:"password"}))))}}]),n}(),_=function(e){y(n,a.default.Component);var t=E(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).state={loginType:!0,isLogin:!0},o.handleToggleLogin=o.handleToggleLogin.bind(A(o)),o}return v(n,[{key:"componentDidMount",value:function(){window.collectEvent("enter_login",{}),N=(0,l.getAccountSdk)()}},{key:"changeLoginType",value:function(){var e=this.state.loginType;this.setState({loginType:!e})}},{key:"handleToggleLogin",value:function(){var e=this.state.isLogin,t=document.querySelector(".center-modal .dm-modal-close"),n=0;n=e?10:0,t.style.zIndex=n,this.setState({isLogin:!e})}},{key:"loginin",value:function(e){var t=e.mobile,n=e.code,o=e.account,a=e.password;this.state.loginType?N.login.smsLogin({mobile:t,code:n,login_only:!1}).then(function(){window.collectEvent("login_success",{channel:"mobile"}),location.reload()}).catch(function(e){console.error(e),1091===e.error_code&&(0,m.initForbiddenAccountDialog)(),e.description&&i.message.error(e.description)}):N.login.pwdLogin({account:o,password:a}).then(function(){window.collectEvent("login_success",{channel:"password"}),location.reload()}).catch(function(e){console.error(e),1091===e.error_code&&(0,m.initForbiddenAccountDialog)(),e.description&&i.message.error(e.description)})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),(0,this.props.form.validateFields)(function(e,n){e||t.loginin(n)})}},{key:"loginClick",value:function(){window.collectEvent("login_click",{channel:this.state.loginType?"mobile":"password"})}},{key:"render",value:function(){var e=this,t=this.state.isLogin,n=this.props.size,o=void 0===n?"large":n,l=(0,c.default)("l-login_form",{active:!t,large:"large"===o,small:"small"===o});return a.default.createElement(i.Form,{className:l,onSubmit:this.onSubmit.bind(this),layout:"vertical"},t?a.default.createElement(a.default.Fragment,null,"large"===o?a.default.createElement("img",{className:"logo-login",src:d.default,alt:"半次元--ACG爱好者社区"}):a.default.createElement("p",{className:"l-login_header"},"账号登录"),this.state.loginType?a.default.createElement(O,{ref:function(t){e.login=t},form:this.props.form}):a.default.createElement(L,{ref:function(t){e.login=t},form:this.props.form}),a.default.createElement("div",{className:"_flex login-actions"},a.default.createElement("span",{onClick:this.changeLoginType.bind(this)},this.state.loginType?"账号密码登录":"手机验证码登录"),a.default.createElement("a",{href:"/home/public/sendmobilepassword",target:"_blank"},"忘记密码?")),a.default.createElement(i.Button,{size:"large"===o?"large":"default",width:"100%",style:{backgroundColor:u.default.$P50,borderColor:u.default.$P50},htmlType:"submit",onClick:this.loginClick.bind(this)},"登录"),a.default.createElement("div",{className:"_flex login-third-register"},a.default.createElement("div",{className:"_flex login-third_items"},a.default.createElement("i",{onClick:f.thirdLoginWechat,className:"wechat-s"}),a.default.createElement("span",{className:"wechat-txt",onClick:f.thirdLoginWechat},"微信"),a.default.createElement("i",{onClick:f.thirdLoginSina,className:"sina-s"}),a.default.createElement("span",{className:"sina-txt",onClick:f.thirdLoginSina},"微博"),a.default.createElement("i",{onClick:f.thirdLoginQQ,className:"qq-s"}),a.default.createElement("span",{className:"qq-txt",onClick:f.thirdLoginQQ},"QQ")),a.default.createElement("a",{className:"register",href:"/register",target:"_blank"},"注册账号"))):a.default.createElement("div",{className:"login-logo-weixin-box"},a.default.createElement("img",{src:"https://p3-bcy.bcyimg.com/obj/ttfe/bcy/web/logo-login-weixin.jpg",className:"login-logo-weixin"})))}}]),n}(),D=j()(_);t.default=D},"./src/common/components/pc/Login/Third.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thirdLoginQQ=function(){window.collectEvent("login_click",{channel:"qq"}),(0,o.getAccountSdk)().login.thirdAuth({platform_app_id:342,platform:"qzone_sns",next:"https://bcy.net".concat(location.pathname),use_local_host:1})},t.thirdLoginSina=function(){window.collectEvent("login_click",{channel:"weibo"}),(0,o.getAccountSdk)().login.thirdAuth({platform_app_id:343,platform:"sina_weibo",next:"https://bcy.net".concat(location.pathname),use_local_host:1})},t.thirdLoginWechat=function(){window.collectEvent("login_click",{channel:"wechat"}),(0,o.getAccountSdk)().login.thirdAuth({platform_app_id:375,platform:"weixin",next:"https://bcy.net".concat(location.pathname),use_local_host:1})};var o=n("./src/common/utils/account.js")},"./src/common/components/pc/Login/forbiddenAccountDialog.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initForbiddenAccountDialog=function(){a.Modal.initModal({className:"center-modal",width:"480px",style:r,visible:!0,children:o.default.createElement(c,null)})};var o=l(n("./node_modules/react/index.js")),a=n("./node_modules/byted-dimension-ui/lib/index.js"),i=l(n("./src/common/asset/images/qrcode/zlink.jpg"));function l(e){return e&&e.__esModule?e:{default:e}}n("./src/common/components/pc/Login/forbiddenAccountDialog.css");var c=function(){return o.default.createElement("div",{className:"forbiddenAccountDialog"},o.default.createElement("h2",{className:"forbiddenAccountDialog-title"},"登录失败"),o.default.createElement("p",{className:"desc"},"你的帐号被限制登录，请前往App端申诉 ",o.default.createElement("br",null),"可扫描下方二维码下载"),o.default.createElement("img",{src:i.default,className:"download-app-img"}))},r={borderRadius:"4px"}},"./src/common/reducer/layout.js":function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){a(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={uid:0,tea:{},area:{}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERINFO":return o(o({},t.data),{},{tea:e.tea});case"ADD_TEA_PARAM":return o(o({},e),{},{tea:t.data});default:return e}};t.default=l},"./src/common/utils/account.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountSdk=function(){if(i)return i;return i=new o.WebInterfaceSdk({aid:1305,region:"cn",isBoe:!(0,a.isProd)(),isOversea:!1,appName:"bcy_web"})};var o=n("./node_modules/@byted-sdk/account-api/dist/account-api.esm.js"),a=n("./src/common/utils/index.js"),i=null},"./src/common/utils/variableCss.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={$P50:"#fa4b8b",$B60:"#366cd9",$R50:"#fa5757",$G50:"#22c93e",$K80:"#252526",$K70:"#575759",$K60:"#a1a1a6",$K50:"#dadae0",$K40:"#e9e9f0",$K30:"#f5f5fa",$K35:"#ebeced",$BG20:"#f0f4fa",$borderColor:"#e0e0e0"};t.default=n},"./src/common/components/pc/Avatar/style.css":function(e,t,n){"use strict";n.r(t)},"./src/common/components/pc/Login/Form.css":function(e,t,n){"use strict";n.r(t)},"./src/common/components/pc/Login/forbiddenAccountDialog.css":function(e,t,n){"use strict";n.r(t)},"./src/pages/pc/common.css":function(e,t,n){"use strict";n.r(t)},"./src/common/asset/images/default_avatar.png":function(e){e.exports="data:image/png;base64,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"},"./src/common/asset/images/empty/topic.png":function(e,t,n){"use strict";n.r(t),t.default="https://lf1-cdn2-tos.bytegoofy.com/bcy/image/topic.3291bf.png"},"./src/common/asset/images/logo/logo_login.png":function(e,t,n){"use strict";n.r(t),t.default="https://lf1-cdn2-tos.bytegoofy.com/bcy/image/logo_login.430fe5.png"},"./src/common/asset/images/post/article-post.png":function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAARVBMVEUAAAD6rTD6rC/8rzH7rjL2qi/6qy/7rjH6rC/80Yz7yXn6rjT8zoX6tkn6uVD80In7zH77xnD7wWT6sj77xGz6sTv7vluPQmV9AAAACHRSTlMAZt5ZQhvrjU1b8gYAAADpSURBVEjH7dXJEsIgDIBhu6hhLdDl/R/VICrtgQzpjDM98J+4fAbSg7dW69vYQ6l+pCC6sqQgUF0PSvFLHmDXdcOdgGJXEsZLFWGUjIlqEcKliVj9G1eHv2D4cNboNqiBcr8YFectUAUPi/F40MGv3Ik2nbVivlHpBA0wYUjOQhWU+QtO8TgZqIN5NVt6oJ6ZE5XOq2G9EVfKuWrOvZ2fgQlNZA7HceGCt7QAbIjfws3AgXk10fGhFwFYMN90PQWt8HAKBmHPQROAD3P/hz3hHhQc+7J7JkjUFbogHAg3UPBelvj/2Gp9egEBOSF8OsSejgAAAABJRU5ErkJggg=="},"./src/common/asset/images/post/group-post.png":function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAkFBMVEUAAABJjO5JjO1Jju9LlPRJjO5NkvNIjO5JjO1Ji+5VpPpJjO5JjO1JjO5KjO5JjO5Lje5Lju9qlf9Li+1Jje1Jje1Nj+9JjO1KjO1JjO1KjO5JjO5Ije5LkO5Ij+9PjO9Ji+1KjO9HjO1Ni/BIi+2av/Vim+9Uk+6Ot/NMje6Uu/SJs/N1p/GPuPOArvJ/rvL4Td6/AAAAJHRSTlMAZvJhF+ELwPaWBvnIs5JKRjwHgnRXKufZ2JtbLi0gE+4fgSEbMP8oAAABVElEQVRIx+3TyVLDMAyA4diOs+9p0r1QEE034P3fDnBw2xRZCcOBS/5bD99I7ijW2Nj/F2S+O+N85vpZ8Atm+xwucd8eyIpSM03LYtC4CH4UDRi6loAk173zlENkz8wiAkMR/c4SjJXkotwMObWsD0Q+cS+cgjwwwgzIMmJTstgxQZeGc7ExwBkNp4wZDojT0GOM4TO9fijQd8q+VT/LMRjRcM6+wkYmNHQVrBFYQdvupdMO2hIFUwQ6nIIeU1UW0gJUh/2t23c2ZQKD2xBUzeuNa0AVTjQkRsLhTbv3g75U1rbsudbmfDoeT+dG/5bsuxRzDyEYepxouMKgMLon7USAwdjgZDvPeHKOunIe3y0cxuyabXiiTLLA2i74lXluO456olXXenaVRFOPy7mbsG6pNaiNYPcVw6STX4TIn/Pl9bPqp3VaCbFMV4H6G2xrbOyPfQBb3nOcbPZhjgAAAABJRU5ErkJggg=="},"./src/common/asset/images/post/note-post.png":function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAdVBMVEUAAAB2yEF2yUB2ykJ4yEWA0FB3yUJ3ykJ4yUJ3yUN2ykJ6yER3y0d9yEZ3yUJ2yEN5y0X///92yD91yEJ2yEJ7zkJ2ykF1yUCz4ZaW1m6t342g2nyl3IOT1WqDzlN9zEuu34+a13SO0mOI0Fp6y0eq3Yma13NU+B35AAAAF3RSTlMAZuNIFAhWQDRRLSIaDE06JwHuX1wfkVo4AEIAAAEGSURBVEjH7dHbjoIwEIBhobQcFVh1mRYUT7vv/4gLzaKBaTuGxMRE/otezZdO2tXS0rvF10GWFkkUsk28CVyTpR5NorwbFTtv1K40Gx7GYuu54mYYelSWXQUJMzOMSbhHhvmVs69vDQsEkUNSwwTBikzDaC7M58LQDKVS0g2ZEUrokk4YG6HqoXJCMRdu567qlc88Tl1jyBHEnQHOCK5peIWu6xQGJLydeni6TeDeAeum7U/Q1ROY2qEEaKrqAv9dxjCxwiN0/bZwrx3ByAp/oE89YDOCuQ1KQB3oG/WiuOMDCm6BDWbDyxZpFgzfj+EBwLYrIgN09BLoU863QOYTjq2Wlj6rP/GqVBQ6EojHAAAAAElFTkSuQmCC"},"./src/common/asset/images/post/video-post.png":function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAAMFBMVEUAAAD/aW7/am//anD/bHD/a3L/aW//paj/lJj/fIH/n6L/mp7/jpP/h4z/dHr/b3U57ICnAAAABnRSTlMAZuNgSSYHf9E7AAAAZUlEQVQ4y2MYBQMLggWRgCmapCGypDCapCAKoJIki1oaCkhyQJJkSkMDCkiSbOiSCUNAsnsaHsnyimd4JMtrvuGRLK/FJ1m+Ep9kFbk6a/G6ljx/dk8bZFFGhiRmusWf4kcBxQAAyuvAN+S9kwMAAAAASUVORK5CYII="},"./src/common/asset/images/qrcode/zlink.jpg":function(e,t,n){"use strict";n.r(t),t.default="https://lf1-cdn2-tos.bytegoofy.com/bcy/image/zlink.4b3689.jpg"}}]);
//# sourceMappingURL=src_common_components_pc_Avatar_index_js-src_common_reducer_layout_js-src_pages_pc_common_css-14bfa8.4d92f2cc3d04a52474c3.js.map
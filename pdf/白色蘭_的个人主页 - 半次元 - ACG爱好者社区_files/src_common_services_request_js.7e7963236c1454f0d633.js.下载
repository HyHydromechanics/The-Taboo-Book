"use strict";(self.webpackChunkfe_banciyuan_web=self.webpackChunkfe_banciyuan_web||[]).push([["src_common_services_request_js"],{"./src/common/services/request.js":function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("./node_modules/isomorphic-fetch/fetch-npm-browserify.js");var t=o("./node_modules/byted-dimension-ui/lib/index.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(o("./src/common/utils/cookie.js"));function c(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function i(e){var n="";return Object.keys(e).forEach(function(o){n="".concat(n).concat(o,"=").concat(e[o],"&")}),n.slice(0,n.length-1)}function a(e,n){var o=Object.assign({},e,{_csrf_token:r.default.getCookie("_csrf_token")});return n["Content-Type"]&&n["Content-Type"].indexOf("application/x-www-form-urlencoded")>=0?i(o):JSON.stringify(o)}var s={"X-Requested-With":"XMLHttpRequest"},u=new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,n,o){n&&c(e.prototype,n),o&&c(e,o)}(e,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=i(n),r={url:encodeURI("".concat(e,"?").concat(t))};return fetch(r.url,{credentials:"same-origin",headers:Object.assign(s,o)}).then(function(e){return e.json()},function(e){return e})}},{key:"post",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=a(n,o),i={body:Object.assign({},n,{_csrf_token:r.default.getCookie("_csrf_token")}),url:encodeURI(e)};return fetch(i.url,{method:"POST",credentials:"same-origin",headers:Object.assign(s,{Accept:"application/json;charset=UTF-8","Content-Type":"application/json;charset=UTF-8"},o),body:c}).then(function(e){return e.json()},function(e){return e}).then(function(e){return 401===e.code&&(t.message.error(e.msg),location.reload()),100016===e.code&&(console.log("window.TTGCaptcha",window.TTGCaptcha),window&&window.TTGCaptcha&&window.TTGCaptcha.render({verify_data:e.bcyResp.decisionConf})),e})}},{key:"crossSitePost",value:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a(n,o),c={body:n,url:encodeURI(e)};return fetch(c.url,{method:"POST",headers:o,body:r,timeout:300,mode:"cors"}).then(function(e){return e.json()},function(e){return e}).then(function(e){return 401===e.code&&(t.message.error(e.msg),location.reload()),e})}}]),e}());n.default=u},"./src/common/utils/cookie.js":function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={getCookie:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setCookie:function(e,n){if(!e)return null;var o=new Date;o.setTime(o.getTime()+15552e6);var t=e+"="+n;t=t+";path=/;domain=."+window.location.host+";expires="+o.toGMTString(),document.cookie=t}};n.default=o}}]);
//# sourceMappingURL=src_common_services_request_js.7e7963236c1454f0d633.js.map